"use strict";var Uw=Object.defineProperty,Bw=Object.defineProperties,Vw=Object.getOwnPropertyDescriptors,hw=Object.getOwnPropertySymbols,jw=Object.prototype.hasOwnProperty,Hw=Object.prototype.propertyIsEnumerable,fw=($e,pe,P)=>pe in $e?Uw($e,pe,{enumerable:!0,configurable:!0,writable:!0,value:P}):$e[pe]=P,pw=($e,pe)=>{for(var P in pe||(pe={}))jw.call(pe,P)&&fw($e,P,pe[P]);if(hw)for(var P of hw(pe))Hw.call(pe,P)&&fw($e,P,pe[P]);return $e},gw=($e,pe)=>Bw($e,Vw(pe));(self.webpackChunkweblog=self.webpackChunkweblog||[]).push([[179],{2011:($e,pe,P)=>{P.d(pe,{hO:()=>Fe,xv:()=>le,Dh:()=>ie,GT:()=>de,cc:()=>De,on:()=>H,pX:()=>ne});var g=P(5e3),Q=P(127),x=P(5813);$e=P.hmd($e);const oe=["ngOnDestroy"],ne=(Ce,Le,je,Ie={})=>new Proxy(Ce,{get:(me,ve)=>je.runOutsideAngular(()=>{var Ne;if(Ce[ve])return(null===(Ne=null==Ie?void 0:Ie.spy)||void 0===Ne?void 0:Ne.get)&&Ie.spy.get(ve,Ce[ve]),Ce[ve];if(oe.indexOf(ve)>-1)return()=>{};const ke=Le.toPromise().then(B=>{const ge=B&&B[ve];return"function"==typeof ge?ge.bind(B):ge&&ge.then?ge.then(Z=>je.run(()=>Z)):je.run(()=>ge)});return new Proxy(()=>{},{get:(B,ge)=>ke[ge],apply:(B,ge,Z)=>ke.then(re=>{var X;const fe=re&&re(...Z);return(null===(X=null==Ie?void 0:Ie.spy)||void 0===X?void 0:X.apply)&&Ie.spy.apply(ve,Z,fe),fe})})})}),de=(Ce,Le)=>{Le.forEach(je=>{Object.getOwnPropertyNames(je.prototype||je).forEach(Ie=>{Object.defineProperty(Ce.prototype,Ie,Object.getOwnPropertyDescriptor(je.prototype||je,Ie))})})};class ae{constructor(Le){return Le}}const ie=new g.OlP("angularfire2.app.options"),le=new g.OlP("angularfire2.app.name");function H(Ce,Le,je){const me="object"==typeof je&&je||{};me.name=me.name||"string"==typeof je&&je||"[DEFAULT]";const Ne=Q.Z.apps.filter(ke=>ke&&ke.name===me.name)[0]||Le.runOutsideAngular(()=>Q.Z.initializeApp(Ce,me));try{JSON.stringify(Ce)!==JSON.stringify(Ne.options)&&V("error",`${Ne.name} Firebase App already initialized with different options${$e.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ke){}return new ae(Ne)}const V=(Ce,...Le)=>{(0,g.X6Q)()&&"undefined"!=typeof console&&console[Ce](...Le)},ee={provide:ae,useFactory:H,deps:[ie,g.R0b,[new g.FiY,le]]};let Fe=(()=>{class Ce{constructor(je){Q.Z.registerVersion("angularfire",x.q4.full,"core"),Q.Z.registerVersion("angularfire",x.q4.full,"app-compat"),Q.Z.registerVersion("angular",g.q4F.full,je.toString())}static initializeApp(je,Ie){return{ngModule:Ce,providers:[{provide:ie,useValue:je},{provide:le,useValue:Ie}]}}}return Ce.\u0275fac=function(je){return new(je||Ce)(g.LFG(g.Lbi))},Ce.\u0275mod=g.oAB({type:Ce}),Ce.\u0275inj=g.cJS({providers:[ee]}),Ce})();function De(Ce,Le,je,Ie,me){const[,ve,Ne]=globalThis.\u0275AngularfireInstanceCache.find(ke=>ke[0]===Ce)||[];if(ve)return function Ae(Ce,Le){try{return Ce.toString()===Le.toString()}catch(je){return Ce===Le}}(me,Ne)||(ue("error",`${Le} was already initialized on the ${je} Firebase App with different settings.${xe?" You may need to reload as Firebase is not HMR aware.":""}`),ue("warn",{is:me,was:Ne})),ve;{const ke=Ie();return globalThis.\u0275AngularfireInstanceCache.push([Ce,ke,me]),ke}}const xe=!!$e.hot,ue=(Ce,...Le)=>{(0,g.X6Q)()&&"undefined"!=typeof console&&console[Ce](...Le)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:($e,pe,P)=>{P.d(pe,{q4:()=>_s,iC:()=>lo,HU:()=>Ru,vb:()=>Su,JM:()=>fh});var g=P(5e3),Q=P(5867),x=P(5861),oe=P(9681),ne=P(2090),de=P(4859),ae=P(1877),ie=P(8766);const le="@firebase/installations",H="0.5.9",ee=`w:${H}`,Fe="FIS_v2",Le=new ne.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function je(I){return I instanceof ne.ZR&&I.code.includes("request-failed")}function Ie({projectId:I}){return`https://firebaseinstallations.googleapis.com/v1/projects/${I}/installations`}function me(I){return{token:I.token,requestStatus:2,expiresIn:re(I.expiresIn),creationTime:Date.now()}}function ve(I,w){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,x.Z)(function*(I,w){const F=(yield w.json()).error;return Le.create("request-failed",{requestName:I,serverCode:F.code,serverMessage:F.message,serverStatus:F.status})})).apply(this,arguments)}function ke({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function B(I,{refreshToken:w}){const S=ke(I);return S.append("Authorization",function X(I){return`${Fe} ${I}`}(w)),S}function ge(I){return Z.apply(this,arguments)}function Z(){return(Z=(0,x.Z)(function*(I){const w=yield I();return w.status>=500&&w.status<600?I():w})).apply(this,arguments)}function re(I){return Number(I.replace("s","000"))}function fe(I,w){return se.apply(this,arguments)}function se(){return(se=(0,x.Z)(function*({appConfig:I,heartbeatServiceProvider:w},{fid:S}){const F=Ie(I),K=ke(I),te=w.getImmediate({optional:!0});if(te){const Qe=yield te.getHeartbeatsHeader();Qe&&K.append("x-firebase-client",Qe)}const Me={method:"POST",headers:K,body:JSON.stringify({fid:S,authVersion:Fe,appId:I.appId,sdkVersion:ee})},ut=yield ge(()=>fetch(F,Me));if(ut.ok){const Qe=yield ut.json();return{fid:Qe.fid||S,registrationStatus:2,refreshToken:Qe.refreshToken,authToken:me(Qe.authToken)}}throw yield ve("Create Installation",ut)})).apply(this,arguments)}function Se(I){return new Promise(w=>{setTimeout(w,I)})}const It=/^[cdef][\w-]{21}$/;function He(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const S=function Pt(I){return function qe(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return It.test(S)?S:""}catch(I){return""}}function rn(I){return`${I.appName}!${I.appId}`}const Ot=new Map;function Rt(I,w){const S=rn(I);_t(S,w),function Hr(I,w){const S=function Ln(){return!dr&&"BroadcastChannel"in self&&(dr=new BroadcastChannel("[Firebase] FID Change"),dr.onmessage=I=>{_t(I.data.key,I.data.fid)}),dr}();S&&S.postMessage({key:I,fid:w}),function Zn(){0===Ot.size&&dr&&(dr.close(),dr=null)}()}(S,w)}function _t(I,w){const S=Ot.get(I);if(S)for(const F of S)F(w)}let dr=null;const er="firebase-installations-store";let Wr=null;function et(){return Wr||(Wr=(0,ie.X3)("firebase-installations-database",1,{upgrade:(I,w)=>{0===w&&I.createObjectStore(er)}})),Wr}function hr(I,w){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,x.Z)(function*(I,w){const S=rn(I),K=(yield et()).transaction(er,"readwrite"),te=K.objectStore(er),he=yield te.get(S);return yield te.put(w,S),yield K.done,(!he||he.fid!==w.fid)&&Rt(I,w.fid),w})).apply(this,arguments)}function sn(I){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,x.Z)(function*(I){const w=rn(I),F=(yield et()).transaction(er,"readwrite");yield F.objectStore(er).delete(w),yield F.done})).apply(this,arguments)}function tr(I,w){return En.apply(this,arguments)}function En(){return(En=(0,x.Z)(function*(I,w){const S=rn(I),K=(yield et()).transaction(er,"readwrite"),te=K.objectStore(er),he=yield te.get(S),Me=w(he);return void 0===Me?yield te.delete(S):yield te.put(Me,S),yield K.done,Me&&(!he||he.fid!==Me.fid)&&Rt(I,Me.fid),Me})).apply(this,arguments)}function on(I){return fr.apply(this,arguments)}function fr(){return(fr=(0,x.Z)(function*(I){let w;const S=yield tr(I.appConfig,F=>{const K=es(F),te=wt(I,K);return w=te.registrationPromise,te.installationEntry});return""===S.fid?{installationEntry:yield w}:{installationEntry:S,registrationPromise:w}})).apply(this,arguments)}function es(I){return ts(I||{fid:He(),registrationStatus:0})}function wt(I,w){if(0===w.registrationStatus){if(!navigator.onLine)return{installationEntry:w,registrationPromise:Promise.reject(Le.create("app-offline"))};const S={fid:w.fid,registrationStatus:1,registrationTime:Date.now()},F=function Ze(I,w){return it.apply(this,arguments)}(I,S);return{installationEntry:S,registrationPromise:F}}return 1===w.registrationStatus?{installationEntry:w,registrationPromise:Un(I)}:{installationEntry:w}}function it(){return(it=(0,x.Z)(function*(I,w){try{const S=yield fe(I,w);return hr(I.appConfig,S)}catch(S){throw je(S)&&409===S.customData.serverCode?yield sn(I.appConfig):yield hr(I.appConfig,{fid:w.fid,registrationStatus:0}),S}})).apply(this,arguments)}function Un(I){return pr.apply(this,arguments)}function pr(){return(pr=(0,x.Z)(function*(I){let w=yield yt(I.appConfig);for(;1===w.registrationStatus;)yield Se(100),w=yield yt(I.appConfig);if(0===w.registrationStatus){const{installationEntry:S,registrationPromise:F}=yield on(I);return F||S}return w})).apply(this,arguments)}function yt(I){return tr(I,w=>{if(!w)throw Le.create("installation-not-found");return ts(w)})}function ts(I){return function Bn(I){return 1===I.registrationStatus&&I.registrationTime+1e4<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function Vn(I,w){return L.apply(this,arguments)}function L(){return(L=(0,x.Z)(function*({appConfig:I,heartbeatServiceProvider:w},S){const F=W(I,S),K=B(I,S),te=w.getImmediate({optional:!0});if(te){const Qe=yield te.getHeartbeatsHeader();Qe&&K.append("x-firebase-client",Qe)}const Me={method:"POST",headers:K,body:JSON.stringify({installation:{sdkVersion:ee,appId:I.appId}})},ut=yield ge(()=>fetch(F,Me));if(ut.ok)return me(yield ut.json());throw yield ve("Generate Auth Token",ut)})).apply(this,arguments)}function W(I,{fid:w}){return`${Ie(I)}/${w}/authTokens:generate`}function G(I){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,x.Z)(function*(I,w=!1){let S;const F=yield tr(I.appConfig,te=>{if(!lt(te))throw Le.create("not-registered");const he=te.authToken;if(!w&&Bt(he))return te;if(1===he.requestStatus)return S=$(I,w),te;{if(!navigator.onLine)throw Le.create("app-offline");const Me=mn(te);return S=We(I,Me),Me}});return S?yield S:F.authToken})).apply(this,arguments)}function $(I,w){return Y.apply(this,arguments)}function Y(){return(Y=(0,x.Z)(function*(I,w){let S=yield Te(I.appConfig);for(;1===S.authToken.requestStatus;)yield Se(100),S=yield Te(I.appConfig);const F=S.authToken;return 0===F.requestStatus?G(I,w):F})).apply(this,arguments)}function Te(I){return tr(I,w=>{if(!lt(w))throw Le.create("not-registered");return function Kn(I){return 1===I.requestStatus&&I.requestTime+1e4<Date.now()}(w.authToken)?Object.assign(Object.assign({},w),{authToken:{requestStatus:0}}):w})}function We(I,w){return Je.apply(this,arguments)}function Je(){return(Je=(0,x.Z)(function*(I,w){try{const S=yield Vn(I,w),F=Object.assign(Object.assign({},w),{authToken:S});return yield hr(I.appConfig,F),S}catch(S){if(!je(S)||401!==S.customData.serverCode&&404!==S.customData.serverCode){const F=Object.assign(Object.assign({},w),{authToken:{requestStatus:0}});yield hr(I.appConfig,F)}else yield sn(I.appConfig);throw S}})).apply(this,arguments)}function lt(I){return void 0!==I&&2===I.registrationStatus}function Bt(I){return 2===I.requestStatus&&!function st(I){const w=Date.now();return w<I.creationTime||I.creationTime+I.expiresIn<w+36e5}(I)}function mn(I){const w={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:w})}function bo(){return(bo=(0,x.Z)(function*(I){const w=I,{installationEntry:S,registrationPromise:F}=yield on(w);return F?F.catch(console.error):G(w).catch(console.error),S.fid})).apply(this,arguments)}function To(){return(To=(0,x.Z)(function*(I,w=!1){const S=I;return yield _n(S),(yield G(S,w)).token})).apply(this,arguments)}function _n(I){return qn.apply(this,arguments)}function qn(){return(qn=(0,x.Z)(function*(I){const{registrationPromise:w}=yield on(I);w&&(yield w)})).apply(this,arguments)}function Vs(I){return Le.create("missing-app-config-values",{valueName:I})}const rr="installations",Ke=I=>{const w=I.getProvider("app").getImmediate(),S=function An(I){if(!I||!I.options)throw Vs("App Configuration");if(!I.name)throw Vs("App Name");const w=["projectId","apiKey","appId"];for(const S of w)if(!I.options[S])throw Vs(S);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(w);return{app:w,appConfig:S,heartbeatServiceProvider:(0,oe._getProvider)(w,"heartbeat"),_delete:()=>Promise.resolve()}},Nt=I=>{const w=I.getProvider("app").getImmediate(),S=(0,oe._getProvider)(w,rr).getImmediate();return{getId:()=>function _a(I){return bo.apply(this,arguments)}(S),getToken:K=>function ya(I){return To.apply(this,arguments)}(S,K)}};(function ir(){(0,oe._registerComponent)(new de.wA(rr,Ke,"PUBLIC")),(0,oe._registerComponent)(new de.wA("installations-internal",Nt,"PRIVATE"))})(),(0,oe.registerVersion)(le,H),(0,oe.registerVersion)(le,H,"esm2017");const Gr="@firebase/remote-config",an=new ne.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class nh{constructor(w,S,F,K){this.client=w,this.storage=S,this.storageCache=F,this.logger=K}isCachedDataFresh(w,S){if(!S)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const F=Date.now()-S,K=F<=w;return this.logger.debug(`Config fetch cache check. Cache age millis: ${F}. Cache max age millis (minimumFetchIntervalMillis setting): ${w}. Is cache hit: ${K}.`),K}fetch(w){var S=this;return(0,x.Z)(function*(){const[F,K]=yield Promise.all([S.storage.getLastSuccessfulFetchTimestampMillis(),S.storage.getLastSuccessfulFetchResponse()]);if(K&&S.isCachedDataFresh(w.cacheMaxAgeMillis,F))return K;w.eTag=K&&K.eTag;const te=yield S.client.fetch(w),he=[S.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===te.status&&he.push(S.storage.setLastSuccessfulFetchResponse(te)),yield Promise.all(he),te})()}}function au(I=navigator){return I.languages&&I.languages[0]||I.language}class jn{constructor(w,S,F,K,te,he){this.firebaseInstallations=w,this.sdkVersion=S,this.namespace=F,this.projectId=K,this.apiKey=te,this.appId=he}fetch(w){var S=this;return(0,x.Z)(function*(){const[F,K]=yield Promise.all([S.firebaseInstallations.getId(),S.firebaseInstallations.getToken()]),he=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${S.projectId}/namespaces/${S.namespace}:fetch?key=${S.apiKey}`,Me={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":w.eTag||"*"},ut={sdk_version:S.sdkVersion,app_instance_id:F,app_instance_id_token:K,app_id:S.appId,language_code:au()},Qe={method:"POST",headers:Me,body:JSON.stringify(ut)},Et=fetch(he,Qe),ot=new Promise((Dr,br)=>{w.signal.addEventListener(()=>{const Ua=new Error("The operation was aborted.");Ua.name="AbortError",br(Ua)})});let $n;try{yield Promise.race([Et,ot]),$n=yield Et}catch(Dr){let br="fetch-client-network";throw"AbortError"===Dr.name&&(br="fetch-timeout"),an.create(br,{originalErrorMessage:Dr.message})}let Tn=$n.status;const _i=$n.headers.get("ETag")||void 0;let ar,wr;if(200===$n.status){let Dr;try{Dr=yield $n.json()}catch(br){throw an.create("fetch-client-parse",{originalErrorMessage:br.message})}ar=Dr.entries,wr=Dr.state}if("INSTANCE_STATE_UNSPECIFIED"===wr?Tn=500:"NO_CHANGE"===wr?Tn=304:("NO_TEMPLATE"===wr||"EMPTY_CONFIG"===wr)&&(ar={}),304!==Tn&&200!==Tn)throw an.create("fetch-status",{httpStatus:Tn});return{status:Tn,eTag:_i,config:ar}})()}}class rh{constructor(w,S){this.client=w,this.storage=S}fetch(w){var S=this;return(0,x.Z)(function*(){const F=(yield S.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return S.attemptFetch(w,F)})()}attemptFetch(w,{throttleEndTimeMillis:S,backoffCount:F}){var K=this;return(0,x.Z)(function*(){yield function Pi(I,w){return new Promise((S,F)=>{const K=Math.max(w-Date.now(),0),te=setTimeout(S,K);I.addEventListener(()=>{clearTimeout(te),F(an.create("fetch-throttle",{throttleEndTimeMillis:w}))})})}(w.signal,S);try{const te=yield K.client.fetch(w);return yield K.storage.deleteThrottleMetadata(),te}catch(te){if(!function lu(I){if(!(I instanceof ne.ZR&&I.customData))return!1;const w=Number(I.customData.httpStatus);return 429===w||500===w||503===w||504===w}(te))throw te;const he={throttleEndTimeMillis:Date.now()+(0,ne.$s)(F),backoffCount:F+1};return yield K.storage.setThrottleMetadata(he),K.attemptFetch(w,he)}})()}}class uu{constructor(w,S,F,K,te){this.app=w,this._client=S,this._storageCache=F,this._storage=K,this._logger=te,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function cl(I,w){const S=I.target.error||void 0;return an.create(w,{originalErrorMessage:S&&S.message})}const xi="app_namespace_store";class oh{constructor(w,S,F,K=function sh(){return new Promise((I,w)=>{try{const S=indexedDB.open("firebase_remote_config",1);S.onerror=F=>{w(cl(F,"storage-open"))},S.onsuccess=F=>{I(F.target.result)},S.onupgradeneeded=F=>{0===F.oldVersion&&F.target.result.createObjectStore(xi,{keyPath:"compositeKey"})}}catch(S){w(an.create("storage-open",{originalErrorMessage:S}))}})}()){this.appId=w,this.appName=S,this.namespace=F,this.openDbPromise=K}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(w){return this.set("last_fetch_status",w)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(w){return this.set("last_successful_fetch_timestamp_millis",w)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(w){return this.set("last_successful_fetch_response",w)}getActiveConfig(){return this.get("active_config")}setActiveConfig(w){return this.set("active_config",w)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(w){return this.set("active_config_etag",w)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(w){return this.set("throttle_metadata",w)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(w){var S=this;return(0,x.Z)(function*(){const F=yield S.openDbPromise;return new Promise((K,te)=>{const Me=F.transaction([xi],"readonly").objectStore(xi),ut=S.createCompositeKey(w);try{const Qe=Me.get(ut);Qe.onerror=Et=>{te(cl(Et,"storage-get"))},Qe.onsuccess=Et=>{const ot=Et.target.result;K(ot?ot.value:void 0)}}catch(Qe){te(an.create("storage-get",{originalErrorMessage:Qe&&Qe.message}))}})})()}set(w,S){var F=this;return(0,x.Z)(function*(){const K=yield F.openDbPromise;return new Promise((te,he)=>{const ut=K.transaction([xi],"readwrite").objectStore(xi),Qe=F.createCompositeKey(w);try{const Et=ut.put({compositeKey:Qe,value:S});Et.onerror=ot=>{he(cl(ot,"storage-set"))},Et.onsuccess=()=>{te()}}catch(Et){he(an.create("storage-set",{originalErrorMessage:Et&&Et.message}))}})})()}delete(w){var S=this;return(0,x.Z)(function*(){const F=yield S.openDbPromise;return new Promise((K,te)=>{const Me=F.transaction([xi],"readwrite").objectStore(xi),ut=S.createCompositeKey(w);try{const Qe=Me.delete(ut);Qe.onerror=Et=>{te(cl(Et,"storage-delete"))},Qe.onsuccess=()=>{K()}}catch(Qe){te(an.create("storage-delete",{originalErrorMessage:Qe&&Qe.message}))}})})()}createCompositeKey(w){return[this.appId,this.appName,this.namespace,w].join()}}class du{constructor(w){this.storage=w}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var w=this;return(0,x.Z)(function*(){const S=w.storage.getLastFetchStatus(),F=w.storage.getLastSuccessfulFetchTimestampMillis(),K=w.storage.getActiveConfig(),te=yield S;te&&(w.lastFetchStatus=te);const he=yield F;he&&(w.lastSuccessfulFetchTimestampMillis=he);const Me=yield K;Me&&(w.activeConfig=Me)})()}setLastFetchStatus(w){return this.lastFetchStatus=w,this.storage.setLastFetchStatus(w)}setLastSuccessfulFetchTimestampMillis(w){return this.lastSuccessfulFetchTimestampMillis=w,this.storage.setLastSuccessfulFetchTimestampMillis(w)}setActiveConfig(w){return this.activeConfig=w,this.storage.setActiveConfig(w)}}function Ia(){return hu.apply(this,arguments)}function hu(){return(hu=(0,x.Z)(function*(){if(!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch(I){return!1}})).apply(this,arguments)}!function js(){(0,oe._registerComponent)(new de.wA("remote-config",function I(w,{instanceIdentifier:S}){const F=w.getProvider("app").getImmediate(),K=w.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw an.create("registration-window");if(!(0,ne.hl)())throw an.create("indexed-db-unavailable");const{projectId:te,apiKey:he,appId:Me}=F.options;if(!te)throw an.create("registration-project-id");if(!he)throw an.create("registration-api-key");if(!Me)throw an.create("registration-app-id");const ut=new oh(Me,F.name,S=S||"firebase"),Qe=new du(ut),Et=new ae.Yd(Gr);Et.logLevel=ae.in.ERROR;const ot=new jn(K,oe.SDK_VERSION,S,te,he,Me),$n=new rh(ot,ut),Tn=new nh($n,ut,Qe,Et),_i=new uu(F,Tn,Qe,ut,Et);return function kt(I){const w=(0,ne.m9)(I);w._initializePromise||(w._initializePromise=w._storageCache.loadFromStorage().then(()=>{w._isInitializationComplete=!0}))}(_i),_i},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(Gr,"0.3.8"),(0,oe.registerVersion)(Gr,"0.3.8","esm2017")}();const fu="/firebase-messaging-sw.js",Hn="/firebase-cloud-messaging-push-scope",is="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Hs="google.c.a.c_id",pu="google.c.a.c_l",Pc="google.c.a.ts",gu="google.c.a.e";var $s=(()=>{return(I=$s||($s={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",$s;var I})();function Yn(I){const w=new Uint8Array(I);return btoa(String.fromCharCode(...w)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function mu(I){const S=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),F=atob(S),K=new Uint8Array(F.length);for(let te=0;te<F.length;++te)K[te]=F.charCodeAt(te);return K}const Qn="fcm_token_details_db",gr="fcm_token_object_Store";function dl(I){return _u.apply(this,arguments)}function _u(){return _u=(0,x.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(te=>te.name).includes(Qn))return null;let w=null;return(yield(0,ie.X3)(Qn,5,{upgrade:(F=(0,x.Z)(function*(K,te,he,Me){var ut;if(te<2||!K.objectStoreNames.contains(gr))return;const Qe=Me.objectStore(gr),Et=yield Qe.index("fcmSenderId").get(I);if(yield Qe.clear(),Et)if(2===te){const ot=Et;if(!ot.auth||!ot.p256dh||!ot.endpoint)return;w={token:ot.fcmToken,createTime:null!==(ut=ot.createTime)&&void 0!==ut?ut:Date.now(),subscriptionOptions:{auth:ot.auth,p256dh:ot.p256dh,endpoint:ot.endpoint,swScope:ot.swScope,vapidKey:"string"==typeof ot.vapidKey?ot.vapidKey:Yn(ot.vapidKey)}}}else if(3===te){const ot=Et;w={token:ot.fcmToken,createTime:ot.createTime,subscriptionOptions:{auth:Yn(ot.auth),p256dh:Yn(ot.p256dh),endpoint:ot.endpoint,swScope:ot.swScope,vapidKey:Yn(ot.vapidKey)}}}else if(4===te){const ot=Et;w={token:ot.fcmToken,createTime:ot.createTime,subscriptionOptions:{auth:Yn(ot.auth),p256dh:Yn(ot.p256dh),endpoint:ot.endpoint,swScope:ot.swScope,vapidKey:Yn(ot.vapidKey)}}}}),function(te,he,Me,ut){return F.apply(this,arguments)})})).close(),yield(0,ie.Lj)(Qn),yield(0,ie.Lj)("fcm_vapid_details_db"),yield(0,ie.Lj)("undefined"),hl(w)?w:null;var F}),_u.apply(this,arguments)}function hl(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:w}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof w.auth&&w.auth.length>0&&"string"==typeof w.p256dh&&w.p256dh.length>0&&"string"==typeof w.endpoint&&w.endpoint.length>0&&"string"==typeof w.swScope&&w.swScope.length>0&&"string"==typeof w.vapidKey&&w.vapidKey.length>0}const Qr="firebase-messaging-store";let xc=null;function Ft(){return xc||(xc=(0,ie.X3)("firebase-messaging-database",1,{upgrade:(I,w)=>{0===w&&I.createObjectStore(Qr)}})),xc}function xo(I){return os.apply(this,arguments)}function os(){return(os=(0,x.Z)(function*(I){const w=Rn(I),F=yield(yield Ft()).transaction(Qr).objectStore(Qr).get(w);if(F)return F;{const K=yield dl(I.appConfig.senderId);if(K)return yield Mt(I,K),K}})).apply(this,arguments)}function Mt(I,w){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,x.Z)(function*(I,w){const S=Rn(I),K=(yield Ft()).transaction(Qr,"readwrite");return yield K.objectStore(Qr).put(w,S),yield K.done,w})).apply(this,arguments)}function wa(I){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,x.Z)(function*(I){const w=Rn(I),F=(yield Ft()).transaction(Qr,"readwrite");yield F.objectStore(Qr).delete(w),yield F.done})).apply(this,arguments)}function Rn({appConfig:I}){return I.appId}const Kt=new ne.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Jr(I,w){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,x.Z)(function*(I,w){const S=yield Gs(I),F=zs(w),K={method:"POST",headers:S,body:JSON.stringify(F)};let te;try{te=yield(yield fetch(Xr(I.appConfig),K)).json()}catch(he){throw Kt.create("token-subscribe-failed",{errorInfo:he})}if(te.error)throw Kt.create("token-subscribe-failed",{errorInfo:te.error.message});if(!te.token)throw Kt.create("token-subscribe-no-token");return te.token})).apply(this,arguments)}function as(I,w){return di.apply(this,arguments)}function di(){return(di=(0,x.Z)(function*(I,w){const S=yield Gs(I),F=zs(w.subscriptionOptions),K={method:"PATCH",headers:S,body:JSON.stringify(F)};let te;try{te=yield(yield fetch(`${Xr(I.appConfig)}/${w.token}`,K)).json()}catch(he){throw Kt.create("token-update-failed",{errorInfo:he})}if(te.error)throw Kt.create("token-update-failed",{errorInfo:te.error.message});if(!te.token)throw Kt.create("token-update-no-token");return te.token})).apply(this,arguments)}function No(I,w){return kr.apply(this,arguments)}function kr(){return(kr=(0,x.Z)(function*(I,w){const F={method:"DELETE",headers:yield Gs(I)};try{const te=yield(yield fetch(`${Xr(I.appConfig)}/${w}`,F)).json();if(te.error)throw Kt.create("token-unsubscribe-failed",{errorInfo:te.error.message})}catch(K){throw Kt.create("token-unsubscribe-failed",{errorInfo:K})}})).apply(this,arguments)}function Xr({projectId:I}){return`https://fcmregistrations.googleapis.com/v1/projects/${I}/registrations`}function Gs(I){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,x.Z)(function*({appConfig:I,installations:w}){const S=yield w.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${S}`})})).apply(this,arguments)}function zs({p256dh:I,auth:w,endpoint:S,vapidKey:F}){const K={web:{endpoint:S,auth:w,p256dh:I}};return F!==is&&(K.web.applicationPubKey=F),K}const Da=6048e5;function ko(I){return gl.apply(this,arguments)}function gl(){return(gl=(0,x.Z)(function*(I){const w=yield $t(I.swRegistration,I.vapidKey),S={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:w.endpoint,auth:Yn(w.getKey("auth")),p256dh:Yn(w.getKey("p256dh"))},F=yield xo(I.firebaseDependencies);if(F){if(ls(F.subscriptionOptions,S))return Date.now()>=F.createTime+Da?_l(I,{token:F.token,createTime:Date.now(),subscriptionOptions:S}):F.token;try{yield No(I.firebaseDependencies,F.token)}catch(K){console.warn(K)}return pt(I.firebaseDependencies,S)}return pt(I.firebaseDependencies,S)})).apply(this,arguments)}function Fo(I){return ml.apply(this,arguments)}function ml(){return(ml=(0,x.Z)(function*(I){const w=yield xo(I.firebaseDependencies);w&&(yield No(I.firebaseDependencies,w.token),yield wa(I.firebaseDependencies));const S=yield I.swRegistration.pushManager.getSubscription();return!S||S.unsubscribe()})).apply(this,arguments)}function _l(I,w){return we.apply(this,arguments)}function we(){return(we=(0,x.Z)(function*(I,w){try{const S=yield as(I.firebaseDependencies,w),F=Object.assign(Object.assign({},w),{token:S,createTime:Date.now()});return yield Mt(I.firebaseDependencies,F),S}catch(S){throw yield Fo(I),S}})).apply(this,arguments)}function pt(I,w){return yl.apply(this,arguments)}function yl(){return(yl=(0,x.Z)(function*(I,w){const F={token:yield Jr(I,w),createTime:Date.now(),subscriptionOptions:w};return yield Mt(I,F),F.token})).apply(this,arguments)}function $t(I,w){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,x.Z)(function*(I,w){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:mu(w)})})).apply(this,arguments)}function ls(I,w){return w.vapidKey===I.vapidKey&&w.endpoint===I.endpoint&&w.auth===I.auth&&w.p256dh===I.p256dh}function mr(I){const w={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function Lo(I,w){if(!w.notification)return;I.notification={};const S=w.notification.title;S&&(I.notification.title=S);const F=w.notification.body;F&&(I.notification.body=F);const K=w.notification.image;K&&(I.notification.image=K)}(w,I),function vl(I,w){!w.data||(I.data=w.data)}(w,I),function ah(I,w){if(!w.fcmOptions)return;I.fcmOptions={};const S=w.fcmOptions.link;S&&(I.fcmOptions.link=S);const F=w.fcmOptions.analytics_label;F&&(I.fcmOptions.analyticsLabel=F)}(w,I),w}function ba(I){return"object"==typeof I&&!!I&&Hs in I}function Uo(I,w){const S=[];for(let F=0;F<I.length;F++)S.push(I.charAt(F)),F<w.length&&S.push(w.charAt(F));return S.join("")}function ln(I){return Kt.create("missing-app-config-values",{valueName:I})}Uo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Uo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class hi{constructor(w,S,F){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const K=function Ta(I){if(!I||!I.options)throw ln("App Configuration Object");if(!I.name)throw ln("App Name");const w=["projectId","apiKey","appId","messagingSenderId"],{options:S}=I;for(const F of w)if(!S[F])throw ln(F);return{appName:I.name,projectId:S.projectId,apiKey:S.apiKey,appId:S.appId,senderId:S.messagingSenderId}}(w);this.firebaseDependencies={app:w,appConfig:K,installations:S,analyticsProvider:F}}_delete(){return Promise.resolve()}}function Bo(I){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,x.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(fu,{scope:Hn}),I.swRegistration.update().catch(()=>{})}catch(w){throw Kt.create("failed-service-worker-registration",{browserErrorMessage:w.message})}})).apply(this,arguments)}function Fr(I,w){return El.apply(this,arguments)}function El(){return(El=(0,x.Z)(function*(I,w){if(!w&&!I.swRegistration&&(yield Bo(I)),w||!I.swRegistration){if(!(w instanceof ServiceWorkerRegistration))throw Kt.create("invalid-sw-registration");I.swRegistration=w}})).apply(this,arguments)}function Aa(I,w){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,x.Z)(function*(I,w){w?I.vapidKey=w:I.vapidKey||(I.vapidKey=is)})).apply(this,arguments)}function Vo(){return(Vo=(0,x.Z)(function*(I,w){if(!navigator)throw Kt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Kt.create("permission-blocked");return yield Aa(I,null==w?void 0:w.vapidKey),yield Fr(I,null==w?void 0:w.serviceWorkerRegistration),ko(I)})).apply(this,arguments)}function jo(I,w,S){return Il.apply(this,arguments)}function Il(){return(Il=(0,x.Z)(function*(I,w,S){const F=Ho(w);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(F,{message_id:S[Hs],message_name:S[pu],message_time:S[Pc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ho(I){switch(I){case $s.NOTIFICATION_CLICKED:return"notification_open";case $s.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function wl(){return(wl=(0,x.Z)(function*(I,w){const S=w.data;if(!S.isFirebaseMessaging)return;I.onMessageHandler&&S.messageType===$s.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(mr(S)):I.onMessageHandler.next(mr(S)));const F=S.data;ba(F)&&"1"===F[gu]&&(yield jo(I,S.messageType,F))})).apply(this,arguments)}const Ks="@firebase/messaging",yu=I=>{const w=new hi(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",S=>function lh(I,w){return wl.apply(this,arguments)}(w,S)),w},qs=I=>{const w=I.getProvider("messaging").getImmediate();return{getToken:F=>function Sa(I,w){return Vo.apply(this,arguments)}(w,F)}};function Ys(){return ei.apply(this,arguments)}function ei(){return(ei=(0,x.Z)(function*(){try{yield(0,ne.eu)()}catch(I){return!1}return"undefined"!=typeof window&&(0,ne.hl)()&&(0,ne.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function vu(){(0,oe._registerComponent)(new de.wA("messaging",yu,"PUBLIC")),(0,oe._registerComponent)(new de.wA("messaging-internal",qs,"PRIVATE")),(0,oe.registerVersion)(Ks,"0.9.13"),(0,oe.registerVersion)(Ks,"0.9.13","esm2017")}();const Eu="analytics",uh="firebase_id",fi="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Qs="https://www.googletagmanager.com/gtag/js",wn=new ae.Yd("@firebase/analytics");function kc(I){return Promise.all(I.map(w=>w.catch(S=>S)))}function us(I,w){const S=document.createElement("script");S.src=`${Qs}?l=${I}&id=${w}`,S.async=!0,document.head.appendChild(S)}function Iu(I,w,S,F,K,te){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,x.Z)(function*(I,w,S,F,K,te){const he=F[K];try{if(he)yield w[he];else{const ut=(yield kc(S)).find(Qe=>Qe.measurementId===K);ut&&(yield w[ut.appId])}}catch(Me){wn.error(Me)}I("config",K,te)})).apply(this,arguments)}function Pa(I,w,S,F,K){return cs.apply(this,arguments)}function cs(){return(cs=(0,x.Z)(function*(I,w,S,F,K){try{let te=[];if(K&&K.send_to){let he=K.send_to;Array.isArray(he)||(he=[he]);const Me=yield kc(S);for(const ut of he){const Qe=Me.find(ot=>ot.measurementId===ut),Et=Qe&&w[Qe.appId];if(!Et){te=[];break}te.push(Et)}}0===te.length&&(te=Object.values(w)),yield Promise.all(te),I("event",F,K||{})}catch(te){wn.error(te)}})).apply(this,arguments)}function Pn(){const I=window.document.getElementsByTagName("script");for(const w of Object.values(I))if(w.src&&w.src.includes(Qs))return w;return null}const Ge=new ne.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Dl=new class vn{constructor(w={},S=1e3){this.throttleMetadata=w,this.intervalMillis=S}getThrottleMetadata(w){return this.throttleMetadata[w]}setThrottleMetadata(w,S){this.throttleMetadata[w]=S}deleteThrottleMetadata(w){delete this.throttleMetadata[w]}};function Du(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function ni(I){return bl.apply(this,arguments)}function bl(){return(bl=(0,x.Z)(function*(I){var w;const{appId:S,apiKey:F}=I,K={method:"GET",headers:Du(F)},te=fi.replace("{app-id}",S),he=yield fetch(te,K);if(200!==he.status&&304!==he.status){let Me="";try{const ut=yield he.json();(null===(w=ut.error)||void 0===w?void 0:w.message)&&(Me=ut.error.message)}catch(ut){}throw Ge.create("config-fetch-failed",{httpStatus:he.status,responseMessage:Me})}return he.json()})).apply(this,arguments)}function jt(I){return zo.apply(this,arguments)}function zo(){return(zo=(0,x.Z)(function*(I,w=Dl,S){const{appId:F,apiKey:K,measurementId:te}=I.options;if(!F)throw Ge.create("no-app-id");if(!K){if(te)return{measurementId:te,appId:F};throw Ge.create("no-api-key")}const he=w.getThrottleMetadata(F)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Me=new Fc;return setTimeout((0,x.Z)(function*(){Me.abort()}),void 0!==S?S:6e4),vr({appId:F,apiKey:K,measurementId:te},he,Me,w)})).apply(this,arguments)}function vr(I,w,S){return vt.apply(this,arguments)}function vt(){return(vt=(0,x.Z)(function*(I,{throttleEndTimeMillis:w,backoffCount:S},F,K=Dl){const{appId:te,measurementId:he}=I;try{yield xa(F,w)}catch(Me){if(he)return wn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${he} provided in the "measurementId" field in the local Firebase config. [${Me.message}]`),{appId:te,measurementId:he};throw Me}try{const Me=yield ni(I);return K.deleteThrottleMetadata(te),Me}catch(Me){if(!bu(Me)){if(K.deleteThrottleMetadata(te),he)return wn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${he} provided in the "measurementId" field in the local Firebase config. [${Me.message}]`),{appId:te,measurementId:he};throw Me}const ut=503===Number(Me.customData.httpStatus)?(0,ne.$s)(S,K.intervalMillis,30):(0,ne.$s)(S,K.intervalMillis),Qe={throttleEndTimeMillis:Date.now()+ut,backoffCount:S+1};return K.setThrottleMetadata(te,Qe),wn.debug(`Calling attemptFetch again in ${ut} millis`),vr(I,Qe,F,K)}})).apply(this,arguments)}function xa(I,w){return new Promise((S,F)=>{const K=Math.max(w-Date.now(),0),te=setTimeout(S,K);I.addEventListener(()=>{clearTimeout(te),F(Ge.create("fetch-throttle",{throttleEndTimeMillis:w}))})})}function bu(I){if(!(I instanceof ne.ZR&&I.customData))return!1;const w=Number(I.customData.httpStatus);return 429===w||500===w||503===w||504===w}class Fc{constructor(){this.listeners=[]}addEventListener(w){this.listeners.push(w)}abort(){this.listeners.forEach(w=>w())}}function Tu(){return en.apply(this,arguments)}function en(){return(en=(0,x.Z)(function*(){if(!(0,ne.hl)())return wn.warn(Ge.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ne.eu)()}catch(I){return wn.warn(Ge.create("indexeddb-unavailable",{errorInfo:I}).message),!1}return!0})).apply(this,arguments)}function Xs(){return(Xs=(0,x.Z)(function*(I,w,S,F,K,te,he){var Me;const ut=jt(I);ut.then(Tn=>{S[Tn.measurementId]=Tn.appId,I.options.measurementId&&Tn.measurementId!==I.options.measurementId&&wn.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${Tn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Tn=>wn.error(Tn)),w.push(ut);const Qe=Tu().then(Tn=>{if(Tn)return F.getId()}),[Et,ot]=yield Promise.all([ut,Qe]);Pn()||us(te,Et.measurementId),K("js",new Date);const $n=null!==(Me=null==he?void 0:he.config)&&void 0!==Me?Me:{};return $n.origin="firebase",$n.update=!0,null!=ot&&($n[uh]=ot),K("config",Et.measurementId,$n),Et.measurementId})).apply(this,arguments)}class ki{constructor(w){this.app=w}_delete(){return delete xn[this.app.options.appId],Promise.resolve()}}let xn={},Oa=[];const Fi={};let to,ds,eo="dataLayer",no=!1;function Zo(I,w,S){!function io(){const I=[];if((0,ne.ru)()&&I.push("This is a browser extension environment."),(0,ne.zI)()||I.push("Cookies are not available."),I.length>0){const w=I.map((F,K)=>`(${K+1}) ${F}`).join(" "),S=Ge.create("invalid-analytics-context",{errorInfo:w});wn.warn(S.message)}}();const F=I.options.appId;if(!F)throw Ge.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw Ge.create("no-api-key");wn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=xn[F])throw Ge.create("already-exists",{id:F});if(!no){!function Ra(I){let w=[];Array.isArray(window[I])?w=window[I]:window[I]=w}(eo);const{wrappedGtag:te,gtagCore:he}=function ch(I,w,S,F,K){let te=function(...he){window[F].push(arguments)};return window[K]&&"function"==typeof window[K]&&(te=window[K]),window[K]=function wu(I,w,S,F){function te(){return(te=(0,x.Z)(function*(he,Me,ut){try{"event"===he?yield Pa(I,w,S,Me,ut):"config"===he?yield Iu(I,w,S,F,Me,ut):I("set",Me)}catch(Qe){wn.error(Qe)}})).apply(this,arguments)}return function K(he,Me,ut){return te.apply(this,arguments)}}(te,I,w,S),{gtagCore:te,wrappedGtag:window[K]}}(xn,Oa,Fi,eo,"gtag");ds=te,to=he,no=!0}return xn[F]=function Js(I,w,S,F,K,te,he){return Xs.apply(this,arguments)}(I,Oa,Fi,w,to,eo,S),new ki(I)}function Dn(){return(Dn=(0,x.Z)(function*(I,w,S,F,K){if(K&&K.global)I("event",S,F);else{const te=yield w;I("event",S,Object.assign(Object.assign({},F),{send_to:te}))}})).apply(this,arguments)}function Na(){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,x.Z)(function*(){if((0,ne.ru)()||!(0,ne.zI)()||!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch(I){return!1}})).apply(this,arguments)}const or="@firebase/analytics";!function Bi(){(0,oe._registerComponent)(new de.wA(Eu,(w,{options:S})=>Zo(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),S),"PUBLIC")),(0,oe._registerComponent)(new de.wA("analytics-internal",function I(w){try{const S=w.getProvider(Eu).getImmediate();return{logEvent:(F,K,te)=>function so(I,w,S,F){I=(0,ne.m9)(I),function Ui(I,w,S,F,K){return Dn.apply(this,arguments)}(ds,xn[I.app.options.appId],w,S,F).catch(K=>wn.error(K))}(S,F,K,te)}}catch(S){throw Ge.create("interop-component-reg-failed",{reason:S})}},"PRIVATE")),(0,oe.registerVersion)(or,"0.7.9"),(0,oe.registerVersion)(or,"0.7.9","esm2017")}();var gs=P(4408),qt=P(7565);const ms=new class Al extends qt.v{}(class ka extends gs.o{constructor(w,S){super(w,S),this.scheduler=w,this.work=S}schedule(w,S=0){return S>0?super.schedule(w,S):(this.delay=S,this.state=w,this.scheduler.flush(this),this)}execute(w,S){return S>0||this.closed?super.execute(w,S):this._execute(w,S)}requestAsyncId(w,S,F=0){return null!=F&&F>0||null==F&&this.delay>0?super.requestAsyncId(w,S,F):w.flush(this)}});var Sl=P(4986),Cr=P(8505),Ir=P(9468),oo=P(5363);const _s=new g.GfV("7.3.0"),ys="__angularfire_symbol__analyticsIsSupportedValue",ao="__angularfire_symbol__analyticsIsSupported",vs="__angularfire_symbol__remoteConfigIsSupportedValue",mi="__angularfire_symbol__remoteConfigIsSupported",qo="__angularfire_symbol__messagingIsSupportedValue",ht="__angularfire_symbol__messagingIsSupported";function fh(I,w,S){if(w){if(1===w.length)return w[0];const te=w.filter(he=>he.app===S);if(1===te.length)return te[0]}return S.container.getProvider(I).getImmediate({optional:!0})}globalThis[ao]||(globalThis[ao]=Na().then(I=>globalThis[ys]=I).catch(()=>globalThis[ys]=!1)),globalThis[ht]||(globalThis[ht]=Ys().then(I=>globalThis[qo]=I).catch(()=>globalThis[qo]=!1)),globalThis[mi]||(globalThis[mi]=Ia().then(I=>globalThis[vs]=I).catch(()=>globalThis[vs]=!1));const Su=(I,w)=>{const S=w?[w]:(0,Q.C6)(),F=[];return S.forEach(K=>{K.container.getProvider(I).instances.forEach(he=>{F.includes(he)||F.push(he)})}),F};function ji(){}class Lr{constructor(w,S=ms){this.zone=w,this.delegate=S}now(){return this.delegate.now()}schedule(w,S,F){const K=this.zone;return this.delegate.schedule(function(he){K.runGuarded(()=>{w.apply(this,[he])})},S,F)}}class La{constructor(w){this.zone=w,this.task=null}call(w,S){const F=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ji,{},ji,ji)),S.pipe((0,Cr.b)({next:F,complete:F,error:F})).subscribe(w).add(F)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ru=(()=>{class I{constructor(S){this.ngZone=S,this.outsideAngular=S.runOutsideAngular(()=>new Lr(Zone.current)),this.insideAngular=S.run(()=>new Lr(Zone.current,Sl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(S){return new(S||I)(g.LFG(g.R0b))},I.\u0275prov=g.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function ii(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function lo(I){return ii(),function uo(I){return function(S){return(S=S.lift(new La(I.ngZone))).pipe((0,Ir.R)(I.outsideAngular),(0,oo.Q)(I.insideAngular))}}(ii())(I)}},2090:($e,pe,P)=>{P.d(pe,{BH:()=>Fe,LL:()=>se,ZR:()=>fe,gQ:()=>er,zI:()=>Z,hu:()=>Q,g5:()=>x,US:()=>de,tV:()=>le,h$:()=>ae,L:()=>ie,$s:()=>yt,r3:()=>zn,Sg:()=>De,ne:()=>Wr,p$:()=>H,vZ:()=>dr,ZB:()=>V,gK:()=>tr,pd:()=>bi,m9:()=>Vn,z$:()=>Ae,GJ:()=>Rt,jU:()=>Ce,ru:()=>Le,xb:()=>_t,w1:()=>me,hl:()=>B,uI:()=>xe,UG:()=>ue,Yr:()=>Ne,b$:()=>je,w9:()=>Ot,cI:()=>It,UI:()=>Hr,xO:()=>Zn,zd:()=>$r,DV:()=>Tt,ug:()=>wt,dS:()=>es,Pz:()=>mt,Dv:()=>Ti,Wj:()=>on,lb:()=>fr,eu:()=>ge});const Q=function(L,W){if(!L)throw x(W)},x=function(L){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+L)},oe=function(L){const W=[];let G=0;for(let Ee=0;Ee<L.length;Ee++){let $=L.charCodeAt(Ee);$<128?W[G++]=$:$<2048?(W[G++]=$>>6|192,W[G++]=63&$|128):55296==(64512&$)&&Ee+1<L.length&&56320==(64512&L.charCodeAt(Ee+1))?($=65536+((1023&$)<<10)+(1023&L.charCodeAt(++Ee)),W[G++]=$>>18|240,W[G++]=$>>12&63|128,W[G++]=$>>6&63|128,W[G++]=63&$|128):(W[G++]=$>>12|224,W[G++]=$>>6&63|128,W[G++]=63&$|128)}return W},de={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(L,W){if(!Array.isArray(L))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=W?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ee=[];for(let $=0;$<L.length;$+=3){const Y=L[$],Te=$+1<L.length,We=Te?L[$+1]:0,Je=$+2<L.length,lt=Je?L[$+2]:0;let mn=(15&We)<<2|lt>>6,Kn=63&lt;Je||(Kn=64,Te||(mn=64)),Ee.push(G[Y>>2],G[(3&Y)<<4|We>>4],G[mn],G[Kn])}return Ee.join("")},encodeString(L,W){return this.HAS_NATIVE_SUPPORT&&!W?btoa(L):this.encodeByteArray(oe(L),W)},decodeString(L,W){return this.HAS_NATIVE_SUPPORT&&!W?atob(L):function(L){const W=[];let G=0,Ee=0;for(;G<L.length;){const $=L[G++];if($<128)W[Ee++]=String.fromCharCode($);else if($>191&&$<224){const Y=L[G++];W[Ee++]=String.fromCharCode((31&$)<<6|63&Y)}else if($>239&&$<365){const Je=((7&$)<<18|(63&L[G++])<<12|(63&L[G++])<<6|63&L[G++])-65536;W[Ee++]=String.fromCharCode(55296+(Je>>10)),W[Ee++]=String.fromCharCode(56320+(1023&Je))}else{const Y=L[G++],Te=L[G++];W[Ee++]=String.fromCharCode((15&$)<<12|(63&Y)<<6|63&Te)}}return W.join("")}(this.decodeStringToByteArray(L,W))},decodeStringToByteArray(L,W){this.init_();const G=W?this.charToByteMapWebSafe_:this.charToByteMap_,Ee=[];for(let $=0;$<L.length;){const Y=G[L.charAt($++)],We=$<L.length?G[L.charAt($)]:0;++$;const lt=$<L.length?G[L.charAt($)]:64;++$;const st=$<L.length?G[L.charAt($)]:64;if(++$,null==Y||null==We||null==lt||null==st)throw Error();Ee.push(Y<<2|We>>4),64!==lt&&(Ee.push(We<<4&240|lt>>2),64!==st&&Ee.push(lt<<6&192|st))}return Ee},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let L=0;L<this.ENCODED_VALS.length;L++)this.byteToCharMap_[L]=this.ENCODED_VALS.charAt(L),this.charToByteMap_[this.byteToCharMap_[L]]=L,this.byteToCharMapWebSafe_[L]=this.ENCODED_VALS_WEBSAFE.charAt(L),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[L]]=L,L>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(L)]=L,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(L)]=L)}}},ae=function(L){const W=oe(L);return de.encodeByteArray(W,!0)},ie=function(L){return ae(L).replace(/\./g,"")},le=function(L){try{return de.decodeString(L,!0)}catch(W){console.error("base64Decode failed: ",W)}return null};function H(L){return V(void 0,L)}function V(L,W){if(!(W instanceof Object))return W;switch(W.constructor){case Date:return new Date(W.getTime());case Object:void 0===L&&(L={});break;case Array:L=[];break;default:return W}for(const G in W)!W.hasOwnProperty(G)||!ee(G)||(L[G]=V(L[G],W[G]));return L}function ee(L){return"__proto__"!==L}class Fe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((W,G)=>{this.resolve=W,this.reject=G})}wrapCallback(W){return(G,Ee)=>{G?this.reject(G):this.resolve(Ee),"function"==typeof W&&(this.promise.catch(()=>{}),1===W.length?W(G):W(G,Ee))}}}function De(L,W){if(L.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ee=W||"demo-project",$=L.iat||0,Y=L.sub||L.user_id;if(!Y)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Te=Object.assign({iss:`https://securetoken.google.com/${Ee}`,aud:Ee,iat:$,exp:$+3600,auth_time:$,sub:Y,user_id:Y,firebase:{sign_in_provider:"custom",identities:{}}},L);return[ie(JSON.stringify({alg:"none",type:"JWT"})),ie(JSON.stringify(Te)),""].join(".")}function Ae(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function xe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ae())}function ue(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(L){return!1}}function Ce(){return"object"==typeof self&&self.self===self}function Le(){const L="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof L&&void 0!==L.id}function je(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function me(){const L=Ae();return L.indexOf("MSIE ")>=0||L.indexOf("Trident/")>=0}function Ne(){return!1}function B(){return"object"==typeof indexedDB}function ge(){return new Promise((L,W)=>{try{let G=!0;const Ee="validate-browser-context-for-indexeddb-analytics-module",$=self.indexedDB.open(Ee);$.onsuccess=()=>{$.result.close(),G||self.indexedDB.deleteDatabase(Ee),L(!0)},$.onupgradeneeded=()=>{G=!1},$.onerror=()=>{var Y;W((null===(Y=$.error)||void 0===Y?void 0:Y.message)||"")}}catch(G){W(G)}})}function Z(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class fe extends Error{constructor(W,G,Ee){super(G),this.code=W,this.customData=Ee,this.name="FirebaseError",Object.setPrototypeOf(this,fe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,se.prototype.create)}}class se{constructor(W,G,Ee){this.service=W,this.serviceName=G,this.errors=Ee}create(W,...G){const Ee=G[0]||{},$=`${this.service}/${W}`,Y=this.errors[W],Te=Y?function Se(L,W){return L.replace(qe,(G,Ee)=>{const $=W[Ee];return null!=$?String($):`<${Ee}?>`})}(Y,Ee):"Error";return new fe($,`${this.serviceName}: ${Te} (${$}).`,Ee)}}const qe=/\{\$([^}]+)}/g;function It(L){return JSON.parse(L)}function mt(L){return JSON.stringify(L)}const He=function(L){let W={},G={},Ee={},$="";try{const Y=L.split(".");W=It(le(Y[0])||""),G=It(le(Y[1])||""),$=Y[2],Ee=G.d||{},delete G.d}catch(Y){}return{header:W,claims:G,data:Ee,signature:$}},Ot=function(L){const G=He(L).claims;return!!G&&"object"==typeof G&&G.hasOwnProperty("iat")},Rt=function(L){const W=He(L).claims;return"object"==typeof W&&!0===W.admin};function zn(L,W){return Object.prototype.hasOwnProperty.call(L,W)}function Tt(L,W){if(Object.prototype.hasOwnProperty.call(L,W))return L[W]}function _t(L){for(const W in L)if(Object.prototype.hasOwnProperty.call(L,W))return!1;return!0}function Hr(L,W,G){const Ee={};for(const $ in L)Object.prototype.hasOwnProperty.call(L,$)&&(Ee[$]=W.call(G,L[$],$,L));return Ee}function dr(L,W){if(L===W)return!0;const G=Object.keys(L),Ee=Object.keys(W);for(const $ of G){if(!Ee.includes($))return!1;const Y=L[$],Te=W[$];if(Ln(Y)&&Ln(Te)){if(!dr(Y,Te))return!1}else if(Y!==Te)return!1}for(const $ of Ee)if(!G.includes($))return!1;return!0}function Ln(L){return null!==L&&"object"==typeof L}function Zn(L){const W=[];for(const[G,Ee]of Object.entries(L))Array.isArray(Ee)?Ee.forEach($=>{W.push(encodeURIComponent(G)+"="+encodeURIComponent($))}):W.push(encodeURIComponent(G)+"="+encodeURIComponent(Ee));return W.length?"&"+W.join("&"):""}function $r(L){const W={};return L.replace(/^\?/,"").split("&").forEach(Ee=>{if(Ee){const[$,Y]=Ee.split("=");W[decodeURIComponent($)]=decodeURIComponent(Y)}}),W}function bi(L){const W=L.indexOf("?");if(!W)return"";const G=L.indexOf("#",W);return L.substring(W,G>0?G:void 0)}class er{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let W=1;W<this.blockSize;++W)this.pad_[W]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(W,G){G||(G=0);const Ee=this.W_;if("string"==typeof W)for(let st=0;st<16;st++)Ee[st]=W.charCodeAt(G)<<24|W.charCodeAt(G+1)<<16|W.charCodeAt(G+2)<<8|W.charCodeAt(G+3),G+=4;else for(let st=0;st<16;st++)Ee[st]=W[G]<<24|W[G+1]<<16|W[G+2]<<8|W[G+3],G+=4;for(let st=16;st<80;st++){const mn=Ee[st-3]^Ee[st-8]^Ee[st-14]^Ee[st-16];Ee[st]=4294967295&(mn<<1|mn>>>31)}let lt,Bt,$=this.chain_[0],Y=this.chain_[1],Te=this.chain_[2],We=this.chain_[3],Je=this.chain_[4];for(let st=0;st<80;st++){st<40?st<20?(lt=We^Y&(Te^We),Bt=1518500249):(lt=Y^Te^We,Bt=1859775393):st<60?(lt=Y&Te|We&(Y|Te),Bt=2400959708):(lt=Y^Te^We,Bt=3395469782);const mn=($<<5|$>>>27)+lt+Je+Bt+Ee[st]&4294967295;Je=We,We=Te,Te=4294967295&(Y<<30|Y>>>2),Y=$,$=mn}this.chain_[0]=this.chain_[0]+$&4294967295,this.chain_[1]=this.chain_[1]+Y&4294967295,this.chain_[2]=this.chain_[2]+Te&4294967295,this.chain_[3]=this.chain_[3]+We&4294967295,this.chain_[4]=this.chain_[4]+Je&4294967295}update(W,G){if(null==W)return;void 0===G&&(G=W.length);const Ee=G-this.blockSize;let $=0;const Y=this.buf_;let Te=this.inbuf_;for(;$<G;){if(0===Te)for(;$<=Ee;)this.compress_(W,$),$+=this.blockSize;if("string"==typeof W){for(;$<G;)if(Y[Te]=W.charCodeAt($),++Te,++$,Te===this.blockSize){this.compress_(Y),Te=0;break}}else for(;$<G;)if(Y[Te]=W[$],++Te,++$,Te===this.blockSize){this.compress_(Y),Te=0;break}}this.inbuf_=Te,this.total_+=G}digest(){const W=[];let G=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let $=this.blockSize-1;$>=56;$--)this.buf_[$]=255&G,G/=256;this.compress_(this.buf_);let Ee=0;for(let $=0;$<5;$++)for(let Y=24;Y>=0;Y-=8)W[Ee]=this.chain_[$]>>Y&255,++Ee;return W}}function Wr(L,W){const G=new et(L,W);return G.subscribe.bind(G)}class et{constructor(W,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{W(this)}).catch(Ee=>{this.error(Ee)})}next(W){this.forEachObserver(G=>{G.next(W)})}error(W){this.forEachObserver(G=>{G.error(W)}),this.close(W)}complete(){this.forEachObserver(W=>{W.complete()}),this.close()}subscribe(W,G,Ee){let $;if(void 0===W&&void 0===G&&void 0===Ee)throw new Error("Missing Observer.");$=function Jt(L,W){if("object"!=typeof L||null===L)return!1;for(const G of W)if(G in L&&"function"==typeof L[G])return!0;return!1}(W,["next","error","complete"])?W:{next:W,error:G,complete:Ee},void 0===$.next&&($.next=sn),void 0===$.error&&($.error=sn),void 0===$.complete&&($.complete=sn);const Y=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?$.error(this.finalError):$.complete()}catch(Te){}}),this.observers.push($),Y}unsubscribeOne(W){void 0===this.observers||void 0===this.observers[W]||(delete this.observers[W],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(W){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,W)}sendOne(W,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[W])try{G(this.observers[W])}catch(Ee){"undefined"!=typeof console&&console.error&&console.error(Ee)}})}close(W){this.finalized||(this.finalized=!0,void 0!==W&&(this.finalError=W),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sn(){}const Ti=function(L,W,G,Ee){let $;if(Ee<W?$="at least "+W:Ee>G&&($=0===G?"none":"no more than "+G),$)throw new Error(L+" failed: Was called with "+Ee+(1===Ee?" argument.":" arguments.")+" Expects "+$+".")};function tr(L,W){return`${L} failed: ${W} argument `}function on(L,W,G,Ee){if((!Ee||G)&&"function"!=typeof G)throw new Error(tr(L,W)+"must be a valid function.")}function fr(L,W,G,Ee){if((!Ee||G)&&("object"!=typeof G||null===G))throw new Error(tr(L,W)+"must be a valid context object.")}const es=function(L){const W=[];let G=0;for(let Ee=0;Ee<L.length;Ee++){let $=L.charCodeAt(Ee);if($>=55296&&$<=56319){const Y=$-55296;Ee++,Q(Ee<L.length,"Surrogate pair missing trail surrogate."),$=65536+(Y<<10)+(L.charCodeAt(Ee)-56320)}$<128?W[G++]=$:$<2048?(W[G++]=$>>6|192,W[G++]=63&$|128):$<65536?(W[G++]=$>>12|224,W[G++]=$>>6&63|128,W[G++]=63&$|128):(W[G++]=$>>18|240,W[G++]=$>>12&63|128,W[G++]=$>>6&63|128,W[G++]=63&$|128)}return W},wt=function(L){let W=0;for(let G=0;G<L.length;G++){const Ee=L.charCodeAt(G);Ee<128?W++:Ee<2048?W+=2:Ee>=55296&&Ee<=56319?(W+=4,G++):W+=3}return W};function yt(L,W=1e3,G=2){const Ee=W*Math.pow(G,L),$=Math.round(.5*Ee*(Math.random()-.5)*2);return Math.min(144e5,Ee+$)}function Vn(L){return L&&L._delegate?L._delegate:L}},5722:($e,pe,P)=>{var g=P(5e3);let Q=null;function x(){return Q}const ae=new g.OlP("DocumentToken");let ie=(()=>{class r{historyGo(e){throw new Error("Not implemented")}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=g.Yz7({token:r,factory:function(){return function le(){return(0,g.LFG)(V)}()},providedIn:"platform"}),r})();const H=new g.OlP("Location Initialized");let V=(()=>{class r extends ie{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return x().getBaseHref(this._doc)}onPopState(e){const o=x().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",e,!1),()=>o.removeEventListener("popstate",e)}onHashChange(e){const o=x().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",e,!1),()=>o.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,o,l){ee()?this._history.pushState(e,o,l):this.location.hash=l}replaceState(e,o,l){ee()?this._history.replaceState(e,o,l):this.location.hash=l}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return r.\u0275fac=function(e){return new(e||r)(g.LFG(ae))},r.\u0275prov=g.Yz7({token:r,factory:function(){return function Fe(){return new V((0,g.LFG)(ae))}()},providedIn:"platform"}),r})();function ee(){return!!window.history.pushState}function De(r,t){if(0==r.length)return t;if(0==t.length)return r;let e=0;return r.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?r+t.substring(1):1==e?r+t:r+"/"+t}function Ae(r){const t=r.match(/#|\?|$/),e=t&&t.index||r.length;return r.slice(0,e-("/"===r[e-1]?1:0))+r.slice(e)}function xe(r){return r&&"?"!==r[0]?"?"+r:r}let ue=(()=>{class r{historyGo(e){throw new Error("Not implemented")}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=g.Yz7({token:r,factory:function(){return function Ce(r){const t=(0,g.LFG)(ae).location;return new je((0,g.LFG)(ie),t&&t.origin||"")}()},providedIn:"root"}),r})();const Le=new g.OlP("appBaseHref");let je=(()=>{class r extends ue{constructor(e,o){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==o&&(o=this._platformLocation.getBaseHrefFromDOM()),null==o)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=o}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return De(this._baseHref,e)}path(e=!1){const o=this._platformLocation.pathname+xe(this._platformLocation.search),l=this._platformLocation.hash;return l&&e?`${o}${l}`:o}pushState(e,o,l,d){const p=this.prepareExternalUrl(l+xe(d));this._platformLocation.pushState(e,o,p)}replaceState(e,o,l,d){const p=this.prepareExternalUrl(l+xe(d));this._platformLocation.replaceState(e,o,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var o,l;null===(l=(o=this._platformLocation).historyGo)||void 0===l||l.call(o,e)}}return r.\u0275fac=function(e){return new(e||r)(g.LFG(ie),g.LFG(Le,8))},r.\u0275prov=g.Yz7({token:r,factory:r.\u0275fac}),r})(),Ie=(()=>{class r extends ue{constructor(e,o){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(e){const o=De(this._baseHref,e);return o.length>0?"#"+o:o}pushState(e,o,l,d){let p=this.prepareExternalUrl(l+xe(d));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.pushState(e,o,p)}replaceState(e,o,l,d){let p=this.prepareExternalUrl(l+xe(d));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.replaceState(e,o,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var o,l;null===(l=(o=this._platformLocation).historyGo)||void 0===l||l.call(o,e)}}return r.\u0275fac=function(e){return new(e||r)(g.LFG(ie),g.LFG(Le,8))},r.\u0275prov=g.Yz7({token:r,factory:r.\u0275fac}),r})(),me=(()=>{class r{constructor(e,o){this._subject=new g.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const l=this._platformStrategy.getBaseHref();this._platformLocation=o,this._baseHref=Ae(ke(l)),this._platformStrategy.onPopState(d=>{this._subject.emit({url:this.path(!0),pop:!0,state:d.state,type:d.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,o=""){return this.path()==this.normalize(e+xe(o))}normalize(e){return r.stripTrailingSlash(function Ne(r,t){return r&&t.startsWith(r)?t.substring(r.length):t}(this._baseHref,ke(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,o="",l=null){this._platformStrategy.pushState(l,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+xe(o)),l)}replaceState(e,o="",l=null){this._platformStrategy.replaceState(l,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+xe(o)),l)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var o,l;null===(l=(o=this._platformStrategy).historyGo)||void 0===l||l.call(o,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}))}_notifyUrlChangeListeners(e="",o){this._urlChangeListeners.forEach(l=>l(e,o))}subscribe(e,o,l){return this._subject.subscribe({next:e,error:o,complete:l})}}return r.normalizeQueryParams=xe,r.joinWithSlash=De,r.stripTrailingSlash=Ae,r.\u0275fac=function(e){return new(e||r)(g.LFG(ue),g.LFG(ie))},r.\u0275prov=g.Yz7({token:r,factory:function(){return function ve(){return new me((0,g.LFG)(ue),(0,g.LFG)(ie))}()},providedIn:"root"}),r})();function ke(r){return r.replace(/\/index.html$/,"")}class Ri{constructor(t,e,o,l){this.$implicit=t,this.ngForOf=e,this.index=o,this.count=l}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Cn=(()=>{class r{constructor(e,o,l){this._viewContainer=e,this._template=o,this._differs=l,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const o=this._viewContainer;e.forEachOperation((l,d,p)=>{if(null==l.previousIndex)o.createEmbeddedView(this._template,new Ri(l.item,this._ngForOf,-1,-1),null===p?void 0:p);else if(null==p)o.remove(null===d?void 0:d);else if(null!==d){const E=o.get(d);o.move(E,p),rs(E,l)}});for(let l=0,d=o.length;l<d;l++){const E=o.get(l).context;E.index=l,E.count=d,E.ngForOf=this._ngForOf}e.forEachIdentityChange(l=>{rs(o.get(l.currentIndex),l)})}static ngTemplateContextGuard(e,o){return!0}}return r.\u0275fac=function(e){return new(e||r)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(g.ZZ4))},r.\u0275dir=g.lG2({type:r,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),r})();function rs(r,t){r.context.$implicit=t.item}let Sn=(()=>{class r{constructor(e,o){this._viewContainer=e,this._context=new kt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Ea("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Ea("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,o){return!0}}return r.\u0275fac=function(e){return new(e||r)(g.Y36(g.s_b),g.Y36(g.Rgc))},r.\u0275dir=g.lG2({type:r,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),r})();class kt{constructor(){this.$implicit=null,this.ngIf=null}}function Ea(r,t){if(t&&!t.createEmbeddedView)throw new Error(`${r} must be a TemplateRef, but received '${(0,g.AaK)(t)}'.`)}class Pi{createSubscription(t,e){return t.subscribe({next:e,error:o=>{throw o}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class lu{createSubscription(t,e){return t.then(e,o=>{throw o})}dispose(t){}onDestroy(t){}}const rh=new lu,ci=new Pi;let Rc=(()=>{class r{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,o=>this._updateLatestValue(e,o))}_selectStrategy(e){if((0,g.QGY)(e))return rh;if((0,g.F4k)(e))return ci;throw function jn(r,t){return new g.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,o){e===this._obj&&(this._latestValue=o,this._ref.markForCheck())}}return r.\u0275fac=function(e){return new(e||r)(g.Y36(g.sBO,16))},r.\u0275pipe=g.Yjl({name:"async",type:r,pure:!1}),r})(),gu=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=g.oAB({type:r}),r.\u0275inj=g.cJS({}),r})();let hl=(()=>{class r{}return r.\u0275prov=(0,g.Yz7)({token:r,providedIn:"root",factory:()=>new Ws((0,g.LFG)(ae),window)}),r})();class Ws{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Qr(r,t){const e=r.getElementById(t)||r.getElementsByName(t)[0];if(e)return e;if("function"==typeof r.createTreeWalker&&r.body&&(r.body.createShadowRoot||r.body.attachShadow)){const o=r.createTreeWalker(r.body,NodeFilter.SHOW_ELEMENT);let l=o.currentNode;for(;l;){const d=l.shadowRoot;if(d){const p=d.getElementById(t)||d.querySelector(`[name="${t}"]`);if(p)return p}l=o.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),o=e.left+this.window.pageXOffset,l=e.top+this.window.pageYOffset,d=this.offset();this.window.scrollTo(o-d[0],l-d[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=fl(this.window.history)||fl(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function fl(r){return Object.getOwnPropertyDescriptor(r,"scrollRestoration")}class os extends class xo extends class de{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ne(r){Q||(Q=r)}(new os)}onAndCancel(t,e,o){return t.addEventListener(e,o,!1),()=>{t.removeEventListener(e,o,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Oo(){return Mt=Mt||document.querySelector("base"),Mt?Mt.getAttribute("href"):null}();return null==e?null:function Oi(r){wa=wa||document.createElement("a"),wa.setAttribute("href",r);const t=wa.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Mt=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function So(r,t){t=encodeURIComponent(t);for(const e of r.split(";")){const o=e.indexOf("="),[l,d]=-1==o?[e,""]:[e.slice(0,o),e.slice(o+1)];if(l.trim()===t)return decodeURIComponent(d)}return null}(document.cookie,t)}}let wa,Mt=null;const Rn=new g.OlP("TRANSITION_ID"),Kt=[{provide:g.ip1,useFactory:function pl(r,t,e){return()=>{e.get(g.CZH).donePromise.then(()=>{const o=x(),l=t.querySelectorAll(`style[ng-transition="${r}"]`);for(let d=0;d<l.length;d++)o.remove(l[d])})}},deps:[Rn,ae,g.zs3],multi:!0}];class Jr{static init(){(0,g.VLi)(new Jr)}addToWindow(t){g.dqk.getAngularTestability=(o,l=!0)=>{const d=t.findTestabilityInTree(o,l);if(null==d)throw new Error("Could not find testability for element.");return d},g.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),g.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),g.dqk.frameworkStabilizers||(g.dqk.frameworkStabilizers=[]),g.dqk.frameworkStabilizers.push(o=>{const l=g.dqk.getAllAngularTestabilities();let d=l.length,p=!1;const E=function(D){p=p||D,d--,0==d&&o(p)};l.forEach(function(D){D.whenStable(E)})})}findTestabilityInTree(t,e,o){if(null==e)return null;const l=t.getTestability(e);return null!=l?l:o?x().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Mn=(()=>{class r{build(){return new XMLHttpRequest}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=g.Yz7({token:r,factory:r.\u0275fac}),r})();const as=new g.OlP("EventManagerPlugins");let di=(()=>{class r{constructor(e,o){this._zone=o,this._eventNameToPlugin=new Map,e.forEach(l=>l.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,o,l){return this._findPluginFor(o).addEventListener(e,o,l)}addGlobalEventListener(e,o,l){return this._findPluginFor(o).addGlobalEventListener(e,o,l)}getZone(){return this._zone}_findPluginFor(e){const o=this._eventNameToPlugin.get(e);if(o)return o;const l=this._plugins;for(let d=0;d<l.length;d++){const p=l[d];if(p.supports(e))return this._eventNameToPlugin.set(e,p),p}throw new Error(`No event manager plugin found for event ${e}`)}}return r.\u0275fac=function(e){return new(e||r)(g.LFG(as),g.LFG(g.R0b))},r.\u0275prov=g.Yz7({token:r,factory:r.\u0275fac}),r})();class No{constructor(t){this._doc=t}addGlobalEventListener(t,e,o){const l=x().getGlobalEventTarget(this._doc,t);if(!l)throw new Error(`Unsupported event target ${l} for event ${e}`);return this.addEventListener(l,e,o)}}let kr=(()=>{class r{constructor(){this._stylesSet=new Set}addStyles(e){const o=new Set;e.forEach(l=>{this._stylesSet.has(l)||(this._stylesSet.add(l),o.add(l))}),this.onStylesAdded(o)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=g.Yz7({token:r,factory:r.\u0275fac}),r})(),Xr=(()=>{class r extends kr{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,o,l){e.forEach(d=>{const p=this._doc.createElement("style");p.textContent=d,l.push(o.appendChild(p))})}addHost(e){const o=[];this._addStylesToHost(this._stylesSet,e,o),this._hostNodes.set(e,o)}removeHost(e){const o=this._hostNodes.get(e);o&&o.forEach(Gs),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((o,l)=>{this._addStylesToHost(e,l,o)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Gs))}}return r.\u0275fac=function(e){return new(e||r)(g.LFG(ae))},r.\u0275prov=g.Yz7({token:r,factory:r.\u0275fac}),r})();function Gs(r){x().remove(r)}const Xe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},zs=/%COMP%/g;function we(r,t,e){for(let o=0;o<t.length;o++){let l=t[o];Array.isArray(l)?we(r,l,e):(l=l.replace(zs,r),e.push(l))}return e}function pt(r){return t=>{if("__ngUnwrap__"===t)return r;!1===r(t)&&(t.preventDefault(),t.returnValue=!1)}}let $t=(()=>{class r{constructor(e,o,l){this.eventManager=e,this.sharedStylesHost=o,this.appId=l,this.rendererByCompId=new Map,this.defaultRenderer=new Zs(e)}createRenderer(e,o){if(!e||!o)return this.defaultRenderer;switch(o.encapsulation){case g.ifc.Emulated:{let l=this.rendererByCompId.get(o.id);return l||(l=new Lo(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,l)),l.applyToHost(e),l}case 1:case g.ifc.ShadowDom:return new vl(this.eventManager,this.sharedStylesHost,e,o);default:if(!this.rendererByCompId.has(o.id)){const l=we(o.id,o.styles,[]);this.sharedStylesHost.addStyles(l),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return r.\u0275fac=function(e){return new(e||r)(g.LFG(di),g.LFG(Xr),g.LFG(g.AFp))},r.\u0275prov=g.Yz7({token:r,factory:r.\u0275fac}),r})();class Zs{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Xe[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,o){t&&t.insertBefore(e,o)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let o="string"==typeof t?document.querySelector(t):t;if(!o)throw new Error(`The selector "${t}" did not match any elements`);return e||(o.textContent=""),o}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,o,l){if(l){e=l+":"+e;const d=Xe[l];d?t.setAttributeNS(d,e,o):t.setAttribute(e,o)}else t.setAttribute(e,o)}removeAttribute(t,e,o){if(o){const l=Xe[o];l?t.removeAttributeNS(l,e):t.removeAttribute(`${o}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,o,l){l&(g.JOm.DashCase|g.JOm.Important)?t.style.setProperty(e,o,l&g.JOm.Important?"important":""):t.style[e]=o}removeStyle(t,e,o){o&g.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,o){t[e]=o}setValue(t,e){t.nodeValue=e}listen(t,e,o){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,pt(o)):this.eventManager.addEventListener(t,e,pt(o))}}class Lo extends Zs{constructor(t,e,o,l){super(t),this.component=o;const d=we(l+"-"+o.id,o.styles,[]);e.addStyles(d),this.contentAttr=function ml(r){return"_ngcontent-%COMP%".replace(zs,r)}(l+"-"+o.id),this.hostAttr=function _l(r){return"_nghost-%COMP%".replace(zs,r)}(l+"-"+o.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const o=super.createElement(t,e);return super.setAttribute(o,this.contentAttr,""),o}}class vl extends Zs{constructor(t,e,o,l){super(t),this.sharedStylesHost=e,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=we(l.id,l.styles,[]);for(let p=0;p<d.length;p++){const E=document.createElement("style");E.textContent=d[p],this.shadowRoot.appendChild(E)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,o){return super.insertBefore(this.nodeOrShadowRoot(t),e,o)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ah=(()=>{class r extends No{constructor(e){super(e)}supports(e){return!0}addEventListener(e,o,l){return e.addEventListener(o,l,!1),()=>this.removeEventListener(e,o,l)}removeEventListener(e,o,l){return e.removeEventListener(o,l)}}return r.\u0275fac=function(e){return new(e||r)(g.LFG(ae))},r.\u0275prov=g.Yz7({token:r,factory:r.\u0275fac}),r})();const ba=["alt","control","meta","shift"],Ta={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ln={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},hi={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey};let Bo=(()=>{class r extends No{constructor(e){super(e)}supports(e){return null!=r.parseEventName(e)}addEventListener(e,o,l){const d=r.parseEventName(o),p=r.eventCallback(d.fullKey,l,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>x().onAndCancel(e,d.domEventName,p))}static parseEventName(e){const o=e.toLowerCase().split("."),l=o.shift();if(0===o.length||"keydown"!==l&&"keyup"!==l)return null;const d=r._normalizeKey(o.pop());let p="";if(ba.forEach(D=>{const R=o.indexOf(D);R>-1&&(o.splice(R,1),p+=D+".")}),p+=d,0!=o.length||0===d.length)return null;const E={};return E.domEventName=l,E.fullKey=p,E}static getEventFullKey(e){let o="",l=function Ni(r){let t=r.key;if(null==t){if(t=r.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===r.location&&ln.hasOwnProperty(t)&&(t=ln[t]))}return Ta[t]||t}(e);return l=l.toLowerCase()," "===l?l="space":"."===l&&(l="dot"),ba.forEach(d=>{d!=l&&hi[d](e)&&(o+=d+".")}),o+=l,o}static eventCallback(e,o,l){return d=>{r.getEventFullKey(d)===e&&l.runGuarded(()=>o(d))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return r.\u0275fac=function(e){return new(e||r)(g.LFG(ae))},r.\u0275prov=g.Yz7({token:r,factory:r.\u0275fac}),r})();const Sa=(0,g.eFA)(g._c5,"browser",[{provide:g.Lbi,useValue:"browser"},{provide:g.g9A,useValue:function Fr(){os.makeCurrent(),Jr.init()},multi:!0},{provide:ae,useFactory:function Aa(){return(0,g.RDi)(document),document},deps:[]}]),Vo=[{provide:g.zSh,useValue:"root"},{provide:g.qLn,useFactory:function El(){return new g.qLn},deps:[]},{provide:as,useClass:ah,multi:!0,deps:[ae,g.R0b,g.Lbi]},{provide:as,useClass:Bo,multi:!0,deps:[ae]},{provide:$t,useClass:$t,deps:[di,Xr,g.AFp]},{provide:g.FYo,useExisting:$t},{provide:kr,useExisting:Xr},{provide:Xr,useClass:Xr,deps:[ae]},{provide:g.dDg,useClass:g.dDg,deps:[g.R0b]},{provide:di,useClass:di,deps:[as,g.R0b]},{provide:class Ft{},useClass:Mn,deps:[]}];let jo=(()=>{class r{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:r,providers:[{provide:g.AFp,useValue:e.appId},{provide:Rn,useExisting:g.AFp},Kt]}}}return r.\u0275fac=function(e){return new(e||r)(g.LFG(r,12))},r.\u0275mod=g.oAB({type:r}),r.\u0275inj=g.cJS({providers:Vo,imports:[gu,g.hGG]}),r})();"undefined"!=typeof window&&window;var Pn=P(8996),Go=P(7669);function Ge(...r){const t=(0,Go.yG)(r);return(0,Pn.D)(r,t)}var _r=P(7579);class yr extends _r.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:o}=this;if(t)throw e;return this._throwIfClosed(),o}next(t){super.next(this._value=t)}}var vn=P(8306);const{isArray:Dl}=Array,{getPrototypeOf:Du,prototype:ni,keys:bl}=Object;var vr=P(4671),vt=P(4004);const{isArray:xa}=Array;var en=P(5403),Js=P(9672);function Xs(...r){const t=(0,Go.yG)(r),e=(0,Go.jO)(r),{args:o,keys:l}=function jt(r){if(1===r.length){const t=r[0];if(Dl(t))return{args:t,keys:null};if(function zo(r){return r&&"object"==typeof r&&Du(r)===ni}(t)){const e=bl(t);return{args:e.map(o=>t[o]),keys:e}}}return{args:r,keys:null}}(r);if(0===o.length)return(0,Pn.D)([],t);const d=new vn.y(function ki(r,t,e=vr.y){return o=>{xn(t,()=>{const{length:l}=r,d=new Array(l);let p=l,E=l;for(let D=0;D<l;D++)xn(t,()=>{const R=(0,Pn.D)(r[D],t);let U=!1;R.subscribe((0,en.x)(o,k=>{d[D]=k,U||(U=!0,E--),E||o.next(e(d.slice()))},()=>{--p||o.complete()}))},o)},o)}}(o,t,l?p=>function Tu(r,t){return r.reduce((e,o,l)=>(e[o]=t[l],e),{})}(l,p):vr.y));return e?d.pipe(function Fc(r){return(0,vt.U)(t=>function bu(r,t){return xa(t)?r(...t):r(t)}(r,t))}(e)):d}function xn(r,t,e){r?(0,Js.f)(e,r,t):t()}var Oa=P(576);function Fi(r,t){const e=(0,Oa.m)(r)?r:()=>r,o=l=>l.error(e());return new vn.y(t?l=>t.schedule(o,0,l):o)}const Li=(0,P(3888).d)(r=>function(){r(this),this.name="EmptyError",this.message="no elements in sequence"});var to=P(8189);function no(...r){return function ds(){return(0,to.J)(1)}()((0,Pn.D)(r,(0,Go.yG)(r)))}var ro=P(8421);function io(r){return new vn.y(t=>{(0,ro.Xf)(r()).subscribe(t)})}var Zo=P(515),Ui=P(727),Dn=P(4482);function hs(){return(0,Dn.e)((r,t)=>{let e=null;r._refCount++;const o=(0,en.x)(t,void 0,void 0,void 0,()=>{if(!r||r._refCount<=0||0<--r._refCount)return void(e=null);const l=r._connection,d=e;e=null,l&&(!d||l===d)&&l.unsubscribe(),t.unsubscribe()});r.subscribe(o),o.closed||(e=r.connect())})}class Tl extends vn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Dn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ui.w0;const e=this.getSubject();t.add(this.source.subscribe((0,en.x)(e,void 0,()=>{this._teardown(),e.complete()},o=>{this._teardown(),e.error(o)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ui.w0.EMPTY)}return t}refCount(){return hs()(this)}}function un(r,t){return(0,Dn.e)((e,o)=>{let l=null,d=0,p=!1;const E=()=>p&&!l&&o.complete();e.subscribe((0,en.x)(o,D=>{null==l||l.unsubscribe();let R=0;const U=d++;(0,ro.Xf)(r(D,U)).subscribe(l=(0,en.x)(o,k=>o.next(t?t(D,k,U,R++):k),()=>{l=null,E()}))},()=>{p=!0,E()}))})}var fs=P(5698);function pi(r,t,e,o,l){return(d,p)=>{let E=e,D=t,R=0;d.subscribe((0,en.x)(p,U=>{const k=R++;D=E?r(D,U,k):(E=!0,U),o&&p.next(D)},l&&(()=>{E&&p.next(D),p.complete()})))}}function gi(r,t){return(0,Dn.e)(pi(r,t,arguments.length>=2,!0))}function ri(r,t){return(0,Dn.e)((e,o)=>{let l=0;e.subscribe((0,en.x)(o,d=>r.call(t,d,l++)&&o.next(d)))})}function Er(r){return(0,Dn.e)((t,e)=>{let d,o=null,l=!1;o=t.subscribe((0,en.x)(e,void 0,void 0,p=>{d=(0,ro.Xf)(r(p,Er(r)(t))),o?(o.unsubscribe(),o=null,d.subscribe(e)):l=!0})),l&&(o.unsubscribe(),o=null,d.subscribe(e))})}var tn=P(5577);function Na(r,t){return(0,Oa.m)(t)?(0,tn.z)(r,t,1):(0,tn.z)(r,1)}function Ko(r){return r<=0?()=>Zo.E:(0,Dn.e)((t,e)=>{let o=[];t.subscribe((0,en.x)(e,l=>{o.push(l),r<o.length&&o.shift()},()=>{for(const l of o)e.next(l);e.complete()},void 0,()=>{o=null}))})}function Wt(r=dh){return(0,Dn.e)((t,e)=>{let o=!1;t.subscribe((0,en.x)(e,l=>{o=!0,e.next(l)},()=>o?e.complete():e.error(r())))})}function dh(){return new Li}function hh(r){return(0,Dn.e)((t,e)=>{let o=!1;t.subscribe((0,en.x)(e,l=>{o=!0,e.next(l)},()=>{o||e.next(r),e.complete()}))})}function so(r,t){const e=arguments.length>=2;return o=>o.pipe(r?ri((l,d)=>r(l,d,o)):vr.y,(0,fs.q)(1),e?hh(t):Wt(()=>new Li))}var or=P(8505);class Bi{constructor(t,e){this.id=t,this.url=e}}class gs extends Bi{constructor(t,e,o="imperative",l=null){super(t,e),this.navigationTrigger=o,this.restoredState=l}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ka extends Bi{constructor(t,e,o){super(t,e),this.urlAfterRedirects=o}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class qt extends Bi{constructor(t,e,o){super(t,e),this.reason=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Al extends Bi{constructor(t,e,o){super(t,e),this.error=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ms extends Bi{constructor(t,e,o,l){super(t,e),this.urlAfterRedirects=o,this.state=l}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ap extends Bi{constructor(t,e,o,l){super(t,e),this.urlAfterRedirects=o,this.state=l}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sl extends Bi{constructor(t,e,o,l,d){super(t,e),this.urlAfterRedirects=o,this.state=l,this.shouldActivate=d}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Cr extends Bi{constructor(t,e,o,l){super(t,e),this.urlAfterRedirects=o,this.state=l}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ir extends Bi{constructor(t,e,o,l){super(t,e),this.urlAfterRedirects=o,this.state=l}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oo{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _s{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ys{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ao{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vs{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mi{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qo{constructor(t,e,o){this.routerEvent=t,this.position=e,this.anchor=o}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ht="primary";class Fa{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function bn(r){return new Fa(r)}const Yo="ngNavigationCancelingError";function Vi(r){const t=Error("NavigationCancelingError: "+r);return t[Yo]=!0,t}function Su(r,t,e){const o=e.path.split("/");if(o.length>r.length||"full"===e.pathMatch&&(t.hasChildren()||o.length<r.length))return null;const l={};for(let d=0;d<o.length;d++){const p=o[d],E=r[d];if(p.startsWith(":"))l[p.substring(1)]=E;else if(p!==E.path)return null}return{consumed:r.slice(0,o.length),posParams:l}}function Lr(r,t){const e=r?Object.keys(r):void 0,o=t?Object.keys(t):void 0;if(!e||!o||e.length!=o.length)return!1;let l;for(let d=0;d<e.length;d++)if(l=e[d],!La(r[l],t[l]))return!1;return!0}function La(r,t){if(Array.isArray(r)&&Array.isArray(t)){if(r.length!==t.length)return!1;const e=[...r].sort(),o=[...t].sort();return e.every((l,d)=>o[d]===l)}return r===t}function Ru(r){return Array.prototype.concat.apply([],r)}function ii(r){return r.length>0?r[r.length-1]:null}function Ut(r,t){for(const e in r)r.hasOwnProperty(e)&&t(r[e],e)}function On(r){return(0,g.CqO)(r)?r:(0,g.QGY)(r)?(0,Pn.D)(Promise.resolve(r)):Ge(r)}const lo={exact:function I(r,t,e){if(!Qe(r.segments,t.segments)||!K(r.segments,t.segments,e)||r.numberOfChildren!==t.numberOfChildren)return!1;for(const o in t.children)if(!r.children[o]||!I(r.children[o],t.children[o],e))return!1;return!0},subset:S},uo={exact:function Mu(r,t){return Lr(r,t)},subset:function w(r,t){return Object.keys(t).length<=Object.keys(r).length&&Object.keys(t).every(e=>La(r[e],t[e]))},ignored:()=>!0};function Es(r,t,e){return lo[e.paths](r.root,t.root,e.matrixParams)&&uo[e.queryParams](r.queryParams,t.queryParams)&&!("exact"===e.fragment&&r.fragment!==t.fragment)}function S(r,t,e){return F(r,t,t.segments,e)}function F(r,t,e,o){if(r.segments.length>e.length){const l=r.segments.slice(0,e.length);return!(!Qe(l,e)||t.hasChildren()||!K(l,e,o))}if(r.segments.length===e.length){if(!Qe(r.segments,e)||!K(r.segments,e,o))return!1;for(const l in t.children)if(!r.children[l]||!S(r.children[l],t.children[l],o))return!1;return!0}{const l=e.slice(0,r.segments.length),d=e.slice(r.segments.length);return!!(Qe(r.segments,l)&&K(r.segments,l,o)&&r.children[ht])&&F(r.children[ht],t,d,o)}}function K(r,t,e){return t.every((o,l)=>uo[e](r[l].parameters,o.parameters))}class te{constructor(t,e,o){this.root=t,this.queryParams=e,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bn(this.queryParams)),this._queryParamMap}toString(){return Tn.serialize(this)}}class he{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Ut(e,(o,l)=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return _i(this)}}class Me{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=bn(this.parameters)),this._parameterMap}toString(){return Va(this)}}function Qe(r,t){return r.length===t.length&&r.every((e,o)=>e.path===t[o].path)}class ot{}class $n{parse(t){const e=new cp(t);return new te(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${ar(t.root,!0)}`,o=function gh(r){const t=Object.keys(r).map(e=>{const o=r[e];return Array.isArray(o)?o.map(l=>`${Dr(e)}=${Dr(l)}`).join("&"):`${Dr(e)}=${Dr(o)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${o}${"string"==typeof t.fragment?`#${function br(r){return encodeURI(r)}(t.fragment)}`:""}`}}const Tn=new $n;function _i(r){return r.segments.map(t=>Va(t)).join("/")}function ar(r,t){if(!r.hasChildren())return _i(r);if(t){const e=r.children[ht]?ar(r.children[ht],!1):"",o=[];return Ut(r.children,(l,d)=>{d!==ht&&o.push(`${d}:${ar(l,!1)}`)}),o.length>0?`${e}(${o.join("//")})`:e}{const e=function Et(r,t){let e=[];return Ut(r.children,(o,l)=>{l===ht&&(e=e.concat(t(o,l)))}),Ut(r.children,(o,l)=>{l!==ht&&(e=e.concat(t(o,l)))}),e}(r,(o,l)=>l===ht?[ar(r.children[ht],!1)]:[`${l}:${ar(o,!1)}`]);return 1===Object.keys(r.children).length&&null!=r.children[ht]?`${_i(r)}/${e[0]}`:`${_i(r)}/(${e.join("//")})`}}function wr(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Dr(r){return wr(r).replace(/%3B/gi,";")}function Ua(r){return wr(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ba(r){return decodeURIComponent(r)}function Ml(r){return Ba(r.replace(/\+/g,"%20"))}function Va(r){return`${Ua(r.path)}${function ph(r){return Object.keys(r).map(t=>`;${Ua(t)}=${Ua(r[t])}`).join("")}(r.parameters)}`}const Lc=/^[^\/()?;=#]+/;function Cs(r){const t=r.match(Lc);return t?t[0]:""}const Pl=/^[^=?&#]+/,mh=/^[^&#]+/;class cp{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new he([],{}):new he([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(o[ht]=new he(t,e)),o}parseSegment(){const t=Cs(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Me(Ba(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Cs(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const l=Cs(this.remaining);l&&(o=l,this.capture(o))}t[Ba(e)]=Ba(o)}parseQueryParam(t){const e=function up(r){const t=r.match(Pl);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const p=function _h(r){const t=r.match(mh);return t?t[0]:""}(this.remaining);p&&(o=p,this.capture(o))}const l=Ml(e),d=Ml(o);if(t.hasOwnProperty(l)){let p=t[l];Array.isArray(p)||(p=[p],t[l]=p),p.push(d)}else t[l]=d}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=Cs(this.remaining),l=this.remaining[o.length];if("/"!==l&&")"!==l&&";"!==l)throw new Error(`Cannot parse url '${this.url}'`);let d;o.indexOf(":")>-1?(d=o.substr(0,o.indexOf(":")),this.capture(d),this.capture(":")):t&&(d=ht);const p=this.parseChildren();e[d]=1===Object.keys(p).length?p[ht]:new he([],p),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class yh{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Uc(t,this._root);return e?e.children.map(o=>o.value):[]}firstChild(t){const e=Uc(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=ja(t,this._root);return e.length<2?[]:e[e.length-2].children.map(l=>l.value).filter(l=>l!==t)}pathFromRoot(t){return ja(t,this._root).map(e=>e.value)}}function Uc(r,t){if(r===t.value)return t;for(const e of t.children){const o=Uc(r,e);if(o)return o}return null}function ja(r,t){if(r===t.value)return[t];for(const e of t.children){const o=ja(r,e);if(o.length)return o.unshift(t),o}return[]}class Is{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function ws(r){const t={};return r&&r.children.forEach(e=>t[e.value.outlet]=e),t}class Pu extends yh{constructor(t,e){super(t),this.snapshot=e,Ou(this,t)}toString(){return this.snapshot.toString()}}function Qo(r,t){const e=function dp(r,t){const p=new ho([],{},{},"",{},ht,t,null,r.root,-1,{});return new Bc("",new Is(p,[]))}(r,t),o=new yr([new Me("",{})]),l=new yr({}),d=new yr({}),p=new yr({}),E=new yr(""),D=new co(o,l,p,E,d,ht,t,e.root);return D.snapshot=e.root,new Pu(new Is(D,[]),e)}class co{constructor(t,e,o,l,d,p,E,D){this.url=t,this.params=e,this.queryParams=o,this.fragment=l,this.data=d,this.outlet=p,this.component=E,this._futureSnapshot=D}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,vt.U)(t=>bn(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,vt.U)(t=>bn(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function hp(r,t="emptyOnly"){const e=r.pathFromRoot;let o=0;if("always"!==t)for(o=e.length-1;o>=1;){const l=e[o],d=e[o-1];if(l.routeConfig&&""===l.routeConfig.path)o--;else{if(d.component)break;o--}}return function xu(r){return r.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(o))}class ho{constructor(t,e,o,l,d,p,E,D,R,U,k){this.url=t,this.params=e,this.queryParams=o,this.fragment=l,this.data=d,this.outlet=p,this.component=E,this.routeConfig=D,this._urlSegment=R,this._lastPathIndex=U,this._resolve=k}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=bn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Bc extends yh{constructor(t,e){super(e),this.url=t,Ou(this,e)}toString(){return Vc(this._root)}}function Ou(r,t){t.value._routerState=r,t.children.forEach(e=>Ou(r,e))}function Vc(r){const t=r.children.length>0?` { ${r.children.map(Vc).join(", ")} } `:"";return`${r.value}${t}`}function Nu(r){if(r.snapshot){const t=r.snapshot,e=r._futureSnapshot;r.snapshot=e,Lr(t.queryParams,e.queryParams)||r.queryParams.next(e.queryParams),t.fragment!==e.fragment&&r.fragment.next(e.fragment),Lr(t.params,e.params)||r.params.next(e.params),function ji(r,t){if(r.length!==t.length)return!1;for(let e=0;e<r.length;++e)if(!Lr(r[e],t[e]))return!1;return!0}(t.url,e.url)||r.url.next(e.url),Lr(t.data,e.data)||r.data.next(e.data)}else r.snapshot=r._futureSnapshot,r.data.next(r._futureSnapshot.data)}function jc(r,t){const e=Lr(r.params,t.params)&&function ut(r,t){return Qe(r,t)&&r.every((e,o)=>Lr(e.parameters,t[o].parameters))}(r.url,t.url);return e&&!(!r.parent!=!t.parent)&&(!r.parent||jc(r.parent,t.parent))}function xl(r,t,e){if(e&&r.shouldReuseRoute(t.value,e.value.snapshot)){const o=e.value;o._futureSnapshot=t.value;const l=function fp(r,t,e){return t.children.map(o=>{for(const l of e.children)if(r.shouldReuseRoute(o.value,l.value.snapshot))return xl(r,o,l);return xl(r,o)})}(r,t,e);return new Is(o,l)}{if(r.shouldAttach(t.value)){const d=r.retrieve(t.value);if(null!==d){const p=d.route;return p.value._futureSnapshot=t.value,p.children=t.children.map(E=>xl(r,E)),p}}const o=function pp(r){return new co(new yr(r.url),new yr(r.params),new yr(r.queryParams),new yr(r.fragment),new yr(r.data),r.outlet,r.component,r)}(t.value),l=t.children.map(d=>xl(r,d));return new Is(o,l)}}function Hi(r){return"object"==typeof r&&null!=r&&!r.outlets&&!r.segmentPath}function Ol(r){return"object"==typeof r&&null!=r&&r.outlets}function ku(r,t,e,o,l){let d={};if(o&&Ut(o,(E,D)=>{d[D]=Array.isArray(E)?E.map(R=>`${R}`):`${E}`}),r===t)return new te(e,d,l);const p=gp(r,t,e);return new te(p,d,l)}function gp(r,t,e){const o={};return Ut(r.children,(l,d)=>{o[d]=l===t?e:gp(l,t,e)}),new he(r.segments,o)}class Eh{constructor(t,e,o){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=o,t&&o.length>0&&Hi(o[0]))throw new Error("Root segment cannot have matrix parameters");const l=o.find(Ol);if(l&&l!==ii(o))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Fu{constructor(t,e,o){this.segmentGroup=t,this.processChildren=e,this.index=o}}function Dh(r,t,e){if(r||(r=new he([],{})),0===r.segments.length&&r.hasChildren())return Lu(r,t,e);const o=function r_(r,t,e){let o=0,l=t;const d={match:!1,pathIndex:0,commandIndex:0};for(;l<r.segments.length;){if(o>=e.length)return d;const p=r.segments[l],E=e[o];if(Ol(E))break;const D=`${E}`,R=o<e.length-1?e[o+1]:null;if(l>0&&void 0===D)break;if(D&&R&&"object"==typeof R&&void 0===R.outlets){if(!yi(D,R,p))return d;o+=2}else{if(!yi(D,{},p))return d;o++}l++}return{match:!0,pathIndex:l,commandIndex:o}}(r,t,e),l=e.slice(o.commandIndex);if(o.match&&o.pathIndex<r.segments.length){const d=new he(r.segments.slice(0,o.pathIndex),{});return d.children[ht]=new he(r.segments.slice(o.pathIndex),r.children),Lu(d,0,l)}return o.match&&0===l.length?new he(r.segments,{}):o.match&&!r.hasChildren()?bh(r,t,e):o.match?Lu(r,0,l):bh(r,t,e)}function Lu(r,t,e){if(0===e.length)return new he(r.segments,{});{const o=function wh(r){return Ol(r[0])?r[0].outlets:{[ht]:r}}(e),l={};return Ut(o,(d,p)=>{"string"==typeof d&&(d=[d]),null!==d&&(l[p]=Dh(r.children[p],t,d))}),Ut(r.children,(d,p)=>{void 0===o[p]&&(l[p]=d)}),new he(r.segments,l)}}function bh(r,t,e){const o=r.segments.slice(0,t);let l=0;for(;l<e.length;){const d=e[l];if(Ol(d)){const D=$i(d.outlets);return new he(o,D)}if(0===l&&Hi(e[0])){o.push(new Me(r.segments[t].path,Hc(e[0]))),l++;continue}const p=Ol(d)?d.outlets[ht]:`${d}`,E=l<e.length-1?e[l+1]:null;p&&E&&Hi(E)?(o.push(new Me(p,Hc(E))),l+=2):(o.push(new Me(p,{})),l++)}return new he(o,{})}function $i(r){const t={};return Ut(r,(e,o)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[o]=bh(new he([],{}),0,e))}),t}function Hc(r){const t={};return Ut(r,(e,o)=>t[o]=`${e}`),t}function yi(r,t,e){return r==e.path&&Lr(t,e.parameters)}class Th{constructor(t,e,o,l){this.routeReuseStrategy=t,this.futureState=e,this.currState=o,this.forwardEvent=l}activate(t){const e=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,o,t),Nu(this.futureState.root),this.activateChildRoutes(e,o,t)}deactivateChildRoutes(t,e,o){const l=ws(e);t.children.forEach(d=>{const p=d.value.outlet;this.deactivateRoutes(d,l[p],o),delete l[p]}),Ut(l,(d,p)=>{this.deactivateRouteAndItsChildren(d,o)})}deactivateRoutes(t,e,o){const l=t.value,d=e?e.value:null;if(l===d)if(l.component){const p=o.getContext(l.outlet);p&&this.deactivateChildRoutes(t,e,p.children)}else this.deactivateChildRoutes(t,e,o);else d&&this.deactivateRouteAndItsChildren(e,o)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const o=e.getContext(t.value.outlet),l=o&&t.value.component?o.children:e,d=ws(t);for(const p of Object.keys(d))this.deactivateRouteAndItsChildren(d[p],l);if(o&&o.outlet){const p=o.outlet.detach(),E=o.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:p,route:t,contexts:E})}}deactivateRouteAndOutlet(t,e){const o=e.getContext(t.value.outlet),l=o&&t.value.component?o.children:e,d=ws(t);for(const p of Object.keys(d))this.deactivateRouteAndItsChildren(d[p],l);o&&o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated(),o.attachRef=null,o.resolver=null,o.route=null)}activateChildRoutes(t,e,o){const l=ws(e);t.children.forEach(d=>{this.activateRoutes(d,l[d.value.outlet],o),this.forwardEvent(new mi(d.value.snapshot))}),t.children.length&&this.forwardEvent(new ao(t.value.snapshot))}activateRoutes(t,e,o){const l=t.value,d=e?e.value:null;if(Nu(l),l===d)if(l.component){const p=o.getOrCreateContext(l.outlet);this.activateChildRoutes(t,e,p.children)}else this.activateChildRoutes(t,e,o);else if(l.component){const p=o.getOrCreateContext(l.outlet);if(this.routeReuseStrategy.shouldAttach(l.snapshot)){const E=this.routeReuseStrategy.retrieve(l.snapshot);this.routeReuseStrategy.store(l.snapshot,null),p.children.onOutletReAttached(E.contexts),p.attachRef=E.componentRef,p.route=E.route.value,p.outlet&&p.outlet.attach(E.componentRef,E.route.value),Nu(E.route.value),this.activateChildRoutes(t,null,p.children)}else{const E=function Uu(r){for(let t=r.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(l.snapshot),D=E?E.module.componentFactoryResolver:null;p.attachRef=null,p.route=l,p.resolver=D,p.outlet&&p.outlet.activateWith(l,D),this.activateChildRoutes(t,null,p.children)}}else this.activateChildRoutes(t,null,o)}}class Bu{constructor(t,e){this.routes=t,this.module=e}}function Xo(r){return"function"==typeof r}function Ha(r){return r instanceof te}const Vu=Symbol("INITIAL_VALUE");function $a(){return un(r=>Xs(r.map(t=>t.pipe((0,fs.q)(1),function ps(...r){const t=(0,Go.yG)(r);return(0,Dn.e)((e,o)=>{(t?no(r,e,t):no(r,e)).subscribe(o)})}(Vu)))).pipe(gi((t,e)=>{let o=!1;return e.reduce((l,d,p)=>l!==Vu?l:(d===Vu&&(o=!0),o||!1!==d&&p!==e.length-1&&!Ha(d)?l:d),t)},Vu),ri(t=>t!==Vu),(0,vt.U)(t=>Ha(t)?t:!0===t),(0,fs.q)(1)))}class mp{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Wa,this.attachRef=null}}class Wa{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const o=this.getOrCreateContext(t);o.outlet=e,this.contexts.set(t,o)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new mp,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let kl=(()=>{class r{constructor(e,o,l,d,p){this.parentContexts=e,this.location=o,this.resolver=l,this.changeDetector=p,this.activated=null,this._activatedRoute=null,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.attachEvents=new g.vpe,this.detachEvents=new g.vpe,this.name=d||ht,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,o){this.activated=e,this._activatedRoute=o,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,o){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const p=(o=o||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),E=this.parentContexts.getOrCreateContext(this.name).children,D=new _p(e,E,this.location.injector);this.activated=this.location.createComponent(p,this.location.length,D),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return r.\u0275fac=function(e){return new(e||r)(g.Y36(Wa),g.Y36(g.s_b),g.Y36(g._Vd),g.$8M("name"),g.Y36(g.sBO))},r.\u0275dir=g.lG2({type:r,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),r})();class _p{constructor(t,e,o){this.route=t,this.childContexts=e,this.parent=o}get(t,e){return t===co?this.route:t===Wa?this.childContexts:this.parent.get(t,e)}}let Gc=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=g.Xpm({type:r,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,o){1&e&&g._UZ(0,"router-outlet")},directives:[kl],encapsulation:2}),r})();function ea(r,t=""){for(let e=0;e<r.length;e++){const o=r[e];zc(o,Zc(t,o))}}function zc(r,t){r.children&&ea(r.children,t)}function Zc(r,t){return t?r||t.path?r&&!t.path?`${r}/`:!r&&t.path?t.path:`${r}/${t.path}`:"":r}function Kc(r){const t=r.children&&r.children.map(Kc),e=t?Object.assign(Object.assign({},r),{children:t}):Object.assign({},r);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==ht&&(e.component=Gc),e}function At(r){return r.outlet||ht}function qc(r,t){const e=r.filter(o=>At(o)===t);return e.push(...r.filter(o=>At(o)!==t)),e}const Sh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ga(r,t,e){var o;if(""===t.path)return"full"===t.pathMatch&&(r.hasChildren()||e.length>0)?Object.assign({},Sh):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const d=(t.matcher||Su)(e,r,t);if(!d)return Object.assign({},Sh);const p={};Ut(d.posParams,(D,R)=>{p[R]=D.path});const E=d.consumed.length>0?Object.assign(Object.assign({},p),d.consumed[d.consumed.length-1].parameters):p;return{matched:!0,consumedSegments:d.consumed,remainingSegments:e.slice(d.consumed.length),parameters:E,positionalParamSegments:null!==(o=d.posParams)&&void 0!==o?o:{}}}function za(r,t,e,o,l="corrected"){if(e.length>0&&function Ep(r,t,e){return e.some(o=>ta(r,t,o)&&At(o)!==ht)}(r,e,o)){const p=new he(t,function vp(r,t,e,o){const l={};l[ht]=o,o._sourceSegment=r,o._segmentIndexShift=t.length;for(const d of e)if(""===d.path&&At(d)!==ht){const p=new he([],{});p._sourceSegment=r,p._segmentIndexShift=t.length,l[At(d)]=p}return l}(r,t,o,new he(e,r.children)));return p._sourceSegment=r,p._segmentIndexShift=t.length,{segmentGroup:p,slicedSegments:[]}}if(0===e.length&&function Cp(r,t,e){return e.some(o=>ta(r,t,o))}(r,e,o)){const p=new he(r.segments,function yp(r,t,e,o,l,d){const p={};for(const E of o)if(ta(r,e,E)&&!l[At(E)]){const D=new he([],{});D._sourceSegment=r,D._segmentIndexShift="legacy"===d?r.segments.length:t.length,p[At(E)]=D}return Object.assign(Object.assign({},l),p)}(r,t,e,o,r.children,l));return p._sourceSegment=r,p._segmentIndexShift=t.length,{segmentGroup:p,slicedSegments:e}}const d=new he(r.segments,r.children);return d._sourceSegment=r,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:e}}function ta(r,t,e){return(!(r.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Ip(r,t,e,o){return!!(At(r)===o||o!==ht&&ta(t,e,r))&&("**"===r.path||Ga(t,r,e).matched)}function Rh(r,t,e){return 0===t.length&&!r.children[e]}class po{constructor(t){this.segmentGroup=t||null}}class Jn{constructor(t){this.urlTree=t}}function na(r){return Fi(new po(r))}function Yc(r){return Fi(new Jn(r))}class ju{constructor(t,e,o,l,d){this.configLoader=e,this.urlSerializer=o,this.urlTree=l,this.config=d,this.allowRedirects=!0,this.ngModule=t.get(g.h0i)}apply(){const t=za(this.urlTree.root,[],[],this.config).segmentGroup,e=new he(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,ht).pipe((0,vt.U)(d=>this.createUrlTree(Fl(d),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Er(d=>{if(d instanceof Jn)return this.allowRedirects=!1,this.match(d.urlTree);throw d instanceof po?this.noMatchError(d):d}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,ht).pipe((0,vt.U)(l=>this.createUrlTree(Fl(l),t.queryParams,t.fragment))).pipe(Er(l=>{throw l instanceof po?this.noMatchError(l):l}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,o){const l=t.segments.length>0?new he([],{[ht]:t}):t;return new te(l,e,o)}expandSegmentGroup(t,e,o,l){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(t,e,o).pipe((0,vt.U)(d=>new he([],d))):this.expandSegment(t,o,e,o.segments,l,!0)}expandChildren(t,e,o){const l=[];for(const d of Object.keys(o.children))"primary"===d?l.unshift(d):l.push(d);return(0,Pn.D)(l).pipe(Na(d=>{const p=o.children[d],E=qc(e,d);return this.expandSegmentGroup(t,E,p,d).pipe((0,vt.U)(D=>({segment:D,outlet:d})))}),gi((d,p)=>(d[p.outlet]=p.segment,d),{}),function op(r,t){const e=arguments.length>=2;return o=>o.pipe(r?ri((l,d)=>r(l,d,o)):vr.y,Ko(1),e?hh(t):Wt(()=>new Li))}())}expandSegment(t,e,o,l,d,p){return(0,Pn.D)(o).pipe(Na(E=>this.expandSegmentAgainstRoute(t,e,o,E,l,d,p).pipe(Er(R=>{if(R instanceof po)return Ge(null);throw R}))),so(E=>!!E),Er((E,D)=>{if(E instanceof Li||"EmptyError"===E.name)return Rh(e,l,d)?Ge(new he([],{})):na(e);throw E}))}expandSegmentAgainstRoute(t,e,o,l,d,p,E){return Ip(l,e,d,p)?void 0===l.redirectTo?this.matchSegmentAgainstRoute(t,e,l,d,p):E&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,o,l,d,p):na(e):na(e)}expandSegmentAgainstRouteUsingRedirect(t,e,o,l,d,p){return"**"===l.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,o,l,p):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,o,l,d,p)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,o,l){const d=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?Yc(d):this.lineralizeSegments(o,d).pipe((0,tn.z)(p=>{const E=new he(p,{});return this.expandSegment(t,E,e,p,l,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,o,l,d,p){const{matched:E,consumedSegments:D,remainingSegments:R,positionalParamSegments:U}=Ga(e,l,d);if(!E)return na(e);const k=this.applyRedirectCommands(D,l.redirectTo,U);return l.redirectTo.startsWith("/")?Yc(k):this.lineralizeSegments(l,k).pipe((0,tn.z)(J=>this.expandSegment(t,e,o,J.concat(R),p,!1)))}matchSegmentAgainstRoute(t,e,o,l,d){if("**"===o.path)return o.loadChildren?(o._loadedConfig?Ge(o._loadedConfig):this.configLoader.load(t.injector,o)).pipe((0,vt.U)(k=>(o._loadedConfig=k,new he(l,{})))):Ge(new he(l,{}));const{matched:p,consumedSegments:E,remainingSegments:D}=Ga(e,o,l);return p?this.getChildConfig(t,o,l).pipe((0,tn.z)(U=>{const k=U.module,J=U.routes,{segmentGroup:ye,slicedSegments:Oe}=za(e,E,D,J),at=new he(ye.segments,ye.children);if(0===Oe.length&&at.hasChildren())return this.expandChildren(k,J,at).pipe((0,vt.U)(li=>new he(E,li)));if(0===J.length&&0===Oe.length)return Ge(new he(E,{}));const bt=At(o)===d;return this.expandSegment(k,at,J,Oe,bt?ht:d,!0).pipe((0,vt.U)(Qt=>new he(E.concat(Qt.segments),Qt.children)))})):na(e)}getChildConfig(t,e,o){return e.children?Ge(new Bu(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Ge(e._loadedConfig):this.runCanLoadGuards(t.injector,e,o).pipe((0,tn.z)(l=>l?this.configLoader.load(t.injector,e).pipe((0,vt.U)(d=>(e._loadedConfig=d,d))):function Nn(r){return Fi(Vi(`Cannot load children because the guard of the route "path: '${r.path}'" returned false`))}(e))):Ge(new Bu([],t))}runCanLoadGuards(t,e,o){const l=e.canLoad;return l&&0!==l.length?Ge(l.map(p=>{const E=t.get(p);let D;if(function $c(r){return r&&Xo(r.canLoad)}(E))D=E.canLoad(e,o);else{if(!Xo(E))throw new Error("Invalid CanLoad guard");D=E(e,o)}return On(D)})).pipe($a(),(0,or.b)(p=>{if(!Ha(p))return;const E=Vi(`Redirecting to "${this.urlSerializer.serialize(p)}"`);throw E.url=p,E}),(0,vt.U)(p=>!0===p)):Ge(!0)}lineralizeSegments(t,e){let o=[],l=e.root;for(;;){if(o=o.concat(l.segments),0===l.numberOfChildren)return Ge(o);if(l.numberOfChildren>1||!l.children[ht])return Fi(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));l=l.children[ht]}}applyRedirectCommands(t,e,o){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,o)}applyRedirectCreatreUrlTree(t,e,o,l){const d=this.createSegmentGroup(t,e.root,o,l);return new te(d,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const o={};return Ut(t,(l,d)=>{if("string"==typeof l&&l.startsWith(":")){const E=l.substring(1);o[d]=e[E]}else o[d]=l}),o}createSegmentGroup(t,e,o,l){const d=this.createSegments(t,e.segments,o,l);let p={};return Ut(e.children,(E,D)=>{p[D]=this.createSegmentGroup(t,E,o,l)}),new he(d,p)}createSegments(t,e,o,l){return e.map(d=>d.path.startsWith(":")?this.findPosParam(t,d,l):this.findOrReturn(d,o))}findPosParam(t,e,o){const l=o[e.path.substring(1)];if(!l)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return l}findOrReturn(t,e){let o=0;for(const l of e){if(l.path===t.path)return e.splice(o),l;o++}return t}}function Fl(r){const t={};for(const o of Object.keys(r.children)){const d=Fl(r.children[o]);(d.segments.length>0||d.hasChildren())&&(t[o]=d)}return function wp(r){if(1===r.numberOfChildren&&r.children[ht]){const t=r.children[ht];return new he(r.segments.concat(t.segments),t.children)}return r}(new he(r.segments,t))}class Tr{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Ds{constructor(t,e){this.component=t,this.route=e}}function Ph(r,t,e){const o=r._root;return ia(o,t?t._root:null,e,[o.value])}function Za(r,t,e){const o=function Jc(r){if(!r)return null;for(let t=r.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(o?o.module.injector:e).get(r)}function ia(r,t,e,o,l={canDeactivateChecks:[],canActivateChecks:[]}){const d=ws(t);return r.children.forEach(p=>{(function Oh(r,t,e,o,l={canDeactivateChecks:[],canActivateChecks:[]}){const d=r.value,p=t?t.value:null,E=e?e.getContext(r.value.outlet):null;if(p&&d.routeConfig===p.routeConfig){const D=function Dp(r,t,e){if("function"==typeof e)return e(r,t);switch(e){case"pathParamsChange":return!Qe(r.url,t.url);case"pathParamsOrQueryParamsChange":return!Qe(r.url,t.url)||!Lr(r.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!jc(r,t)||!Lr(r.queryParams,t.queryParams);default:return!jc(r,t)}}(p,d,d.routeConfig.runGuardsAndResolvers);D?l.canActivateChecks.push(new Tr(o)):(d.data=p.data,d._resolvedData=p._resolvedData),ia(r,t,d.component?E?E.children:null:e,o,l),D&&E&&E.outlet&&E.outlet.isActivated&&l.canDeactivateChecks.push(new Ds(E.outlet.component,p))}else p&&Ar(t,E,l),l.canActivateChecks.push(new Tr(o)),ia(r,null,d.component?E?E.children:null:e,o,l)})(p,d[p.value.outlet],e,o.concat([p.value]),l),delete d[p.value.outlet]}),Ut(d,(p,E)=>Ar(p,e.getContext(E),l)),l}function Ar(r,t,e){const o=ws(r),l=r.value;Ut(o,(d,p)=>{Ar(d,l.component?t?t.children.getContext(p):null:t,e)}),e.canDeactivateChecks.push(new Ds(l.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,l))}class Fh{}function Wi(r){return new vn.y(t=>t.error(r))}class Lh{constructor(t,e,o,l,d,p){this.rootComponentType=t,this.config=e,this.urlTree=o,this.url=l,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=p}recognize(){const t=za(this.urlTree.root,[],[],this.config.filter(p=>void 0===p.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,ht);if(null===e)return null;const o=new ho([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ht,this.rootComponentType,null,this.urlTree.root,-1,{}),l=new Is(o,e),d=new Bc(this.url,l);return this.inheritParamsAndData(d._root),d}inheritParamsAndData(t){const e=t.value,o=hp(e,this.paramsInheritanceStrategy);e.params=Object.freeze(o.params),e.data=Object.freeze(o.data),t.children.forEach(l=>this.inheritParamsAndData(l))}processSegmentGroup(t,e,o){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,o)}processChildren(t,e){const o=[];for(const d of Object.keys(e.children)){const p=e.children[d],E=qc(t,d),D=this.processSegmentGroup(E,p,d);if(null===D)return null;o.push(...D)}const l=Bh(o);return function Uh(r){r.sort((t,e)=>t.value.outlet===ht?-1:e.value.outlet===ht?1:t.value.outlet.localeCompare(e.value.outlet))}(l),l}processSegment(t,e,o,l){for(const d of t){const p=this.processSegmentAgainstRoute(d,e,o,l);if(null!==p)return p}return Rh(e,o,l)?[]:null}processSegmentAgainstRoute(t,e,o,l){if(t.redirectTo||!Ip(t,e,o,l))return null;let d,p=[],E=[];if("**"===t.path){const ye=o.length>0?ii(o).parameters:{};d=new ho(o,ye,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,m(t),At(t),t.component,t,sa(e),vi(e)+o.length,c(t))}else{const ye=Ga(e,t,o);if(!ye.matched)return null;p=ye.consumedSegments,E=ye.remainingSegments,d=new ho(p,ye.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,m(t),At(t),t.component,t,sa(e),vi(e)+p.length,c(t))}const D=function Ap(r){return r.children?r.children:r.loadChildren?r._loadedConfig.routes:[]}(t),{segmentGroup:R,slicedSegments:U}=za(e,p,E,D.filter(ye=>void 0===ye.redirectTo),this.relativeLinkResolution);if(0===U.length&&R.hasChildren()){const ye=this.processChildren(D,R);return null===ye?null:[new Is(d,ye)]}if(0===D.length&&0===U.length)return[new Is(d,[])];const k=At(t)===l,J=this.processSegment(D,R,U,k?ht:l);return null===J?null:[new Is(d,J)]}}function td(r){const t=r.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Bh(r){const t=[],e=new Set;for(const o of r){if(!td(o)){t.push(o);continue}const l=t.find(d=>o.value.routeConfig===d.value.routeConfig);void 0!==l?(l.children.push(...o.children),e.add(l)):t.push(o)}for(const o of e){const l=Bh(o.children);t.push(new Is(o.value,l))}return t.filter(o=>!e.has(o))}function sa(r){let t=r;for(;t._sourceSegment;)t=t._sourceSegment;return t}function vi(r){let t=r,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function m(r){return r.data||{}}function c(r){return r.resolve||{}}function z(r){return[...Object.keys(r),...Object.getOwnPropertySymbols(r)]}function Re(r){return un(t=>{const e=r(t);return e?(0,Pn.D)(e).pipe((0,vt.U)(()=>t)):Ge(t)})}class Ye extends class tt{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const nn=new g.OlP("ROUTES");class Rr{constructor(t,e,o,l){this.injector=t,this.compiler=e,this.onLoadStartListener=o,this.onLoadEndListener=l}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const l=this.loadModuleFactory(e.loadChildren).pipe((0,vt.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(e);const p=d.create(t);return new Bu(Ru(p.injector.get(nn,void 0,g.XFs.Self|g.XFs.Optional)).map(Kc),p)}),Er(d=>{throw e._loader$=void 0,d}));return e._loader$=new Tl(l,()=>new _r.x).pipe(hs()),e._loader$}loadModuleFactory(t){return On(t()).pipe((0,tn.z)(e=>e instanceof g.YKP?Ge(e):(0,Pn.D)(this.compiler.compileModuleAsync(e))))}}class Sp{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function go(r){throw r}function $u(r,t,e){return t.parse("/")}function Wu(r,t){return Ge(null)}const nd={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Gu={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Mr=(()=>{class r{constructor(e,o,l,d,p,E,D){this.rootComponentType=e,this.urlSerializer=o,this.rootContexts=l,this.location=d,this.config=D,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new _r.x,this.errorHandler=go,this.malformedUriErrorHandler=$u,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Wu,afterPreactivation:Wu},this.urlHandlingStrategy=new Sp,this.routeReuseStrategy=new Ye,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=p.get(g.h0i),this.console=p.get(g.c2e);const k=p.get(g.R0b);this.isNgZoneEnabled=k instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(D),this.currentUrlTree=function lp(){return new te(new he([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Rr(p,E,J=>this.triggerEvent(new oo(J)),J=>this.triggerEvent(new _s(J))),this.routerState=Qo(this.currentUrlTree,this.rootComponentType),this.transitions=new yr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const o=this.events;return e.pipe(ri(l=>0!==l.id),(0,vt.U)(l=>Object.assign(Object.assign({},l),{extractedUrl:this.urlHandlingStrategy.extract(l.rawUrl)})),un(l=>{let d=!1,p=!1;return Ge(l).pipe((0,or.b)(E=>{this.currentNavigation={id:E.id,initialUrl:E.currentRawUrl,extractedUrl:E.extractedUrl,trigger:E.source,extras:E.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),un(E=>{const D=this.browserUrlTree.toString(),R=!this.navigated||E.extractedUrl.toString()!==D||D!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||R)&&this.urlHandlingStrategy.shouldProcessUrl(E.rawUrl))return id(E.source)&&(this.browserUrlTree=E.extractedUrl),Ge(E).pipe(un(k=>{const J=this.transitions.getValue();return o.next(new gs(k.id,this.serializeUrl(k.extractedUrl),k.source,k.restoredState)),J!==this.transitions.getValue()?Zo.E:Promise.resolve(k)}),function Mh(r,t,e,o){return un(l=>function ra(r,t,e,o,l){return new ju(r,t,e,o,l).apply()}(r,t,e,l.extractedUrl,o).pipe((0,vt.U)(d=>Object.assign(Object.assign({},l),{urlAfterRedirects:d}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,or.b)(k=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:k.urlAfterRedirects})}),function f(r,t,e,o,l){return(0,tn.z)(d=>function Ll(r,t,e,o,l="emptyOnly",d="legacy"){try{const p=new Lh(r,t,e,o,l,d).recognize();return null===p?Wi(new Fh):Ge(p)}catch(p){return Wi(p)}}(r,t,d.urlAfterRedirects,e(d.urlAfterRedirects),o,l).pipe((0,vt.U)(p=>Object.assign(Object.assign({},d),{targetSnapshot:p}))))}(this.rootComponentType,this.config,k=>this.serializeUrl(k),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,or.b)(k=>{if("eager"===this.urlUpdateStrategy){if(!k.extras.skipLocationChange){const ye=this.urlHandlingStrategy.merge(k.urlAfterRedirects,k.rawUrl);this.setBrowserUrl(ye,k)}this.browserUrlTree=k.urlAfterRedirects}const J=new ms(k.id,this.serializeUrl(k.extractedUrl),this.serializeUrl(k.urlAfterRedirects),k.targetSnapshot);o.next(J)}));if(R&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:J,extractedUrl:ye,source:Oe,restoredState:at,extras:bt}=E,Fn=new gs(J,this.serializeUrl(ye),Oe,at);o.next(Fn);const Qt=Qo(ye,this.rootComponentType).snapshot;return Ge(Object.assign(Object.assign({},E),{targetSnapshot:Qt,urlAfterRedirects:ye,extras:Object.assign(Object.assign({},bt),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=E.rawUrl,E.resolve(null),Zo.E}),Re(E=>{const{targetSnapshot:D,id:R,extractedUrl:U,rawUrl:k,extras:{skipLocationChange:J,replaceUrl:ye}}=E;return this.hooks.beforePreactivation(D,{navigationId:R,appliedUrlTree:U,rawUrlTree:k,skipLocationChange:!!J,replaceUrl:!!ye})}),(0,or.b)(E=>{const D=new ap(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(D)}),(0,vt.U)(E=>Object.assign(Object.assign({},E),{guards:Ph(E.targetSnapshot,E.currentSnapshot,this.rootContexts)})),function Nh(r,t){return(0,tn.z)(e=>{const{targetSnapshot:o,currentSnapshot:l,guards:{canActivateChecks:d,canDeactivateChecks:p}}=e;return 0===p.length&&0===d.length?Ge(Object.assign(Object.assign({},e),{guardsResult:!0})):function bp(r,t,e,o){return(0,Pn.D)(r).pipe((0,tn.z)(l=>function ed(r,t,e,o,l){const d=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return d&&0!==d.length?Ge(d.map(E=>{const D=Za(E,t,l);let R;if(function i_(r){return r&&Xo(r.canDeactivate)}(D))R=On(D.canDeactivate(r,t,e,o));else{if(!Xo(D))throw new Error("Invalid CanDeactivate guard");R=On(D(r,t,e,o))}return R.pipe(so())})).pipe($a()):Ge(!0)}(l.component,l.route,e,t,o)),so(l=>!0!==l,!0))}(p,o,l,r).pipe((0,tn.z)(E=>E&&function Ah(r){return"boolean"==typeof r}(E)?function Hu(r,t,e,o){return(0,Pn.D)(t).pipe(Na(l=>no(function kh(r,t){return null!==r&&t&&t(new ys(r)),Ge(!0)}(l.route.parent,o),function Tp(r,t){return null!==r&&t&&t(new vs(r)),Ge(!0)}(l.route,o),function Xc(r,t,e){const o=t[t.length-1],d=t.slice(0,t.length-1).reverse().map(p=>function xh(r){const t=r.routeConfig?r.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:r,guards:t}:null}(p)).filter(p=>null!==p).map(p=>io(()=>Ge(p.guards.map(D=>{const R=Za(D,p.node,e);let U;if(function Wc(r){return r&&Xo(r.canActivateChild)}(R))U=On(R.canActivateChild(o,r));else{if(!Xo(R))throw new Error("Invalid CanActivateChild guard");U=On(R(o,r))}return U.pipe(so())})).pipe($a())));return Ge(d).pipe($a())}(r,l.path,e),function Sr(r,t,e){const o=t.routeConfig?t.routeConfig.canActivate:null;if(!o||0===o.length)return Ge(!0);const l=o.map(d=>io(()=>{const p=Za(d,t,e);let E;if(function Nl(r){return r&&Xo(r.canActivate)}(p))E=On(p.canActivate(t,r));else{if(!Xo(p))throw new Error("Invalid CanActivate guard");E=On(p(t,r))}return E.pipe(so())}));return Ge(l).pipe($a())}(r,l.route,e))),so(l=>!0!==l,!0))}(o,d,r,t):Ge(E)),(0,vt.U)(E=>Object.assign(Object.assign({},e),{guardsResult:E})))})}(this.ngModule.injector,E=>this.triggerEvent(E)),(0,or.b)(E=>{if(Ha(E.guardsResult)){const R=Vi(`Redirecting to "${this.serializeUrl(E.guardsResult)}"`);throw R.url=E.guardsResult,R}const D=new Sl(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot,!!E.guardsResult);this.triggerEvent(D)}),ri(E=>!!E.guardsResult||(this.restoreHistory(E),this.cancelNavigationTransition(E,""),!1)),Re(E=>{if(E.guards.canActivateChecks.length)return Ge(E).pipe((0,or.b)(D=>{const R=new Cr(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);this.triggerEvent(R)}),un(D=>{let R=!1;return Ge(D).pipe(function y(r,t){return(0,tn.z)(e=>{const{targetSnapshot:o,guards:{canActivateChecks:l}}=e;if(!l.length)return Ge(e);let d=0;return(0,Pn.D)(l).pipe(Na(p=>function b(r,t,e,o){return function M(r,t,e,o){const l=z(r);if(0===l.length)return Ge({});const d={};return(0,Pn.D)(l).pipe((0,tn.z)(p=>function ce(r,t,e,o){const l=Za(r,t,o);return On(l.resolve?l.resolve(t,e):l(t,e))}(r[p],t,e,o).pipe((0,or.b)(E=>{d[p]=E}))),Ko(1),(0,tn.z)(()=>z(d).length===l.length?Ge(d):Zo.E))}(r._resolve,r,t,o).pipe((0,vt.U)(d=>(r._resolvedData=d,r.data=Object.assign(Object.assign({},r.data),hp(r,e).resolve),null)))}(p.route,o,r,t)),(0,or.b)(()=>d++),Ko(1),(0,tn.z)(p=>d===l.length?Ge(e):Zo.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,or.b)({next:()=>R=!0,complete:()=>{R||(this.restoreHistory(D),this.cancelNavigationTransition(D,"At least one route resolver didn't emit any value."))}}))}),(0,or.b)(D=>{const R=new Ir(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);this.triggerEvent(R)}))}),Re(E=>{const{targetSnapshot:D,id:R,extractedUrl:U,rawUrl:k,extras:{skipLocationChange:J,replaceUrl:ye}}=E;return this.hooks.afterPreactivation(D,{navigationId:R,appliedUrlTree:U,rawUrlTree:k,skipLocationChange:!!J,replaceUrl:!!ye})}),(0,vt.U)(E=>{const D=function vh(r,t,e){const o=xl(r,t._root,e?e._root:void 0);return new Pu(o,t)}(this.routeReuseStrategy,E.targetSnapshot,E.currentRouterState);return Object.assign(Object.assign({},E),{targetRouterState:D})}),(0,or.b)(E=>{this.currentUrlTree=E.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(E.urlAfterRedirects,E.rawUrl),this.routerState=E.targetRouterState,"deferred"===this.urlUpdateStrategy&&(E.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,E),this.browserUrlTree=E.urlAfterRedirects)}),((r,t,e)=>(0,vt.U)(o=>(new Th(t,o.targetRouterState,o.currentRouterState,e).activate(r),o)))(this.rootContexts,this.routeReuseStrategy,E=>this.triggerEvent(E)),(0,or.b)({next(){d=!0},complete(){d=!0}}),function Au(r){return(0,Dn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(r)}})}(()=>{var E;d||p||this.cancelNavigationTransition(l,`Navigation ID ${l.id} is not equal to the current navigation id ${this.navigationId}`),(null===(E=this.currentNavigation)||void 0===E?void 0:E.id)===l.id&&(this.currentNavigation=null)}),Er(E=>{if(p=!0,function fh(r){return r&&r[Yo]}(E)){const D=Ha(E.url);D||(this.navigated=!0,this.restoreHistory(l,!0));const R=new qt(l.id,this.serializeUrl(l.extractedUrl),E.message);o.next(R),D?setTimeout(()=>{const U=this.urlHandlingStrategy.merge(E.url,this.rawUrlTree),k={skipLocationChange:l.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||id(l.source)};this.scheduleNavigation(U,"imperative",null,k,{resolve:l.resolve,reject:l.reject,promise:l.promise})},0):l.resolve(!1)}else{this.restoreHistory(l,!0);const D=new Al(l.id,this.serializeUrl(l.extractedUrl),E);o.next(D);try{l.resolve(this.errorHandler(E))}catch(R){l.reject(R)}}return Zo.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const o="popstate"===e.type?"popstate":"hashchange";"popstate"===o&&setTimeout(()=>{var l;const d={replaceUrl:!0},p=(null===(l=e.state)||void 0===l?void 0:l.navigationId)?e.state:null;if(p){const D=Object.assign({},p);delete D.navigationId,delete D.\u0275routerPageId,0!==Object.keys(D).length&&(d.state=D)}const E=this.parseUrl(e.url);this.scheduleNavigation(E,o,p,d)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){ea(e),this.config=e.map(Kc),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,o={}){const{relativeTo:l,queryParams:d,fragment:p,queryParamsHandling:E,preserveFragment:D}=o,R=l||this.routerState.root,U=D?this.currentUrlTree.fragment:p;let k=null;switch(E){case"merge":k=Object.assign(Object.assign({},this.currentUrlTree.queryParams),d);break;case"preserve":k=this.currentUrlTree.queryParams;break;default:k=d||null}return null!==k&&(k=this.removeEmptyProps(k)),function fo(r,t,e,o,l){if(0===e.length)return ku(t.root,t.root,t.root,o,l);const d=function n_(r){if("string"==typeof r[0]&&1===r.length&&"/"===r[0])return new Eh(!0,0,r);let t=0,e=!1;const o=r.reduce((l,d,p)=>{if("object"==typeof d&&null!=d){if(d.outlets){const E={};return Ut(d.outlets,(D,R)=>{E[R]="string"==typeof D?D.split("/"):D}),[...l,{outlets:E}]}if(d.segmentPath)return[...l,d.segmentPath]}return"string"!=typeof d?[...l,d]:0===p?(d.split("/").forEach((E,D)=>{0==D&&"."===E||(0==D&&""===E?e=!0:".."===E?t++:""!=E&&l.push(E))}),l):[...l,d]},[]);return new Eh(e,t,o)}(e);if(d.toRoot())return ku(t.root,t.root,new he([],{}),o,l);const p=function Ch(r,t,e){if(r.isAbsolute)return new Fu(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const d=e.snapshot._urlSegment;return new Fu(d,d===t.root,0)}const o=Hi(r.commands[0])?0:1;return function Ih(r,t,e){let o=r,l=t,d=e;for(;d>l;){if(d-=l,o=o.parent,!o)throw new Error("Invalid number of '../'");l=o.segments.length}return new Fu(o,!1,l-d)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+o,r.numberOfDoubleDots)}(d,t,r),E=p.processChildren?Lu(p.segmentGroup,p.index,d.commands):Dh(p.segmentGroup,p.index,d.commands);return ku(t.root,p.segmentGroup,E,o,l)}(R,this.currentUrlTree,e,k,null!=U?U:null)}navigateByUrl(e,o={skipLocationChange:!1}){const l=Ha(e)?e:this.parseUrl(e),d=this.urlHandlingStrategy.merge(l,this.rawUrlTree);return this.scheduleNavigation(d,"imperative",null,o)}navigate(e,o={skipLocationChange:!1}){return function rd(r){for(let t=0;t<r.length;t++){const e=r[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,o),o)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let o;try{o=this.urlSerializer.parse(e)}catch(l){o=this.malformedUriErrorHandler(l,this.urlSerializer,e)}return o}isActive(e,o){let l;if(l=!0===o?Object.assign({},nd):!1===o?Object.assign({},Gu):o,Ha(e))return Es(this.currentUrlTree,e,l);const d=this.parseUrl(e);return Es(this.currentUrlTree,d,l)}removeEmptyProps(e){return Object.keys(e).reduce((o,l)=>{const d=e[l];return null!=d&&(o[l]=d),o},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new ka(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,o,l,d,p){var E,D;if(this.disposed)return Promise.resolve(!1);let R,U,k;p?(R=p.resolve,U=p.reject,k=p.promise):k=new Promise((Oe,at)=>{R=Oe,U=at});const J=++this.navigationId;let ye;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(l=this.location.getState()),ye=l&&l.\u0275routerPageId?l.\u0275routerPageId:d.replaceUrl||d.skipLocationChange?null!==(E=this.browserPageId)&&void 0!==E?E:0:(null!==(D=this.browserPageId)&&void 0!==D?D:0)+1):ye=0,this.setTransition({id:J,targetPageId:ye,source:o,restoredState:l,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:d,resolve:R,reject:U,promise:k,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),k.catch(Oe=>Promise.reject(Oe))}setBrowserUrl(e,o){const l=this.urlSerializer.serialize(e),d=Object.assign(Object.assign({},o.extras.state),this.generateNgRouterState(o.id,o.targetPageId));this.location.isCurrentPathEqualTo(l)||o.extras.replaceUrl?this.location.replaceState(l,"",d):this.location.go(l,"",d)}restoreHistory(e,o=!1){var l,d;if("computed"===this.canceledNavigationResolution){const p=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)||0===p?this.currentUrlTree===(null===(d=this.currentNavigation)||void 0===d?void 0:d.finalUrl)&&0===p&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(p)}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,o){const l=new qt(e.id,this.serializeUrl(e.extractedUrl),o);this.triggerEvent(l),e.resolve(!1)}generateNgRouterState(e,o){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:o}:{navigationId:e}}}return r.\u0275fac=function(e){g.$Z()},r.\u0275prov=g.Yz7({token:r,factory:r.\u0275fac}),r})();function id(r){return"imperative"!==r}let sd=(()=>{class r{constructor(e,o,l,d,p){this.router=e,this.route=o,this.tabIndexAttribute=l,this.renderer=d,this.el=p,this.commands=null,this.onChanges=new _r.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const o=this.renderer,l=this.el.nativeElement;null!==e?o.setAttribute(l,"tabindex",e):o.removeAttribute(l,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:qa(this.skipLocationChange),replaceUrl:qa(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:qa(this.preserveFragment)})}}return r.\u0275fac=function(e){return new(e||r)(g.Y36(Mr),g.Y36(co),g.$8M("tabindex"),g.Y36(g.Qsj),g.Y36(g.SBq))},r.\u0275dir=g.lG2({type:r,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,o){1&e&&g.NdJ("click",function(){return o.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[g.TTD]}),r})(),Ka=(()=>{class r{constructor(e,o,l){this.router=e,this.route=o,this.locationStrategy=l,this.commands=null,this.href=null,this.onChanges=new _r.x,this.subscription=e.events.subscribe(d=>{d instanceof ka&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,o,l,d,p){if(0!==e||o||l||d||p||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const E={skipLocationChange:qa(this.skipLocationChange),replaceUrl:qa(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,E),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:qa(this.preserveFragment)})}}return r.\u0275fac=function(e){return new(e||r)(g.Y36(Mr),g.Y36(co),g.Y36(ue))},r.\u0275dir=g.lG2({type:r,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,o){1&e&&g.NdJ("click",function(d){return o.onClick(d.button,d.ctrlKey,d.shiftKey,d.altKey,d.metaKey)}),2&e&&g.uIk("target",o.target)("href",o.href,g.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[g.TTD]}),r})();function qa(r){return""===r||!!r}let Rp=(()=>{class r{constructor(e,o,l,d,p,E){this.router=e,this.element=o,this.renderer=l,this.cdr=d,this.link=p,this.linkWithHref=E,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new g.vpe,this.routerEventsSubscription=e.events.subscribe(D=>{D instanceof ka&&this.update()})}ngAfterContentInit(){Ge(this.links.changes,this.linksWithHrefs.changes,Ge(null)).pipe((0,to.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const o=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(l=>!!l).map(l=>l.onChanges);this.linkInputChangesSubscription=(0,Pn.D)(o).pipe((0,to.J)()).subscribe(l=>{this.isActive!==this.isLinkActive(this.router)(l)&&this.update()})}set routerLinkActive(e){const o=Array.isArray(e)?e:e.split(" ");this.classes=o.filter(l=>!!l)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(o=>{e?this.renderer.addClass(this.element.nativeElement,o):this.renderer.removeClass(this.element.nativeElement,o)}),this.isActiveChange.emit(e))})}isLinkActive(e){const o=function Mp(r){return!!r.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return l=>!!l.urlTree&&e.isActive(l.urlTree,o)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return r.\u0275fac=function(e){return new(e||r)(g.Y36(Mr),g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(g.sBO),g.Y36(sd,8),g.Y36(Ka,8))},r.\u0275dir=g.lG2({type:r,selectors:[["","routerLinkActive",""]],contentQueries:function(e,o,l){if(1&e&&(g.Suo(l,sd,5),g.Suo(l,Ka,5)),2&e){let d;g.iGM(d=g.CRH())&&(o.links=d),g.iGM(d=g.CRH())&&(o.linksWithHrefs=d)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[g.TTD]}),r})();class Pp{}class o_{preload(t,e){return Ge(null)}}let a_=(()=>{class r{constructor(e,o,l,d){this.router=e,this.injector=l,this.preloadingStrategy=d,this.loader=new Rr(l,o,D=>e.triggerEvent(new oo(D)),D=>e.triggerEvent(new _s(D)))}setUpPreloading(){this.subscription=this.router.events.pipe(ri(e=>e instanceof ka),Na(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(g.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,o){const l=[];for(const d of o)if(d.loadChildren&&!d.canLoad&&d._loadedConfig){const p=d._loadedConfig;l.push(this.processRoutes(p.module,p.routes))}else d.loadChildren&&!d.canLoad?l.push(this.preloadConfig(e,d)):d.children&&l.push(this.processRoutes(e,d.children));return(0,Pn.D)(l).pipe((0,to.J)(),(0,vt.U)(d=>{}))}preloadConfig(e,o){return this.preloadingStrategy.preload(o,()=>(o._loadedConfig?Ge(o._loadedConfig):this.loader.load(e.injector,o)).pipe((0,tn.z)(d=>(o._loadedConfig=d,this.processRoutes(d.module,d.routes)))))}}return r.\u0275fac=function(e){return new(e||r)(g.LFG(Mr),g.LFG(g.Sil),g.LFG(g.zs3),g.LFG(Pp))},r.\u0275prov=g.Yz7({token:r,factory:r.\u0275fac}),r})(),Vh=(()=>{class r{constructor(e,o,l={}){this.router=e,this.viewportScroller=o,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof gs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof ka&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof qo&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,o){this.router.triggerEvent(new qo(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return r.\u0275fac=function(e){g.$Z()},r.\u0275prov=g.Yz7({token:r,factory:r.\u0275fac}),r})();const Ei=new g.OlP("ROUTER_CONFIGURATION"),Op=new g.OlP("ROUTER_FORROOT_GUARD"),l_=[me,{provide:ot,useClass:$n},{provide:Mr,useFactory:function kp(r,t,e,o,l,d,p={},E,D){const R=new Mr(null,r,t,e,o,l,Ru(d));return E&&(R.urlHandlingStrategy=E),D&&(R.routeReuseStrategy=D),function d_(r,t){r.errorHandler&&(t.errorHandler=r.errorHandler),r.malformedUriErrorHandler&&(t.malformedUriErrorHandler=r.malformedUriErrorHandler),r.onSameUrlNavigation&&(t.onSameUrlNavigation=r.onSameUrlNavigation),r.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=r.paramsInheritanceStrategy),r.relativeLinkResolution&&(t.relativeLinkResolution=r.relativeLinkResolution),r.urlUpdateStrategy&&(t.urlUpdateStrategy=r.urlUpdateStrategy),r.canceledNavigationResolution&&(t.canceledNavigationResolution=r.canceledNavigationResolution)}(p,R),p.enableTracing&&R.events.subscribe(U=>{var k,J;null===(k=console.group)||void 0===k||k.call(console,`Router Event: ${U.constructor.name}`),console.log(U.toString()),console.log(U),null===(J=console.groupEnd)||void 0===J||J.call(console)}),R},deps:[ot,Wa,me,g.zs3,g.Sil,nn,Ei,[class Ul{},new g.FiY],[class Ve{},new g.FiY]]},Wa,{provide:co,useFactory:function jh(r){return r.routerState.root},deps:[Mr]},a_,o_,class xp{preload(t,e){return e().pipe(Er(()=>Ge(null)))}},{provide:Ei,useValue:{enableTracing:!1}}];function gE(){return new g.PXZ("Router",Mr)}let od=(()=>{class r{constructor(e,o){}static forRoot(e,o){return{ngModule:r,providers:[l_,Np(e),{provide:Op,useFactory:c_,deps:[[Mr,new g.FiY,new g.tp0]]},{provide:Ei,useValue:o||{}},{provide:ue,useFactory:u_,deps:[ie,[new g.tBr(Le),new g.FiY],Ei]},{provide:Vh,useFactory:mE,deps:[Mr,hl,Ei]},{provide:Pp,useExisting:o&&o.preloadingStrategy?o.preloadingStrategy:o_},{provide:g.PXZ,multi:!0,useFactory:gE},[zu,{provide:g.ip1,multi:!0,useFactory:h_,deps:[zu]},{provide:Lp,useFactory:Fp,deps:[zu]},{provide:g.tb,multi:!0,useExisting:Lp}]]}}static forChild(e){return{ngModule:r,providers:[Np(e)]}}}return r.\u0275fac=function(e){return new(e||r)(g.LFG(Op,8),g.LFG(Mr,8))},r.\u0275mod=g.oAB({type:r}),r.\u0275inj=g.cJS({}),r})();function mE(r,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new Vh(r,t,e)}function u_(r,t,e={}){return e.useHash?new Ie(r,t):new je(r,t)}function c_(r){return"guarded"}function Np(r){return[{provide:g.deG,multi:!0,useValue:r},{provide:nn,multi:!0,useValue:r}]}let zu=(()=>{class r{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new _r.x}appInitializer(){return this.injector.get(H,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let o=null;const l=new Promise(E=>o=E),d=this.injector.get(Mr),p=this.injector.get(Ei);return"disabled"===p.initialNavigation?(d.setUpLocationChangeListener(),o(!0)):"enabled"===p.initialNavigation||"enabledBlocking"===p.initialNavigation?(d.hooks.afterPreactivation=()=>this.initNavigation?Ge(null):(this.initNavigation=!0,o(!0),this.resultOfPreactivationDone),d.initialNavigation()):o(!0),l})}bootstrapListener(e){const o=this.injector.get(Ei),l=this.injector.get(a_),d=this.injector.get(Vh),p=this.injector.get(Mr),E=this.injector.get(g.z2F);e===E.components[0]&&(("enabledNonBlocking"===o.initialNavigation||void 0===o.initialNavigation)&&p.initialNavigation(),l.setUpPreloading(),d.init(),p.resetRootComponentType(E.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return r.\u0275fac=function(e){return new(e||r)(g.LFG(g.zs3))},r.\u0275prov=g.Yz7({token:r,factory:r.\u0275fac}),r})();function h_(r){return r.appInitializer.bind(r)}function Fp(r){return r.bootstrapListener.bind(r)}const Lp=new g.OlP("Router Initializer");let _E=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=g.Xpm({type:r,selectors:[["app-aboutpage"]],decls:15,vars:0,consts:[[1,"row"],[1,"col-sm-6"],[1,"subtitle"],["src","../../assets/images/doggos.jpg","width","300","height","300"]],template:function(e,o){1&e&&(g.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),g._uU(3,"About Me"),g.qZA(),g.TgZ(4,"p"),g._uU(5,"Hi! My name's Nick and I'm a software developer currently based out of the Bay Area. I'm from northern Indiana (a.k.a. \"The Region\" for people in the know). "),g.qZA(),g.TgZ(6,"p"),g._uU(7,"As of writing this, I just got my bachelors in Comp Sci from IU Bloomington. I'm currently pursuing a master's in CS through Georgia Tech's online program (OMSCS :D)."),g.qZA(),g._UZ(8,"br"),g.TgZ(9,"h1",2),g._uU(10,"About this Site"),g.qZA(),g.TgZ(11,"p"),g._uU(12,"I use this site to document random cool stuff, problems that I've solved and how I solved them, books that I've liked, classes I've taken, cool photos (not a photographer btw), and whatever goes in the \"Miscellaneous\" category."),g.qZA()(),g.TgZ(13,"div",1),g._UZ(14,"img",3),g.qZA()())},styles:[""]}),r})(),f_=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=g.Xpm({type:r,selectors:[["app-contact"]],decls:11,vars:0,consts:[[1,"subtitle"],[2,"font-family","NeueHaasRoman","color","#e6e6e6"],["href","https://github.com/nemerson7",2,"color","rgb(51, 157, 255)"],["href","https://www.linkedin.com/in/nickfemerson/",2,"color","rgb(51, 157, 255)"]],template:function(e,o){1&e&&(g.TgZ(0,"h1",0),g._uU(1,"Contact"),g.qZA(),g.TgZ(2,"ul")(3,"li",1),g._uU(4,"Github: "),g.TgZ(5,"a",2),g._uU(6,"https://github.com/nemerson7"),g.qZA()(),g.TgZ(7,"li",1),g._uU(8,"LinkedIn: "),g.TgZ(9,"a",3),g._uU(10,"https://www.linkedin.com/in/nickfemerson/"),g.qZA()()())},styles:[""]}),r})();var yE=P(4986),Bp=P(6451),Vp=P(3099);function p_(r,t){return r===t}var pI=P(5032),Gi=P(5813),bs=P(2011),Ts=(P(7092),P(3942)),Bl=P(4859),Ya=P(5861),Vl=P(9681),N=P(2090),$h=P(1877);const m_="@firebase/database";let $p="";function __(r){$p=r}class EE{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,N.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,N.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class dt{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,N.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Wp=function(r){try{if("undefined"!=typeof window&&void 0!==window[r]){const t=window[r];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new EE(t)}}catch(t){}return new dt},Qa=Wp("localStorage"),Wh=Wp("sessionStorage"),oa=new $h.Yd("@firebase/database"),zi=function(){let r=1;return function(){return r++}}(),Gp=function(r){const t=(0,N.dS)(r),e=new N.gQ;e.update(t);const o=e.digest();return N.US.encodeByteArray(o)},ad=function(...r){let t="";for(let e=0;e<r.length;e++){const o=r[e];Array.isArray(o)||o&&"object"==typeof o&&"number"==typeof o.length?t+=ad.apply(null,o):t+="object"==typeof o?(0,N.Pz)(o):o,t+=" "}return t};let aa=null,mo=!0;const Gh=function(r,t){(0,N.hu)(!t||!0===r||!1===r,"Can't turn on custom loggers persistently."),!0===r?(oa.logLevel=$h.in.VERBOSE,aa=oa.log.bind(oa),t&&Wh.set("logging_enabled",!0)):"function"==typeof r?aa=r:(aa=null,Wh.remove("logging_enabled"))},Wn=function(...r){if(!0===mo&&(mo=!1,null===aa&&!0===Wh.get("logging_enabled")&&Gh(!0)),aa){const t=ad.apply(null,r);aa(t)}},jl=function(r){return function(...t){Wn(r,...t)}},y_=function(...r){const t="FIREBASE INTERNAL ERROR: "+ad(...r);oa.error(t)},As=function(...r){const t=`FIREBASE FATAL ERROR: ${ad(...r)}`;throw oa.error(t),new Error(t)},Ur=function(...r){const t="FIREBASE WARNING: "+ad(...r);oa.warn(t)},Hl=function(r){return"number"==typeof r&&(r!=r||r===Number.POSITIVE_INFINITY||r===Number.NEGATIVE_INFINITY)},Ss="[MIN_NAME]",Zi="[MAX_NAME]",Zu=function(r,t){if(r===t)return 0;if(r===Ss||t===Zi)return-1;if(t===Ss||r===Zi)return 1;{const e=Kp(r),o=Kp(t);return null!==e?null!==o?e-o==0?r.length-t.length:e-o:-1:null!==o?1:r<t?-1:1}},CE=function(r,t){return r===t?0:r<t?-1:1},ld=function(r,t){if(t&&r in t)return t[r];throw new Error("Missing required key ("+r+") in object: "+(0,N.Pz)(t))},Zp=function(r){if("object"!=typeof r||null===r)return(0,N.Pz)(r);const t=[];for(const o in r)t.push(o);t.sort();let e="{";for(let o=0;o<t.length;o++)0!==o&&(e+=","),e+=(0,N.Pz)(t[o]),e+=":",e+=Zp(r[t[o]]);return e+="}",e},v_=function(r,t){const e=r.length;if(e<=t)return[r];const o=[];for(let l=0;l<e;l+=t)o.push(r.substring(l,l+t>e?e:l+t));return o};function Gn(r,t){for(const e in r)r.hasOwnProperty(e)&&t(e,r[e])}const IE=function(r){(0,N.hu)(!Hl(r),"Invalid JSON number");const o=1023;let l,d,p,E,D;0===r?(d=0,p=0,l=1/r==-1/0?1:0):(l=r<0,(r=Math.abs(r))>=Math.pow(2,1-o)?(E=Math.min(Math.floor(Math.log(r)/Math.LN2),o),d=E+o,p=Math.round(r*Math.pow(2,52-E)-Math.pow(2,52))):(d=0,p=Math.round(r/Math.pow(2,-1074))));const R=[];for(D=52;D;D-=1)R.push(p%2?1:0),p=Math.floor(p/2);for(D=11;D;D-=1)R.push(d%2?1:0),d=Math.floor(d/2);R.push(l?1:0),R.reverse();const U=R.join("");let k="";for(D=0;D<64;D+=8){let J=parseInt(U.substr(D,8),2).toString(16);1===J.length&&(J="0"+J),k+=J}return k.toLowerCase()},C_=new RegExp("^-?(0*)\\d{1,10}$"),I_=-2147483648,ud=2147483647,Kp=function(r){if(C_.test(r)){const t=Number(r);if(t>=I_&&t<=ud)return t}return null},cd=function(r){try{r()}catch(t){setTimeout(()=>{throw Ur("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Zh=function(r,t){const e=setTimeout(r,t);return"object"==typeof e&&e.unref&&e.unref(),e};class yI{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(o=>this.appCheck=o)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,o)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,o):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(o=>o.addTokenListener(t))}notifyForInvalidToken(){Ur(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class vI{constructor(t,e,o){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(l=>this.auth_=l)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Wn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,o)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,o):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ur(t)}}let Kh=(()=>{class r{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return r.OWNER="owner",r})();const w_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Jh="websocket",D_="long_polling";class _o{constructor(t,e,o,l,d=!1,p="",E=!1){this.secure=e,this.namespace=o,this.webSocketOnly=l,this.nodeAdmin=d,this.persistenceKey=p,this.includeNamespaceInQueryParams=E,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Qa.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Qa.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function T_(r,t,e){let o;if((0,N.hu)("string"==typeof t,"typeof type must == string"),(0,N.hu)("object"==typeof e,"typeof params must == object"),t===Jh)o=(r.secure?"wss://":"ws://")+r.internalHost+"/.ws?";else{if(t!==D_)throw new Error("Unknown connection type: "+t);o=(r.secure?"https://":"http://")+r.internalHost+"/.lp?"}(function b_(r){return r.host!==r.internalHost||r.isCustomHost()||r.includeNamespaceInQueryParams})(r)&&(e.ns=r.namespace);const l=[];return Gn(e,(d,p)=>{l.push(d+"="+p)}),o+l.join("&")}class Qp{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,N.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,N.p$)(this.counters_)}}const Jp={},Xh={};function Xp(r){const t=r.toString();return Jp[t]||(Jp[t]=new Qp),Jp[t]}class dd{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<o.length;++l)o[l]&&cd(()=>{this.onMessage_(o[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Ja{constructor(t,e,o,l,d,p,E){this.connId=t,this.repoInfo=e,this.applicationId=o,this.appCheckToken=l,this.authToken=d,this.transportSessionId=p,this.lastSessionId=E,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=jl(t),this.stats_=Xp(e),this.urlFn=D=>(this.appCheckToken&&(D.ac=this.appCheckToken),T_(e,D_,D))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new dd(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(r){if((0,N.Yr)()||"complete"===document.readyState)r();else{let t=!1;const e=function(){document.body?t||(t=!0,r()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new tf((...d)=>{const[p,E,D,R,U]=d;if(this.incrementIncomingBytes_(d),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===p)this.id=E,this.password=D;else{if("close"!==p)throw new Error("Unrecognized command received: "+p);E?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(E,()=>{this.onClosed_()})):this.onClosed_()}},(...d)=>{const[p,E]=d;this.incrementIncomingBytes_(d),this.myPacketOrderer.handleResponse(p,E)},()=>{this.onClosed_()},this.urlFn);const o={start:"t"};o.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(o.cb=this.scriptTagHolder.uniqueCallbackIdentifier),o.v="5",this.transportSessionId&&(o.s=this.transportSessionId),this.lastSessionId&&(o.ls=this.lastSessionId),this.applicationId&&(o.p=this.applicationId),this.appCheckToken&&(o.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&w_.test(location.hostname)&&(o.r="f");const l=this.urlFn(o);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ja.forceAllow_=!0}static forceDisallow(){Ja.forceDisallow_=!0}static isAvailable(){return!((0,N.Yr)()||!Ja.forceAllow_&&(Ja.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,N.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const o=(0,N.h$)(e),l=v_(o,1840);for(let d=0;d<l.length;d++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[d]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,N.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const o={dframe:"t"};o.id=t,o.pw=e,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,N.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class tf{constructor(t,e,o,l){if(this.onDisconnect=o,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,N.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=zi(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=tf.createIFrame_();let d="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(d='<script>document.domain="'+document.domain+'";<\/script>');const p="<html><body>"+d+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(p),this.myIFrame.doc.close()}catch(E){Wn("frame writing exception"),E.stack&&Wn(E.stack),Wn(E)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Wn("No IE domain setting required")}catch(e){const o=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),o="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+o.length<=1870;){const p=this.pendingSegs.shift();o=o+"&seg"+l+"="+p.seg+"&ts"+l+"="+p.ts+"&d"+l+"="+p.d,l++}return e+=o,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,o){this.pendingSegs.push({seg:t,ts:e,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const o=()=>{this.outstandingRequests.delete(e),this.newRequest_()},l=setTimeout(o,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(l),o()})}addTag(t,e){(0,N.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=t,o.onload=o.onreadystatechange=function(){const l=o.readyState;(!l||"loaded"===l||"complete"===l)&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),e())},o.onerror=()=>{Wn("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch(o){}},Math.floor(1))}}let Pr=null;"undefined"!=typeof MozWebSocket?Pr=MozWebSocket:"undefined"!=typeof WebSocket&&(Pr=WebSocket);let qu=(()=>{class r{constructor(e,o,l,d,p,E,D){this.connId=e,this.applicationId=l,this.appCheckToken=d,this.authToken=p,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=jl(this.connId),this.stats_=Xp(o),this.connURL=r.connectionURL_(o,E,D,d,l),this.nodeAdmin=o.nodeAdmin}static connectionURL_(e,o,l,d,p){const E={v:"5"};return!(0,N.Yr)()&&"undefined"!=typeof location&&location.hostname&&w_.test(location.hostname)&&(E.r="f"),o&&(E.s=o),l&&(E.ls=l),d&&(E.ac=d),p&&(E.p=p),T_(e,Jh,E)}open(e,o){this.onDisconnect=o,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Qa.set("previous_websocket_failure",!0);try{let l;if((0,N.Yr)()){const p={headers:{"User-Agent":`Firebase/5/${$p}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(p.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(p.headers["X-Firebase-AppCheck"]=this.appCheckToken);const E=process.env,D=0===this.connURL.indexOf("wss://")?E.HTTPS_PROXY||E.https_proxy:E.HTTP_PROXY||E.http_proxy;D&&(p.proxy={origin:D})}this.mySock=new Pr(this.connURL,[],l)}catch(l){this.log_("Error instantiating WebSocket.");const d=l.message||l.data;return d&&this.log_(d),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=l=>{this.handleIncomingFrame(l)},this.mySock.onerror=l=>{this.log_("WebSocket error.  Closing connection.");const d=l.message||l.data;d&&this.log_(d),this.onClosed_()}}start(){}static forceDisallow(){r.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const l=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);l&&l.length>1&&parseFloat(l[1])<4.4&&(e=!0)}return!e&&null!==Pr&&!r.forceDisallow_}static previouslyFailed(){return Qa.isInMemoryStorage||!0===Qa.get("previous_websocket_failure")}markConnectionHealthy(){Qa.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const o=this.frames.join("");this.frames=null;const l=(0,N.cI)(o);this.onMessage(l)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,N.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const o=Number(e);if(!isNaN(o))return this.handleNewFrameCount_(o),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const o=e.data;if(this.bytesReceived+=o.length,this.stats_.incrementCounter("bytes_received",o.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(o);else{const l=this.extractFrameCount_(o);null!==l&&this.appendFrame_(l)}}send(e){this.resetKeepAlive();const o=(0,N.Pz)(e);this.bytesSent+=o.length,this.stats_.incrementCounter("bytes_sent",o.length);const l=v_(o,16384);l.length>1&&this.sendString_(String(l.length));for(let d=0;d<l.length;d++)this.sendString_(l[d])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(o){this.log_("Exception thrown from WebSocket.send():",o.message||o.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return r.responsesRequiredToBeHealthy=2,r.healthyTimeout=3e4,r})(),O_=(()=>{class r{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Ja,qu]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const o=qu&&qu.isAvailable();let l=o&&!qu.previouslyFailed();if(e.webSocketOnly&&(o||Ur("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),l=!0),l)this.transports_=[qu];else{const d=this.transports_=[];for(const p of r.ALL_TRANSPORTS)p&&p.isAvailable()&&d.push(p);r.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return r.globalTransportInitialized_=!1,r})();class B_{constructor(t,e,o,l,d,p,E,D,R,U){this.id=t,this.repoInfo_=e,this.applicationId_=o,this.appCheckToken_=l,this.authToken_=d,this.onMessage_=p,this.onReady_=E,this.onDisconnect_=D,this.onKill_=R,this.lastSessionId=U,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=jl("c:"+this.id+":"),this.transportManager_=new O_(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,o)},Math.floor(0));const l=t.healthyTimeout||0;l>0&&(this.healthyTimeout_=Zh(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=ld("t",t),o=ld("d",t);if("c"===e)this.onSecondaryControl_(o);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(o)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=ld("t",t),o=ld("d",t);"c"===e?this.onControl_(o):"d"===e&&this.onDataMessage_(o)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=ld("t",t);if("d"in t){const o=t.d;if("h"===e)this.onHandshake_(o);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(o):"r"===e?this.onReset_(o):"e"===e?y_("Server Error: "+o):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):y_("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,o=t.v,l=t.h;this.sessionId=t.s,this.repoInfo_.host=l,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==o&&Ur("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,o),Zh(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Zh(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Qa.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class lg{put(t,e,o,l){}merge(t,e,o,l){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,o){}onDisconnectMerge(t,e,o){}onDisconnectCancel(t,e){}reportStats(t){}}class ug{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,N.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const o=[...this.listeners_[t]];for(let l=0;l<o.length;l++)o[l].callback.apply(o[l].context,e)}}on(t,e,o){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:o});const l=this.getInitialEvent(t);l&&e.apply(o,l)}off(t,e,o){this.validateEventType_(t);const l=this.listeners_[t]||[];for(let d=0;d<l.length;d++)if(l[d].callback===e&&(!o||o===l[d].context))return void l.splice(d,1)}validateEventType_(t){(0,N.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class rf extends ug{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,N.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new rf}getInitialEvent(t){return(0,N.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Lt{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let o=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[o]=this.pieces_[l],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function xt(){return new Lt("")}function Ct(r){return r.pieceNum_>=r.pieces_.length?null:r.pieces_[r.pieceNum_]}function ua(r){return r.pieces_.length-r.pieceNum_}function Gt(r){let t=r.pieceNum_;return t<r.pieces_.length&&t++,new Lt(r.pieces_,t)}function cg(r){return r.pieceNum_<r.pieces_.length?r.pieces_[r.pieces_.length-1]:null}function Gl(r,t=0){return r.pieces_.slice(r.pieceNum_+t)}function V_(r){if(r.pieceNum_>=r.pieces_.length)return null;const t=[];for(let e=r.pieceNum_;e<r.pieces_.length-1;e++)t.push(r.pieces_[e]);return new Lt(t,0)}function cn(r,t){const e=[];for(let o=r.pieceNum_;o<r.pieces_.length;o++)e.push(r.pieces_[o]);if(t instanceof Lt)for(let o=t.pieceNum_;o<t.pieces_.length;o++)e.push(t.pieces_[o]);else{const o=t.split("/");for(let l=0;l<o.length;l++)o[l].length>0&&e.push(o[l])}return new Lt(e,0)}function gt(r){return r.pieceNum_>=r.pieces_.length}function lr(r,t){const e=Ct(r),o=Ct(t);if(null===e)return t;if(e===o)return lr(Gt(r),Gt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+r+")")}function xE(r,t){const e=Gl(r,0),o=Gl(t,0);for(let l=0;l<e.length&&l<o.length;l++){const d=Zu(e[l],o[l]);if(0!==d)return d}return e.length===o.length?0:e.length<o.length?-1:1}function fd(r,t){if(ua(r)!==ua(t))return!1;for(let e=r.pieceNum_,o=t.pieceNum_;e<=r.pieces_.length;e++,o++)if(r.pieces_[e]!==t.pieces_[o])return!1;return!0}function si(r,t){let e=r.pieceNum_,o=t.pieceNum_;if(ua(r)>ua(t))return!1;for(;e<r.pieces_.length;){if(r.pieces_[e]!==t.pieces_[o])return!1;++e,++o}return!0}class j_{constructor(t,e){this.errorPrefix_=e,this.parts_=Gl(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=(0,N.ug)(this.parts_[o]);of(this)}}function of(r){if(r.byteLength_>768)throw new Error(r.errorPrefix_+"has a key path longer than 768 bytes ("+r.byteLength_+").");if(r.parts_.length>32)throw new Error(r.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Yu(r))}function Yu(r){return 0===r.parts_.length?"":"in property '"+r.parts_.join(".")+"'"}class dg extends ug{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const o=!document[t];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}static getInstance(){return new dg}getInitialEvent(t){return(0,N.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Qu=1e3;let pd,zl=(()=>{class r extends lg{constructor(e,o,l,d,p,E,D,R){if(super(),this.repoInfo_=e,this.applicationId_=o,this.onDataUpdate_=l,this.onConnectStatus_=d,this.onServerInfoUpdate_=p,this.authTokenProvider_=E,this.appCheckTokenProvider_=D,this.authOverride_=R,this.id=r.nextPersistentConnectionId_++,this.log_=jl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Qu,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,R&&!(0,N.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");dg.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&rf.getInstance().on("online",this.onOnline_,this)}sendRequest(e,o,l){const d=++this.requestNumber_,p={r:d,a:e,b:o};this.log_((0,N.Pz)(p)),(0,N.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(p),l&&(this.requestCBHash_[d]=l)}get(e){this.initConnection_();const o=new N.BH,l={p:e._path.toString(),q:e._queryObject},d={action:"g",request:l,onComplete:E=>{const D=E.d;"ok"===E.s?(this.onDataUpdate_(l.p,D,!1,null),o.resolve(D)):o.reject(D)}};this.outstandingGets_.push(d),this.outstandingGetCount_++;const p=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const E=this.outstandingGets_[p];void 0===E||d!==E||(delete this.outstandingGets_[p],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+p+" timed out on connection"),o.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(p),o.promise}listen(e,o,l,d){this.initConnection_();const p=e._queryIdentifier,E=e._path.toString();this.log_("Listen called for "+E+" "+p),this.listens.has(E)||this.listens.set(E,new Map),(0,N.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,N.hu)(!this.listens.get(E).has(p),"listen() called twice for same path/queryId.");const D={onComplete:d,hashFn:o,query:e,tag:l};this.listens.get(E).set(p,D),this.connected_&&this.sendListen_(D)}sendGet_(e){const o=this.outstandingGets_[e];this.sendRequest("g",o.request,l=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),o.onComplete&&o.onComplete(l)})}sendListen_(e){const o=e.query,l=o._path.toString(),d=o._queryIdentifier;this.log_("Listen on "+l+" for "+d);const p={p:l};e.tag&&(p.q=o._queryObject,p.t=e.tag),p.h=e.hashFn(),this.sendRequest("q",p,D=>{const R=D.d,U=D.s;r.warnOnListenWarnings_(R,o),(this.listens.get(l)&&this.listens.get(l).get(d))===e&&(this.log_("listen response",D),"ok"!==U&&this.removeListen_(l,d),e.onComplete&&e.onComplete(U,R))})}static warnOnListenWarnings_(e,o){if(e&&"object"==typeof e&&(0,N.r3)(e,"w")){const l=(0,N.DV)(e,"w");if(Array.isArray(l)&&~l.indexOf("no_index")){const d='".indexOn": "'+o._queryParams.getIndex().toString()+'"',p=o._path.toString();Ur(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${d} at ${p} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,N.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,o=(0,N.w9)(e)?"auth":"gauth",l={cred:e};null===this.authOverride_?l.noauth=!0:"object"==typeof this.authOverride_&&(l.authvar=this.authOverride_),this.sendRequest(o,l,d=>{const p=d.s,E=d.d||"error";this.authToken_===e&&("ok"===p?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(p,E))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const o=e.s,l=e.d||"error";"ok"===o?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(o,l)})}unlisten(e,o){const l=e._path.toString(),d=e._queryIdentifier;this.log_("Unlisten called for "+l+" "+d),(0,N.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(l,d)&&this.connected_&&this.sendUnlisten_(l,d,e._queryObject,o)}sendUnlisten_(e,o,l,d){this.log_("Unlisten on "+e+" for "+o);const p={p:e};d&&(p.q=l,p.t=d),this.sendRequest("n",p)}onDisconnectPut(e,o,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,o,l):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:o,onComplete:l})}onDisconnectMerge(e,o,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,o,l):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:o,onComplete:l})}onDisconnectCancel(e,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:o})}sendOnDisconnect_(e,o,l,d){const p={p:o,d:l};this.log_("onDisconnect "+e,p),this.sendRequest(e,p,E=>{d&&setTimeout(()=>{d(E.s,E.d)},Math.floor(0))})}put(e,o,l,d){this.putInternal("p",e,o,l,d)}merge(e,o,l,d){this.putInternal("m",e,o,l,d)}putInternal(e,o,l,d,p){this.initConnection_();const E={p:o,d:l};void 0!==p&&(E.h=p),this.outstandingPuts_.push({action:e,request:E,onComplete:d}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+o)}sendPut_(e){const o=this.outstandingPuts_[e].action,l=this.outstandingPuts_[e].request,d=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(o,l,p=>{this.log_(o+" response",p),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),d&&d(p.s,p.d)})}reportStats(e){if(this.connected_){const o={c:e};this.log_("reportStats",o),this.sendRequest("s",o,l=>{"ok"!==l.s&&this.log_("reportStats","Error sending stats: "+l.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,N.Pz)(e));const o=e.r,l=this.requestCBHash_[o];l&&(delete this.requestCBHash_[o],l(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,o){this.log_("handleServerMessage",e,o),"d"===e?this.onDataUpdate_(o.p,o.d,!1,o.t):"m"===e?this.onDataUpdate_(o.p,o.d,!0,o.t):"c"===e?this.onListenRevoked_(o.p,o.q):"ac"===e?this.onAuthRevoked_(o.s,o.d):"apc"===e?this.onAppCheckRevoked_(o.s,o.d):"sd"===e?this.onSecurityDebugPacket_(o):y_("Unrecognized action received from server: "+(0,N.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,o){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=o,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,N.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Qu,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Qu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Qu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let o=Math.max(0,this.reconnectDelay_-e);o=Math.random()*o,this.log_("Trying to reconnect in "+o+"ms"),this.scheduleConnect_(o),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Ya.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const o=e.onDataMessage_.bind(e),l=e.onReady_.bind(e),d=e.onRealtimeDisconnect_.bind(e),p=e.id+":"+r.nextConnectionId_++,E=e.lastSessionId;let D=!1,R=null;const U=function(){R?R.close():(D=!0,d())};e.realtime_={close:U,sendRequest:function(ye){(0,N.hu)(R,"sendRequest call when we're not connected not allowed."),R.sendRequest(ye)}};const J=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[ye,Oe]=yield Promise.all([e.authTokenProvider_.getToken(J),e.appCheckTokenProvider_.getToken(J)]);D?Wn("getToken() completed but was canceled"):(Wn("getToken() completed. Creating connection."),e.authToken_=ye&&ye.accessToken,e.appCheckToken_=Oe&&Oe.token,R=new B_(p,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,o,l,d,at=>{Ur(at+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},E))}catch(ye){e.log_("Failed to get token: "+ye),D||(e.repoInfo_.nodeAdmin&&Ur(ye),U())}}})()}interrupt(e){Wn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Wn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,N.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Qu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const o=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:o})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const o=this.outstandingPuts_[e];o&&"h"in o.request&&o.queued&&(o.onComplete&&o.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,o){let l;l=o?o.map(p=>Zp(p)).join("$"):"default";const d=this.removeListen_(e,l);d&&d.onComplete&&d.onComplete("permission_denied")}removeListen_(e,o){const l=new Lt(e).toString();let d;if(this.listens.has(l)){const p=this.listens.get(l);d=p.get(o),p.delete(o),0===p.size&&this.listens.delete(l)}else d=void 0;return d}onAuthRevoked_(e,o){Wn("Auth token revoked: "+e+"/"+o),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,o){Wn("App check token revoked: "+e+"/"+o),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const o of e.values())this.sendListen_(o);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let o="js";(0,N.Yr)()&&(o=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+o+"."+$p.replace(/\./g,"-")]=1,(0,N.uI)()?e["framework.cordova"]=1:(0,N.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=rf.getInstance().currentlyOnline();return(0,N.xb)(this.interruptReasons_)&&e}}return r.nextPersistentConnectionId_=0,r.nextConnectionId_=0,r})();class Dt{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Dt(t,e)}}class Ju{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const o=new Dt(Ss,t),l=new Dt(Ss,e);return 0!==this.compare(o,l)}minPost(){return Dt.MIN}}class lf extends Ju{static get __EMPTY_NODE(){return pd}static set __EMPTY_NODE(t){pd=t}compare(t,e){return Zu(t.name,e.name)}isDefinedOn(t){throw(0,N.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Dt.MIN}maxPost(){return new Dt(Zi,pd)}makePost(t,e){return(0,N.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Dt(t,pd)}toString(){return".key"}}const oi=new lf;class uf{constructor(t,e,o,l,d=null){this.isReverse_=l,this.resultGenerator_=d,this.nodeStack_=[];let p=1;for(;!t.isEmpty();)if(t=t,p=e?o(t.key,e):1,l&&(p*=-1),p<0)t=this.isReverse_?t.left:t.right;else{if(0===p){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let gd,Ci=(()=>{class r{constructor(e,o,l,d,p){this.key=e,this.value=o,this.color=null!=l?l:r.RED,this.left=null!=d?d:Br.EMPTY_NODE,this.right=null!=p?p:Br.EMPTY_NODE}copy(e,o,l,d,p){return new r(null!=e?e:this.key,null!=o?o:this.value,null!=l?l:this.color,null!=d?d:this.left,null!=p?p:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,o,l){let d=this;const p=l(e,d.key);return d=p<0?d.copy(null,null,null,d.left.insert(e,o,l),null):0===p?d.copy(null,o,null,null,null):d.copy(null,null,null,null,d.right.insert(e,o,l)),d.fixUp_()}removeMin_(){if(this.left.isEmpty())return Br.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,o){let l,d;if(l=this,o(e,l.key)<0)!l.left.isEmpty()&&!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),l=l.copy(null,null,null,l.left.remove(e,o),null);else{if(l.left.isRed_()&&(l=l.rotateRight_()),!l.right.isEmpty()&&!l.right.isRed_()&&!l.right.left.isRed_()&&(l=l.moveRedRight_()),0===o(e,l.key)){if(l.right.isEmpty())return Br.EMPTY_NODE;d=l.right.min_(),l=l.copy(d.key,d.value,null,null,l.right.removeMin_())}l=l.copy(null,null,null,null,l.right.remove(e,o))}return l.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,r.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,r.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,o)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return r.RED=!0,r.BLACK=!1,r})();class Br{constructor(t,e=Br.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Br(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Ci.BLACK,null,null))}remove(t){return new Br(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ci.BLACK,null,null))}get(t){let e,o=this.root_;for(;!o.isEmpty();){if(e=this.comparator_(t,o.key),0===e)return o.value;e<0?o=o.left:e>0&&(o=o.right)}return null}getPredecessorKey(t){let e,o=this.root_,l=null;for(;!o.isEmpty();){if(e=this.comparator_(t,o.key),0===e){if(o.left.isEmpty())return l?l.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}e<0?o=o.left:e>0&&(l=o,o=o.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new uf(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new uf(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new uf(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new uf(this.root_,null,this.comparator_,!0,t)}}function Z_(r,t){return Zu(r.name,t.name)}function fg(r,t){return Zu(r,t)}Br.EMPTY_NODE=new class z_{copy(t,e,o,l,d){return this}insert(t,e,o){return new Ci(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const K_=function(r){return"number"==typeof r?"number:"+IE(r):"string:"+r},pg=function(r){if(r.isLeafNode()){const t=r.val();(0,N.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,N.r3)(t,".sv"),"Priority must be a string or number.")}else(0,N.hu)(r===gd||r.isEmpty(),"priority of unexpected type.");(0,N.hu)(r===gd||r.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Zl,q_,Y_,Kl=(()=>{class r{constructor(e,o=r.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=o,this.lazyHash_=null,(0,N.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),pg(this.priorityNode_)}static set __childrenNodeConstructor(e){Zl=e}static get __childrenNodeConstructor(){return Zl}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new r(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:r.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return gt(e)?this:".priority"===Ct(e)?this.priorityNode_:r.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,o){return null}updateImmediateChild(e,o){return".priority"===e?this.updatePriority(o):o.isEmpty()&&".priority"!==e?this:r.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,o).updatePriority(this.priorityNode_)}updateChild(e,o){const l=Ct(e);return null===l?o:o.isEmpty()&&".priority"!==l?this:((0,N.hu)(".priority"!==l||1===ua(e),".priority must be the last token in a path"),this.updateImmediateChild(l,r.__childrenNodeConstructor.EMPTY_NODE.updateChild(Gt(e),o)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,o){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+K_(this.priorityNode_.val())+":");const o=typeof this.value_;e+=o+":",e+="number"===o?IE(this.value_):this.value_,this.lazyHash_=Gp(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===r.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof r.__childrenNodeConstructor?-1:((0,N.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const o=typeof e.value_,l=typeof this.value_,d=r.VALUE_TYPE_ORDER.indexOf(o),p=r.VALUE_TYPE_ORDER.indexOf(l);return(0,N.hu)(d>=0,"Unknown leaf type: "+o),(0,N.hu)(p>=0,"Unknown leaf type: "+l),d===p?"object"===l?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:p-d}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const o=e;return this.value_===o.value_&&this.priorityNode_.equals(o.priorityNode_)}return!1}}return r.VALUE_TYPE_ORDER=["object","boolean","number","string"],r})();const Yt=new class LE extends Ju{compare(t,e){const o=t.node.getPriority(),l=e.node.getPriority(),d=o.compareTo(l);return 0===d?Zu(t.name,e.name):d}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Dt.MIN}maxPost(){return new Dt(Zi,new Kl("[PRIORITY-POST]",Y_))}makePost(t,e){const o=q_(t);return new Dt(e,new Kl("[PRIORITY-POST]",o))}toString(){return".priority"}},UE=Math.log(2);class Ms{constructor(t){this.count=parseInt(Math.log(t+1)/UE,10),this.current_=this.count-1;const l=(d=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&l}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const ec=function(r,t,e,o){r.sort(t);const l=function(D,R){const U=R-D;let k,J;if(0===U)return null;if(1===U)return k=r[D],J=e?e(k):k,new Ci(J,k.node,Ci.BLACK,null,null);{const ye=parseInt(U/2,10)+D,Oe=l(D,ye),at=l(ye+1,R);return k=r[ye],J=e?e(k):k,new Ci(J,k.node,Ci.BLACK,Oe,at)}},E=function(D){let R=null,U=null,k=r.length;const J=function(Oe,at){const bt=k-Oe,Fn=k;k-=Oe;const Qt=l(bt+1,Fn),li=r[bt],gn=e?e(li):li;ye(new Ci(gn,li.node,at,null,Qt))},ye=function(Oe){R?(R.left=Oe,R=Oe):(U=Oe,R=Oe)};for(let Oe=0;Oe<D.count;++Oe){const at=D.nextBitIsOne(),bt=Math.pow(2,D.count-(Oe+1));at?J(bt,Ci.BLACK):(J(bt,Ci.BLACK),J(bt,Ci.RED))}return U}(new Ms(r.length));return new Br(o||t,E)};let cf;const ql={};class yo{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,N.hu)(ql&&Yt,"ChildrenNode.ts has not been loaded"),cf=cf||new yo({".priority":ql},{".priority":Yt}),cf}get(t){const e=(0,N.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Br?e:null}hasIndex(t){return(0,N.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,N.hu)(t!==oi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let l=!1;const d=e.getIterator(Dt.Wrap);let E,p=d.getNext();for(;p;)l=l||t.isDefinedOn(p.node),o.push(p),p=d.getNext();E=l?ec(o,t.getCompare()):ql;const D=t.toString(),R=Object.assign({},this.indexSet_);R[D]=t;const U=Object.assign({},this.indexes_);return U[D]=E,new yo(U,R)}addToIndexes(t,e){const o=(0,N.UI)(this.indexes_,(l,d)=>{const p=(0,N.DV)(this.indexSet_,d);if((0,N.hu)(p,"Missing index implementation for "+d),l===ql){if(p.isDefinedOn(t.node)){const E=[],D=e.getIterator(Dt.Wrap);let R=D.getNext();for(;R;)R.name!==t.name&&E.push(R),R=D.getNext();return E.push(t),ec(E,p.getCompare())}return ql}{const E=e.get(t.name);let D=l;return E&&(D=D.remove(new Dt(t.name,E))),D.insert(t,t.node)}});return new yo(o,this.indexSet_)}removeFromIndexes(t,e){const o=(0,N.UI)(this.indexes_,l=>{if(l===ql)return l;{const d=e.get(t.name);return d?l.remove(new Dt(t.name,d)):l}});return new yo(o,this.indexSet_)}}let tc,ft=(()=>{class r{constructor(e,o,l){this.children_=e,this.priorityNode_=o,this.indexMap_=l,this.lazyHash_=null,this.priorityNode_&&pg(this.priorityNode_),this.children_.isEmpty()&&(0,N.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return tc||(tc=new r(new Br(fg),null,yo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||tc}updatePriority(e){return this.children_.isEmpty()?this:new r(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const o=this.children_.get(e);return null===o?tc:o}}getChild(e){const o=Ct(e);return null===o?this:this.getImmediateChild(o).getChild(Gt(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,o){if((0,N.hu)(o,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(o);{const l=new Dt(e,o);let d,p;o.isEmpty()?(d=this.children_.remove(e),p=this.indexMap_.removeFromIndexes(l,this.children_)):(d=this.children_.insert(e,o),p=this.indexMap_.addToIndexes(l,this.children_));const E=d.isEmpty()?tc:this.priorityNode_;return new r(d,E,p)}}updateChild(e,o){const l=Ct(e);if(null===l)return o;{(0,N.hu)(".priority"!==Ct(e)||1===ua(e),".priority must be the last token in a path");const d=this.getImmediateChild(l).updateChild(Gt(e),o);return this.updateImmediateChild(l,d)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const o={};let l=0,d=0,p=!0;if(this.forEachChild(Yt,(E,D)=>{o[E]=D.val(e),l++,p&&r.INTEGER_REGEXP_.test(E)?d=Math.max(d,Number(E)):p=!1}),!e&&p&&d<2*l){const E=[];for(const D in o)E[D]=o[D];return E}return e&&!this.getPriority().isEmpty()&&(o[".priority"]=this.getPriority().val()),o}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+K_(this.getPriority().val())+":"),this.forEachChild(Yt,(o,l)=>{const d=l.hash();""!==d&&(e+=":"+o+":"+d)}),this.lazyHash_=""===e?"":Gp(e)}return this.lazyHash_}getPredecessorChildName(e,o,l){const d=this.resolveIndex_(l);if(d){const p=d.getPredecessorKey(new Dt(e,o));return p?p.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const o=this.resolveIndex_(e);if(o){const l=o.minKey();return l&&l.name}return this.children_.minKey()}getFirstChild(e){const o=this.getFirstChildName(e);return o?new Dt(o,this.children_.get(o)):null}getLastChildName(e){const o=this.resolveIndex_(e);if(o){const l=o.maxKey();return l&&l.name}return this.children_.maxKey()}getLastChild(e){const o=this.getLastChildName(e);return o?new Dt(o,this.children_.get(o)):null}forEachChild(e,o){const l=this.resolveIndex_(e);return l?l.inorderTraversal(d=>o(d.name,d.node)):this.children_.inorderTraversal(o)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,o){const l=this.resolveIndex_(o);if(l)return l.getIteratorFrom(e,d=>d);{const d=this.children_.getIteratorFrom(e.name,Dt.Wrap);let p=d.peek();for(;null!=p&&o.compare(p,e)<0;)d.getNext(),p=d.peek();return d}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,o){const l=this.resolveIndex_(o);if(l)return l.getReverseIteratorFrom(e,d=>d);{const d=this.children_.getReverseIteratorFrom(e.name,Dt.Wrap);let p=d.peek();for(;null!=p&&o.compare(p,e)>0;)d.getNext(),p=d.peek();return d}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===md?-1:0}withIndex(e){if(e===oi||this.indexMap_.hasIndex(e))return this;{const o=this.indexMap_.addIndex(e,this.children_);return new r(this.children_,this.priorityNode_,o)}}isIndexed(e){return e===oi||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const o=e;if(this.getPriority().equals(o.getPriority())){if(this.children_.count()===o.children_.count()){const l=this.getIterator(Yt),d=o.getIterator(Yt);let p=l.getNext(),E=d.getNext();for(;p&&E;){if(p.name!==E.name||!p.node.equals(E.node))return!1;p=l.getNext(),E=d.getNext()}return null===p&&null===E}return!1}return!1}}resolveIndex_(e){return e===oi?null:this.indexMap_.get(e.toString())}}return r.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,r})();const md=new class BE extends ft{constructor(){super(new Br(fg),ft.EMPTY_NODE,yo.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return ft.EMPTY_NODE}isEmpty(){return!1}};function dn(r,t=null){if(null===r)return ft.EMPTY_NODE;if("object"==typeof r&&".priority"in r&&(t=r[".priority"]),(0,N.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof r&&".value"in r&&null!==r[".value"]&&(r=r[".value"]),"object"!=typeof r||".sv"in r)return new Kl(r,dn(t));if(r instanceof Array){let e=ft.EMPTY_NODE;return Gn(r,(o,l)=>{if((0,N.r3)(r,o)&&"."!==o.substring(0,1)){const d=dn(l);(d.isLeafNode()||!d.isEmpty())&&(e=e.updateImmediateChild(o,d))}}),e.updatePriority(dn(t))}{const e=[];let o=!1;if(Gn(r,(p,E)=>{if("."!==p.substring(0,1)){const D=dn(E);D.isEmpty()||(o=o||!D.getPriority().isEmpty(),e.push(new Dt(p,D)))}}),0===e.length)return ft.EMPTY_NODE;const d=ec(e,Z_,p=>p.name,fg);if(o){const p=ec(e,Yt.getCompare());return new ft(d,dn(t),new yo({".priority":p},{".priority":Yt}))}return new ft(d,dn(t),yo.Default)}}Object.defineProperties(Dt,{MIN:{value:new Dt(Ss,ft.EMPTY_NODE)},MAX:{value:new Dt(Zi,md)}}),lf.__EMPTY_NODE=ft.EMPTY_NODE,Kl.__childrenNodeConstructor=ft,function kE(r){gd=r}(md),function FE(r){Y_=r}(md),function Xu(r){q_=r}(dn);class Q_ extends Ju{constructor(t){super(),this.indexPath_=t,(0,N.hu)(!gt(t)&&".priority"!==Ct(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const o=this.extractChild(t.node),l=this.extractChild(e.node),d=o.compareTo(l);return 0===d?Zu(t.name,e.name):d}makePost(t,e){const o=dn(t),l=ft.EMPTY_NODE.updateChild(this.indexPath_,o);return new Dt(e,l)}maxPost(){const t=ft.EMPTY_NODE.updateChild(this.indexPath_,md);return new Dt(Zi,t)}toString(){return Gl(this.indexPath_,0).join("/")}}const gg=new class J_ extends Ju{compare(t,e){const o=t.node.compareTo(e.node);return 0===o?Zu(t.name,e.name):o}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Dt.MIN}maxPost(){return Dt.MAX}makePost(t,e){const o=dn(t);return new Dt(e,o)}toString(){return".value"}},nc="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",HE=function(){let r=0;const t=[];return function(e){const o=e===r;let l;r=e;const d=new Array(8);for(l=7;l>=0;l--)d[l]=nc.charAt(e%64),e=Math.floor(e/64);(0,N.hu)(0===e,"Cannot push at time == 0");let p=d.join("");if(o){for(l=11;l>=0&&63===t[l];l--)t[l]=0;t[l]++}else for(l=0;l<12;l++)t[l]=Math.floor(64*Math.random());for(l=0;l<12;l++)p+=nc.charAt(t[l]);return(0,N.hu)(20===p.length,"nextPushId: Length should be 20."),p}}(),mg=function(r){if(r===""+ud)return"-";const t=Kp(r);if(null!=t)return""+(t+1);const e=new Array(r.length);for(let p=0;p<e.length;p++)e[p]=r.charAt(p);if(e.length<786)return e.push("-"),e.join("");let o=e.length-1;for(;o>=0&&"z"===e[o];)o--;if(-1===o)return Zi;const d=nc.charAt(nc.indexOf(e[o])+1);return e[o]=d,e.slice(0,o+1).join("")},_g=function(r){if(r===""+I_)return Ss;const t=Kp(r);if(null!=t)return""+(t-1);const e=new Array(r.length);for(let o=0;o<e.length;o++)e[o]=r.charAt(o);return"-"===e[e.length-1]?1===e.length?""+ud:(delete e[e.length-1],e.join("")):(e[e.length-1]=nc.charAt(nc.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function $E(r){return{type:"value",snapshotNode:r}}function xr(r,t){return{type:"child_added",snapshotNode:t,childName:r}}function hf(r,t){return{type:"child_removed",snapshotNode:t,childName:r}}function ff(r,t,e){return{type:"child_changed",snapshotNode:t,childName:r,oldSnap:e}}class pf{constructor(t){this.index_=t}updateChild(t,e,o,l,d,p){(0,N.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const E=t.getImmediateChild(e);return E.getChild(l).equals(o.getChild(l))&&E.isEmpty()===o.isEmpty()||(null!=p&&(o.isEmpty()?t.hasChild(e)?p.trackChildChange(hf(e,E)):(0,N.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):E.isEmpty()?p.trackChildChange(xr(e,o)):p.trackChildChange(ff(e,o,E))),t.isLeafNode()&&o.isEmpty())?t:t.updateImmediateChild(e,o).withIndex(this.index_)}updateFullNode(t,e,o){return null!=o&&(t.isLeafNode()||t.forEachChild(Yt,(l,d)=>{e.hasChild(l)||o.trackChildChange(hf(l,d))}),e.isLeafNode()||e.forEachChild(Yt,(l,d)=>{if(t.hasChild(l)){const p=t.getImmediateChild(l);p.equals(d)||o.trackChildChange(ff(l,d,p))}else o.trackChildChange(xr(l,d))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?ft.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class rc{constructor(t){this.indexedFilter_=new pf(t.getIndex()),this.index_=t.getIndex(),this.startPost_=rc.getStartPost_(t),this.endPost_=rc.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,o,l,d,p){return this.matches(new Dt(e,o))||(o=ft.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,o,l,d,p)}updateFullNode(t,e,o){e.isLeafNode()&&(e=ft.EMPTY_NODE);let l=e.withIndex(this.index_);l=l.updatePriority(ft.EMPTY_NODE);const d=this;return e.forEachChild(Yt,(p,E)=>{d.matches(new Dt(p,E))||(l=l.updateImmediateChild(p,ft.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,l,o)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class WE{constructor(t){this.rangedFilter_=new rc(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,o,l,d,p){return this.rangedFilter_.matches(new Dt(e,o))||(o=ft.EMPTY_NODE),t.getImmediateChild(e).equals(o)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,o,l,d,p):this.fullLimitUpdateChild_(t,e,o,d,p)}updateFullNode(t,e,o){let l;if(e.isLeafNode()||e.isEmpty())l=ft.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let d;l=ft.EMPTY_NODE.withIndex(this.index_),d=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let p=0;for(;d.hasNext()&&p<this.limit_;){const E=d.getNext();let D;if(D=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),E)<=0:this.index_.compare(E,this.rangedFilter_.getEndPost())<=0,!D)break;l=l.updateImmediateChild(E.name,E.node),p++}}else{let d,p,E,D;if(l=e.withIndex(this.index_),l=l.updatePriority(ft.EMPTY_NODE),this.reverse_){D=l.getReverseIterator(this.index_),d=this.rangedFilter_.getEndPost(),p=this.rangedFilter_.getStartPost();const k=this.index_.getCompare();E=(J,ye)=>k(ye,J)}else D=l.getIterator(this.index_),d=this.rangedFilter_.getStartPost(),p=this.rangedFilter_.getEndPost(),E=this.index_.getCompare();let R=0,U=!1;for(;D.hasNext();){const k=D.getNext();!U&&E(d,k)<=0&&(U=!0),U&&R<this.limit_&&E(k,p)<=0?R++:l=l.updateImmediateChild(k.name,ft.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,l,o)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,o,l,d){let p;if(this.reverse_){const k=this.index_.getCompare();p=(J,ye)=>k(ye,J)}else p=this.index_.getCompare();const E=t;(0,N.hu)(E.numChildren()===this.limit_,"");const D=new Dt(e,o),R=this.reverse_?E.getFirstChild(this.index_):E.getLastChild(this.index_),U=this.rangedFilter_.matches(D);if(E.hasChild(e)){const k=E.getImmediateChild(e);let J=l.getChildAfterChild(this.index_,R,this.reverse_);for(;null!=J&&(J.name===e||E.hasChild(J.name));)J=l.getChildAfterChild(this.index_,J,this.reverse_);const ye=null==J?1:p(J,D);if(U&&!o.isEmpty()&&ye>=0)return null!=d&&d.trackChildChange(ff(e,o,k)),E.updateImmediateChild(e,o);{null!=d&&d.trackChildChange(hf(e,k));const at=E.updateImmediateChild(e,ft.EMPTY_NODE);return null!=J&&this.rangedFilter_.matches(J)?(null!=d&&d.trackChildChange(xr(J.name,J.node)),at.updateImmediateChild(J.name,J.node)):at}}return o.isEmpty()?t:U&&p(R,D)>=0?(null!=d&&(d.trackChildChange(hf(R.name,R.node)),d.trackChildChange(xr(e,o))),E.updateImmediateChild(e,o).updateImmediateChild(R.name,ft.EMPTY_NODE)):t}}class yg{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Yt}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,N.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,N.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ss}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,N.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,N.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Zi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,N.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Yt}copy(){const t=new yg;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function _d(r,t,e){const o=r.copy();return o.startSet_=!0,void 0===t&&(t=null),o.indexStartValue_=t,null!=e?(o.startNameSet_=!0,o.indexStartName_=e):(o.startNameSet_=!1,o.indexStartName_=""),o}function vg(r,t,e){const o=r.copy();return o.endSet_=!0,void 0===t&&(t=null),o.indexEndValue_=t,void 0!==e?(o.endNameSet_=!0,o.indexEndName_=e):(o.endNameSet_=!1,o.indexEndName_=""),o}function gf(r,t){const e=r.copy();return e.index_=t,e}function ry(r){const t={};if(r.isDefault())return t;let e;return r.index_===Yt?e="$priority":r.index_===gg?e="$value":r.index_===oi?e="$key":((0,N.hu)(r.index_ instanceof Q_,"Unrecognized index type!"),e=r.index_.toString()),t.orderBy=(0,N.Pz)(e),r.startSet_&&(t.startAt=(0,N.Pz)(r.indexStartValue_),r.startNameSet_&&(t.startAt+=","+(0,N.Pz)(r.indexStartName_))),r.endSet_&&(t.endAt=(0,N.Pz)(r.indexEndValue_),r.endNameSet_&&(t.endAt+=","+(0,N.Pz)(r.indexEndName_))),r.limitSet_&&(r.isViewFromLeft()?t.limitToFirst=r.limit_:t.limitToLast=r.limit_),t}function iy(r){const t={};if(r.startSet_&&(t.sp=r.indexStartValue_,r.startNameSet_&&(t.sn=r.indexStartName_)),r.endSet_&&(t.ep=r.indexEndValue_,r.endNameSet_&&(t.en=r.indexEndName_)),r.limitSet_){t.l=r.limit_;let e=r.viewFrom_;""===e&&(e=r.isViewFromLeft()?"l":"r"),t.vf=e}return r.index_!==Yt&&(t.i=r.index_.toString()),t}class Yl extends lg{constructor(t,e,o,l){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.log_=jl("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,N.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,o,l){const d=t._path.toString();this.log_("Listen called for "+d+" "+t._queryIdentifier);const p=Yl.getListenId_(t,o),E={};this.listens_[p]=E;const D=ry(t._queryParams);this.restRequest_(d+".json",D,(R,U)=>{let k=U;if(404===R&&(k=null,R=null),null===R&&this.onDataUpdate_(d,k,!1,o),(0,N.DV)(this.listens_,p)===E){let J;J=R?401===R?"permission_denied":"rest_error:"+R:"ok",l(J,null)}})}unlisten(t,e){const o=Yl.getListenId_(t,e);delete this.listens_[o]}get(t){const e=ry(t._queryParams),o=t._path.toString(),l=new N.BH;return this.restRequest_(o+".json",e,(d,p)=>{let E=p;404===d&&(E=null,d=null),null===d?(this.onDataUpdate_(o,E,!1,null),l.resolve(E)):l.reject(new Error(E))}),l.promise}refreshAuthToken(t){}restRequest_(t,e={},o){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,d])=>{l&&l.accessToken&&(e.auth=l.accessToken),d&&d.token&&(e.ac=d.token);const p=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,N.xO)(e);this.log_("Sending REST request for "+p);const E=new XMLHttpRequest;E.onreadystatechange=()=>{if(o&&4===E.readyState){this.log_("REST Response for "+p+" received. status:",E.status,"response:",E.responseText);let D=null;if(E.status>=200&&E.status<300){try{D=(0,N.cI)(E.responseText)}catch(R){Ur("Failed to parse JSON response for "+p+": "+E.responseText)}o(null,D)}else 401!==E.status&&404!==E.status&&Ur("Got unsuccessful REST response for "+p+" Status: "+E.status),o(E.status);o=null}},E.open("GET",p,!0),E.send()})}}class ic{constructor(){this.rootNode_=ft.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function mf(){return{value:null,children:new Map}}function vo(r,t,e){if(gt(t))r.value=e,r.children.clear();else if(null!==r.value)r.value=r.value.updateChild(t,e);else{const o=Ct(t);r.children.has(o)||r.children.set(o,mf()),vo(r.children.get(o),t=Gt(t),e)}}function Eg(r,t){if(gt(t))return r.value=null,r.children.clear(),!0;if(null!==r.value){if(r.value.isLeafNode())return!1;{const e=r.value;return r.value=null,e.forEachChild(Yt,(o,l)=>{vo(r,new Lt(o),l)}),Eg(r,t)}}if(r.children.size>0){const e=Ct(t);return t=Gt(t),r.children.has(e)&&Eg(r.children.get(e),t)&&r.children.delete(e),0===r.children.size}return!0}function Cg(r,t,e){null!==r.value?e(t,r.value):function Ig(r,t){r.children.forEach((e,o)=>{t(o,e)})}(r,(o,l)=>{Cg(l,new Lt(t.toString()+"/"+o),e)})}class Eo{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Gn(this.last_,(o,l)=>{e[o]=e[o]-l}),this.last_=t,e}}class _f{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Eo(t);const o=1e4+2e4*Math.random();Zh(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const t=this.statsListener_.get(),e={};let o=!1;Gn(t,(l,d)=>{d>0&&(0,N.r3)(this.statsToReport_,l)&&(e[l]=d,o=!0)}),o&&this.server_.reportStats(e),Zh(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var fn=(()=>{return(r=fn||(fn={}))[r.OVERWRITE=0]="OVERWRITE",r[r.MERGE=1]="MERGE",r[r.ACK_USER_WRITE=2]="ACK_USER_WRITE",r[r.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",fn;var r})();function el(r){return{fromUser:!1,fromServer:!0,queryId:r,tagged:!0}}class da{constructor(t,e,o){this.path=t,this.affectedTree=e,this.revert=o,this.type=fn.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(gt(this.path)){if(null!=this.affectedTree.value)return(0,N.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Lt(t));return new da(xt(),e,this.revert)}}return(0,N.hu)(Ct(this.path)===t,"operationForChild called for unrelated child."),new da(Gt(this.path),this.affectedTree,this.revert)}}class Co{constructor(t,e){this.source=t,this.path=e,this.type=fn.LISTEN_COMPLETE}operationForChild(t){return gt(this.path)?new Co(this.source,xt()):new Co(this.source,Gt(this.path))}}class Ki{constructor(t,e,o){this.source=t,this.path=e,this.snap=o,this.type=fn.OVERWRITE}operationForChild(t){return gt(this.path)?new Ki(this.source,xt(),this.snap.getImmediateChild(t)):new Ki(this.source,Gt(this.path),this.snap)}}class Ps{constructor(t,e,o){this.source=t,this.path=e,this.children=o,this.type=fn.MERGE}operationForChild(t){if(gt(this.path)){const e=this.children.subtree(new Lt(t));return e.isEmpty()?null:e.value?new Ki(this.source,xt(),e.value):new Ps(this.source,xt(),e)}return(0,N.hu)(Ct(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Ps(this.source,Gt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ii{constructor(t,e,o){this.node_=t,this.fullyInitialized_=e,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(gt(t))return this.isFullyInitialized()&&!this.filtered_;const e=Ct(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class oc{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function lc(r,t,e,o,l,d){const p=o.filter(E=>E.type===e);p.sort((E,D)=>function oy(r,t,e){if(null==t.childName||null==e.childName)throw(0,N.g5)("Should only compare child_ events.");const o=new Dt(t.childName,t.snapshotNode),l=new Dt(e.childName,e.snapshotNode);return r.index_.compare(o,l)}(r,E,D)),p.forEach(E=>{const D=function sy(r,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,r.index_)),t}(r,E,d);l.forEach(R=>{R.respondsTo(E.type)&&t.push(R.createEvent(D,r.query_))})})}function vd(r,t){return{eventCache:r,serverCache:t}}function uc(r,t,e,o){return vd(new Ii(t,e,o),r.serverCache)}function wg(r,t,e,o){return vd(r.eventCache,new Ii(t,e,o))}function Ed(r){return r.eventCache.isFullyInitialized()?r.eventCache.getNode():null}function tl(r){return r.serverCache.isFullyInitialized()?r.serverCache.getNode():null}let yf;class zt{constructor(t,e=(()=>(yf||(yf=new Br(CE)),yf))()){this.value=t,this.children=e}static fromObject(t){let e=new zt(null);return Gn(t,(o,l)=>{e=e.set(new Lt(o),l)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:xt(),value:this.value};if(gt(t))return null;{const o=Ct(t),l=this.children.get(o);if(null!==l){const d=l.findRootMostMatchingPathAndValue(Gt(t),e);return null!=d?{path:cn(new Lt(o),d.path),value:d.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(gt(t))return this;{const e=Ct(t),o=this.children.get(e);return null!==o?o.subtree(Gt(t)):new zt(null)}}set(t,e){if(gt(t))return new zt(e,this.children);{const o=Ct(t),d=(this.children.get(o)||new zt(null)).set(Gt(t),e),p=this.children.insert(o,d);return new zt(this.value,p)}}remove(t){if(gt(t))return this.children.isEmpty()?new zt(null):new zt(null,this.children);{const e=Ct(t),o=this.children.get(e);if(o){const l=o.remove(Gt(t));let d;return d=l.isEmpty()?this.children.remove(e):this.children.insert(e,l),null===this.value&&d.isEmpty()?new zt(null):new zt(this.value,d)}return this}}get(t){if(gt(t))return this.value;{const e=Ct(t),o=this.children.get(e);return o?o.get(Gt(t)):null}}setTree(t,e){if(gt(t))return e;{const o=Ct(t),d=(this.children.get(o)||new zt(null)).setTree(Gt(t),e);let p;return p=d.isEmpty()?this.children.remove(o):this.children.insert(o,d),new zt(this.value,p)}}fold(t){return this.fold_(xt(),t)}fold_(t,e){const o={};return this.children.inorderTraversal((l,d)=>{o[l]=d.fold_(cn(t,l),e)}),e(t,this.value,o)}findOnPath(t,e){return this.findOnPath_(t,xt(),e)}findOnPath_(t,e,o){const l=!!this.value&&o(e,this.value);if(l)return l;if(gt(t))return null;{const d=Ct(t),p=this.children.get(d);return p?p.findOnPath_(Gt(t),cn(e,d),o):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,xt(),e)}foreachOnPath_(t,e,o){if(gt(t))return this;{this.value&&o(e,this.value);const l=Ct(t),d=this.children.get(l);return d?d.foreachOnPath_(Gt(t),cn(e,l),o):new zt(null)}}foreach(t){this.foreach_(xt(),t)}foreach_(t,e){this.children.inorderTraversal((o,l)=>{l.foreach_(cn(t,o),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,o)=>{o.value&&t(e,o.value)})}}class xs{constructor(t){this.writeTree_=t}static empty(){return new xs(new zt(null))}}function Cd(r,t,e){if(gt(t))return new xs(new zt(e));{const o=r.writeTree_.findRootMostValueAndPath(t);if(null!=o){const l=o.path;let d=o.value;const p=lr(l,t);return d=d.updateChild(p,e),new xs(r.writeTree_.set(l,d))}{const l=new zt(e),d=r.writeTree_.setTree(t,l);return new xs(d)}}}function vf(r,t,e){let o=r;return Gn(e,(l,d)=>{o=Cd(o,cn(t,l),d)}),o}function ay(r,t){if(gt(t))return xs.empty();{const e=r.writeTree_.setTree(t,new zt(null));return new xs(e)}}function Dg(r,t){return null!=nl(r,t)}function nl(r,t){const e=r.writeTree_.findRootMostValueAndPath(t);return null!=e?r.writeTree_.get(e.path).getChild(lr(e.path,t)):null}function ly(r){const t=[],e=r.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Yt,(o,l)=>{t.push(new Dt(o,l))}):r.writeTree_.children.inorderTraversal((o,l)=>{null!=l.value&&t.push(new Dt(o,l.value))}),t}function ha(r,t){if(gt(t))return r;{const e=nl(r,t);return new xs(null!=e?new zt(e):r.writeTree_.subtree(t))}}function bg(r){return r.writeTree_.isEmpty()}function cc(r,t){return qE(xt(),r.writeTree_,t)}function qE(r,t,e){if(null!=t.value)return e.updateChild(r,t.value);{let o=null;return t.children.inorderTraversal((l,d)=>{".priority"===l?((0,N.hu)(null!==d.value,"Priority writes must always be leaf nodes"),o=d.value):e=qE(cn(r,l),d,e)}),!e.getChild(r).isEmpty()&&null!==o&&(e=e.updateChild(cn(r,".priority"),o)),e}}function Ef(r,t){return hy(t,r)}function bI(r,t){if(r.snap)return si(r.path,t);for(const e in r.children)if(r.children.hasOwnProperty(e)&&si(cn(r.path,e),t))return!0;return!1}function QE(r){return r.visible}function Sg(r,t,e){let o=xs.empty();for(let l=0;l<r.length;++l){const d=r[l];if(t(d)){const p=d.path;let E;if(d.snap)si(e,p)?(E=lr(e,p),o=Cd(o,E,d.snap)):si(p,e)&&(E=lr(p,e),o=Cd(o,xt(),d.snap.getChild(E)));else{if(!d.children)throw(0,N.g5)("WriteRecord should have .snap or .children");if(si(e,p))E=lr(e,p),o=vf(o,E,d.children);else if(si(p,e))if(E=lr(p,e),gt(E))o=vf(o,xt(),d.children);else{const D=(0,N.DV)(d.children,Ct(E));if(D){const R=D.getChild(Gt(E));o=Cd(o,xt(),R)}}}}}return o}function JE(r,t,e,o,l){if(o||l){const d=ha(r.visibleWrites,t);return!l&&bg(d)?e:l||null!=e||Dg(d,xt())?cc(Sg(r.allWrites,function(R){return(R.visible||l)&&(!o||!~o.indexOf(R.writeId))&&(si(R.path,t)||si(t,R.path))},t),e||ft.EMPTY_NODE):null}{const d=nl(r.visibleWrites,t);if(null!=d)return d;{const p=ha(r.visibleWrites,t);return bg(p)?e:null!=e||Dg(p,xt())?cc(p,e||ft.EMPTY_NODE):null}}}function Jl(r,t,e,o){return JE(r.writeTree,r.treePath,t,e,o)}function Rg(r,t){return function XE(r,t,e){let o=ft.EMPTY_NODE;const l=nl(r.visibleWrites,t);if(l)return l.isLeafNode()||l.forEachChild(Yt,(d,p)=>{o=o.updateImmediateChild(d,p)}),o;if(e){const d=ha(r.visibleWrites,t);return e.forEachChild(Yt,(p,E)=>{const D=cc(ha(d,new Lt(p)),E);o=o.updateImmediateChild(p,D)}),ly(d).forEach(p=>{o=o.updateImmediateChild(p.name,p.node)}),o}return ly(ha(r.visibleWrites,t)).forEach(p=>{o=o.updateImmediateChild(p.name,p.node)}),o}(r.writeTree,r.treePath,t)}function Mg(r,t,e,o){return function dc(r,t,e,o,l){(0,N.hu)(o||l,"Either existingEventSnap or existingServerSnap must exist");const d=cn(t,e);if(Dg(r.visibleWrites,d))return null;{const p=ha(r.visibleWrites,d);return bg(p)?l.getChild(e):cc(p,l.getChild(e))}}(r.writeTree,r.treePath,t,e,o)}function Cf(r,t){return function uy(r,t){return nl(r.visibleWrites,t)}(r.writeTree,cn(r.treePath,t))}function Pg(r,t,e){return function e0(r,t,e,o){const l=cn(t,e),d=nl(r.visibleWrites,l);return null!=d?d:o.isCompleteForChild(e)?cc(ha(r.visibleWrites,l),o.getNode().getImmediateChild(e)):null}(r.writeTree,r.treePath,t,e)}function dy(r,t){return hy(cn(r.treePath,t),r.writeTree)}function hy(r,t){return{treePath:r,writeTree:t}}class fy{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,o=t.childName;(0,N.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,N.hu)(".priority"!==o,"Only non-priority child changes can be tracked.");const l=this.changeMap.get(o);if(l){const d=l.type;if("child_added"===e&&"child_removed"===d)this.changeMap.set(o,ff(o,t.snapshotNode,l.snapshotNode));else if("child_removed"===e&&"child_added"===d)this.changeMap.delete(o);else if("child_removed"===e&&"child_changed"===d)this.changeMap.set(o,hf(o,l.oldSnap));else if("child_changed"===e&&"child_added"===d)this.changeMap.set(o,xr(o,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==d)throw(0,N.g5)("Illegal combination of changes: "+t+" occurred after "+l);this.changeMap.set(o,ff(o,t.snapshotNode,l.oldSnap))}}else this.changeMap.set(o,t)}getChanges(){return Array.from(this.changeMap.values())}}const xg=new class r0{getCompleteChild(t){return null}getChildAfterChild(t,e,o){return null}};class If{constructor(t,e,o=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=o}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const o=null!=this.optCompleteServerCache_?new Ii(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Pg(this.writes_,t,o)}}getChildAfterChild(t,e,o){const l=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:tl(this.viewCache_),d=function n0(r,t,e,o,l,d){return function t0(r,t,e,o,l,d,p){let E;const D=ha(r.visibleWrites,t),R=nl(D,xt());if(null!=R)E=R;else{if(null==e)return[];E=cc(D,e)}if(E=E.withIndex(p),E.isEmpty()||E.isLeafNode())return[];{const U=[],k=p.getCompare(),J=d?E.getReverseIteratorFrom(o,p):E.getIteratorFrom(o,p);let ye=J.getNext();for(;ye&&U.length<l;)0!==k(ye,o)&&U.push(ye),ye=J.getNext();return U}}(r.writeTree,r.treePath,t,e,o,l,d)}(this.writes_,l,e,1,o,t);return 0===d.length?null:d[0]}}function o0(r,t,e,o,l,d){const p=t.eventCache;if(null!=Cf(o,e))return t;{let E,D;if(gt(e))if((0,N.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const R=tl(t),k=Rg(o,R instanceof ft?R:ft.EMPTY_NODE);E=r.filter.updateFullNode(t.eventCache.getNode(),k,d)}else{const R=Jl(o,tl(t));E=r.filter.updateFullNode(t.eventCache.getNode(),R,d)}else{const R=Ct(e);if(".priority"===R){(0,N.hu)(1===ua(e),"Can't have a priority with additional path components");const U=p.getNode();D=t.serverCache.getNode();const k=Mg(o,e,U,D);E=null!=k?r.filter.updatePriority(U,k):p.getNode()}else{const U=Gt(e);let k;if(p.isCompleteForChild(R)){D=t.serverCache.getNode();const J=Mg(o,e,p.getNode(),D);k=null!=J?p.getNode().getImmediateChild(R).updateChild(U,J):p.getNode().getImmediateChild(R)}else k=Pg(o,R,t.serverCache);E=null!=k?r.filter.updateChild(p.getNode(),R,k,U,l,d):p.getNode()}}return uc(t,E,p.isFullyInitialized()||gt(e),r.filter.filtersNodes())}}function rl(r,t,e,o,l,d,p,E){const D=t.serverCache;let R;const U=p?r.filter:r.filter.getIndexedFilter();if(gt(e))R=U.updateFullNode(D.getNode(),o,null);else if(U.filtersNodes()&&!D.isFiltered()){const ye=D.getNode().updateChild(e,o);R=U.updateFullNode(D.getNode(),ye,null)}else{const ye=Ct(e);if(!D.isCompleteForPath(e)&&ua(e)>1)return t;const Oe=Gt(e),bt=D.getNode().getImmediateChild(ye).updateChild(Oe,o);R=".priority"===ye?U.updatePriority(D.getNode(),bt):U.updateChild(D.getNode(),ye,bt,Oe,xg,null)}const k=wg(t,R,D.isFullyInitialized()||gt(e),U.filtersNodes());return o0(r,k,e,l,new If(l,k,d),E)}function wf(r,t,e,o,l,d,p){const E=t.eventCache;let D,R;const U=new If(l,t,d);if(gt(e))R=r.filter.updateFullNode(t.eventCache.getNode(),o,p),D=uc(t,R,!0,r.filter.filtersNodes());else{const k=Ct(e);if(".priority"===k)R=r.filter.updatePriority(t.eventCache.getNode(),o),D=uc(t,R,E.isFullyInitialized(),E.isFiltered());else{const J=Gt(e),ye=E.getNode().getImmediateChild(k);let Oe;if(gt(J))Oe=o;else{const at=U.getCompleteChild(k);Oe=null!=at?".priority"===cg(J)&&at.getChild(V_(J)).isEmpty()?at:at.updateChild(J,o):ft.EMPTY_NODE}D=ye.equals(Oe)?t:uc(t,r.filter.updateChild(E.getNode(),k,Oe,J,U,p),E.isFullyInitialized(),r.filter.filtersNodes())}}return D}function Df(r,t){return r.eventCache.isCompleteForChild(t)}function py(r,t,e){return e.foreach((o,l)=>{t=t.updateChild(o,l)}),t}function hc(r,t,e,o,l,d,p,E){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let R,D=t;R=gt(e)?o:new zt(null).setTree(e,o);const U=t.serverCache.getNode();return R.children.inorderTraversal((k,J)=>{if(U.hasChild(k)){const Oe=py(0,t.serverCache.getNode().getImmediateChild(k),J);D=rl(r,D,new Lt(k),Oe,l,d,p,E)}}),R.children.inorderTraversal((k,J)=>{const ye=!t.serverCache.isCompleteForChild(k)&&void 0===J.value;if(!U.hasChild(k)&&!ye){const at=py(0,t.serverCache.getNode().getImmediateChild(k),J);D=rl(r,D,new Lt(k),at,l,d,p,E)}}),D}class a0{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const o=this.query_._queryParams,l=new pf(o.getIndex()),d=function ty(r){return r.loadsAllData()?new pf(r.getIndex()):r.hasLimit()?new WE(r):new rc(r)}(o);this.processor_=function Og(r){return{filter:r}}(d);const p=e.serverCache,E=e.eventCache,D=l.updateFullNode(ft.EMPTY_NODE,p.getNode(),null),R=d.updateFullNode(ft.EMPTY_NODE,E.getNode(),null),U=new Ii(D,p.isFullyInitialized(),l.filtersNodes()),k=new Ii(R,E.isFullyInitialized(),d.filtersNodes());this.viewCache_=vd(k,U),this.eventGenerator_=new oc(this.query_)}get query(){return this.query_}}function gy(r,t){const e=tl(r.viewCache_);return e&&(r.query._queryParams.loadsAllData()||!gt(t)&&!e.getImmediateChild(Ct(t)).isEmpty())?e.getChild(t):null}function my(r){return 0===r.eventRegistrations_.length}function Vg(r,t,e){const o=[];if(e){(0,N.hu)(null==t,"A cancel should cancel all event registrations.");const l=r.query._path;r.eventRegistrations_.forEach(d=>{const p=d.createCancelEvent(e,l);p&&o.push(p)})}if(t){let l=[];for(let d=0;d<r.eventRegistrations_.length;++d){const p=r.eventRegistrations_[d];if(p.matches(t)){if(t.hasAnyCallback()){l=l.concat(r.eventRegistrations_.slice(d+1));break}}else l.push(p)}r.eventRegistrations_=l}else r.eventRegistrations_=[];return o}function jg(r,t,e,o){t.type===fn.MERGE&&null!==t.source.queryId&&((0,N.hu)(tl(r.viewCache_),"We should always have a full cache before handling merges"),(0,N.hu)(Ed(r.viewCache_),"Missing event cache, even though we have a server cache"));const l=r.viewCache_,d=function Ng(r,t,e,o,l){const d=new fy;let p,E;if(e.type===fn.OVERWRITE){const R=e;R.source.fromUser?p=wf(r,t,R.path,R.snap,o,l,d):((0,N.hu)(R.source.fromServer,"Unknown source."),E=R.source.tagged||t.serverCache.isFiltered()&&!gt(R.path),p=rl(r,t,R.path,R.snap,o,l,E,d))}else if(e.type===fn.MERGE){const R=e;R.source.fromUser?p=function kg(r,t,e,o,l,d,p){let E=t;return o.foreach((D,R)=>{const U=cn(e,D);Df(t,Ct(U))&&(E=wf(r,E,U,R,l,d,p))}),o.foreach((D,R)=>{const U=cn(e,D);Df(t,Ct(U))||(E=wf(r,E,U,R,l,d,p))}),E}(r,t,R.path,R.children,o,l,d):((0,N.hu)(R.source.fromServer,"Unknown source."),E=R.source.tagged||t.serverCache.isFiltered(),p=hc(r,t,R.path,R.children,o,l,E,d))}else if(e.type===fn.ACK_USER_WRITE){const R=e;p=R.revert?function SI(r,t,e,o,l,d){let p;if(null!=Cf(o,e))return t;{const E=new If(o,t,l),D=t.eventCache.getNode();let R;if(gt(e)||".priority"===Ct(e)){let U;if(t.serverCache.isFullyInitialized())U=Jl(o,tl(t));else{const k=t.serverCache.getNode();(0,N.hu)(k instanceof ft,"serverChildren would be complete if leaf node"),U=Rg(o,k)}U=U,R=r.filter.updateFullNode(D,U,d)}else{const U=Ct(e);let k=Pg(o,U,t.serverCache);null==k&&t.serverCache.isCompleteForChild(U)&&(k=D.getImmediateChild(U)),R=null!=k?r.filter.updateChild(D,U,k,Gt(e),E,d):t.eventCache.getNode().hasChild(U)?r.filter.updateChild(D,U,ft.EMPTY_NODE,Gt(e),E,d):D,R.isEmpty()&&t.serverCache.isFullyInitialized()&&(p=Jl(o,tl(t)),p.isLeafNode()&&(R=r.filter.updateFullNode(R,p,d)))}return p=t.serverCache.isFullyInitialized()||null!=Cf(o,xt()),uc(t,R,p,r.filter.filtersNodes())}}(r,t,R.path,o,l,d):function bf(r,t,e,o,l,d,p){if(null!=Cf(l,e))return t;const E=t.serverCache.isFiltered(),D=t.serverCache;if(null!=o.value){if(gt(e)&&D.isFullyInitialized()||D.isCompleteForPath(e))return rl(r,t,e,D.getNode().getChild(e),l,d,E,p);if(gt(e)){let R=new zt(null);return D.getNode().forEachChild(oi,(U,k)=>{R=R.set(new Lt(U),k)}),hc(r,t,e,R,l,d,E,p)}return t}{let R=new zt(null);return o.foreach((U,k)=>{const J=cn(e,U);D.isCompleteForPath(J)&&(R=R.set(U,D.getNode().getChild(J)))}),hc(r,t,e,R,l,d,E,p)}}(r,t,R.path,R.affectedTree,o,l,d)}else{if(e.type!==fn.LISTEN_COMPLETE)throw(0,N.g5)("Unknown operation type: "+e.type);p=function Fg(r,t,e,o,l){const d=t.serverCache;return o0(r,wg(t,d.getNode(),d.isFullyInitialized()||gt(e),d.isFiltered()),e,o,xg,l)}(r,t,e.path,o,d)}const D=d.getChanges();return function s0(r,t,e){const o=t.eventCache;if(o.isFullyInitialized()){const l=o.getNode().isLeafNode()||o.getNode().isEmpty(),d=Ed(r);(e.length>0||!r.eventCache.isFullyInitialized()||l&&!o.getNode().equals(d)||!o.getNode().getPriority().equals(d.getPriority()))&&e.push($E(Ed(t)))}}(t,p,D),{viewCache:p,changes:D}}(r.processor_,l,t,e,o);return function AI(r,t){(0,N.hu)(t.eventCache.getNode().isIndexed(r.filter.getIndex()),"Event snap not indexed"),(0,N.hu)(t.serverCache.getNode().isIndexed(r.filter.getIndex()),"Server snap not indexed")}(r.processor_,d.viewCache),(0,N.hu)(d.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),r.viewCache_=d.viewCache,$g(r,d.changes,d.viewCache.eventCache.getNode(),null)}function $g(r,t,e,o){return function ac(r,t,e,o){const l=[],d=[];return t.forEach(p=>{"child_changed"===p.type&&r.index_.indexedValueChanged(p.oldSnap,p.snapshotNode)&&d.push(function ey(r,t){return{type:"child_moved",snapshotNode:t,childName:r}}(p.childName,p.snapshotNode))}),lc(r,l,"child_removed",t,o,e),lc(r,l,"child_added",t,o,e),lc(r,l,"child_moved",d,o,e),lc(r,l,"child_changed",t,o,e),lc(r,l,"value",t,o,e),l}(r.eventGenerator_,t,e,o?[o]:r.eventRegistrations_)}let Tf,Dd;class Wg{constructor(){this.views=new Map}}function zg(r,t,e,o){const l=t.source.queryId;if(null!==l){const d=r.views.get(l);return(0,N.hu)(null!=d,"SyncTree gave us an op for an invalid query."),jg(d,t,e,o)}{let d=[];for(const p of r.views.values())d=d.concat(jg(p,t,e,o));return d}}function vy(r,t,e,o,l){const p=r.views.get(t._queryIdentifier);if(!p){let E=Jl(e,l?o:null),D=!1;E?D=!0:o instanceof ft?(E=Rg(e,o),D=!1):(E=ft.EMPTY_NODE,D=!1);const R=vd(new Ii(E,D,!1),new Ii(o,l,!1));return new a0(t,R)}return p}function Id(r){const t=[];for(const e of r.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function fa(r,t){let e=null;for(const o of r.views.values())e=e||gy(o,t);return e}function Zg(r,t){return t._queryParams.loadsAllData()?wd(r):r.views.get(t._queryIdentifier)}function Kg(r,t){return null!=Zg(r,t)}function pa(r){return null!=wd(r)}function wd(r){for(const t of r.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let RI=1;class wy{constructor(t){this.listenProvider_=t,this.syncPointTree_=new zt(null),this.pendingWriteTree_=function cy(){return{visibleWrites:xs.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function qg(r,t,e,o,l){return function Tg(r,t,e,o,l){(0,N.hu)(o>r.lastWriteId,"Stacking an older write on top of newer ones"),void 0===l&&(l=!0),r.allWrites.push({path:t,snap:e,writeId:o,visible:l}),l&&(r.visibleWrites=Cd(r.visibleWrites,t,e)),r.lastWriteId=o}(r.pendingWriteTree_,t,e,o,l),l?fc(r,new Ki({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function il(r,t,e=!1){const o=function YE(r,t){for(let e=0;e<r.allWrites.length;e++){const o=r.allWrites[e];if(o.writeId===t)return o}return null}(r.pendingWriteTree_,t);if(function DI(r,t){const e=r.allWrites.findIndex(E=>E.writeId===t);(0,N.hu)(e>=0,"removeWrite called with nonexistent writeId.");const o=r.allWrites[e];r.allWrites.splice(e,1);let l=o.visible,d=!1,p=r.allWrites.length-1;for(;l&&p>=0;){const E=r.allWrites[p];E.visible&&(p>=e&&bI(E,o.path)?l=!1:si(o.path,E.path)&&(d=!0)),p--}return!!l&&(d?(function TI(r){r.visibleWrites=Sg(r.allWrites,QE,xt()),r.lastWriteId=r.allWrites.length>0?r.allWrites[r.allWrites.length-1].writeId:-1}(r),!0):(o.snap?r.visibleWrites=ay(r.visibleWrites,o.path):Gn(o.children,D=>{r.visibleWrites=ay(r.visibleWrites,cn(o.path,D))}),!0))}(r.pendingWriteTree_,t)){let d=new zt(null);return null!=o.snap?d=d.set(xt(),!0):Gn(o.children,p=>{d=d.set(new Lt(p),!0)}),fc(r,new da(o.path,d,e))}return[]}function pn(r,t,e){return fc(r,new Ki({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function Af(r,t,e,o){const l=t._path,d=r.syncPointTree_.get(l);let p=[];if(d&&("default"===t._queryIdentifier||Kg(d,t))){const E=function Ey(r,t,e,o){const l=t._queryIdentifier,d=[];let p=[];const E=pa(r);if("default"===l)for(const[D,R]of r.views.entries())p=p.concat(Vg(R,e,o)),my(R)&&(r.views.delete(D),R.query._queryParams.loadsAllData()||d.push(R.query));else{const D=r.views.get(l);D&&(p=p.concat(Vg(D,e,o)),my(D)&&(r.views.delete(l),D.query._queryParams.loadsAllData()||d.push(D.query)))}return E&&!pa(r)&&d.push(new(function Gg(){return(0,N.hu)(Tf,"Reference.ts has not been loaded"),Tf}())(t._repo,t._path)),{removed:d,events:p}}(d,t,e,o);(function yy(r){return 0===r.views.size})(d)&&(r.syncPointTree_=r.syncPointTree_.remove(l));const D=E.removed;p=E.events;const R=-1!==D.findIndex(k=>k._queryParams.loadsAllData()),U=r.syncPointTree_.findOnPath(l,(k,J)=>pa(J));if(R&&!U){const k=r.syncPointTree_.subtree(l);if(!k.isEmpty()){const J=function f0(r){return r.fold((t,e,o)=>{if(e&&pa(e))return[wd(e)];{let l=[];return e&&(l=Id(e)),Gn(o,(d,p)=>{l=l.concat(p)}),l}})}(k);for(let ye=0;ye<J.length;++ye){const Oe=J[ye],at=Oe.query,bt=Jg(r,Oe);r.listenProvider_.startListening(ai(at),Xg(r,at),bt.hashFn,bt.onComplete)}}}!U&&D.length>0&&!o&&(R?r.listenProvider_.stopListening(ai(t),null):D.forEach(k=>{const J=r.queryToTagMap.get(bd(k));r.listenProvider_.stopListening(ai(k),J)})),function Os(r,t){for(let e=0;e<t.length;++e){const o=t[e];if(!o._queryParams.loadsAllData()){const l=bd(o),d=r.queryToTagMap.get(l);r.queryToTagMap.delete(l),r.tagToQueryMap.delete(d)}}}(r,D)}return p}function Yg(r,t,e){const o=t._path;let l=null,d=!1;r.syncPointTree_.foreachOnPath(o,(k,J)=>{const ye=lr(k,o);l=l||fa(J,ye),d=d||pa(J)});let E,p=r.syncPointTree_.get(o);p?(d=d||pa(p),l=l||fa(p,xt())):(p=new Wg,r.syncPointTree_=r.syncPointTree_.set(o,p)),null!=l?E=!0:(E=!1,l=ft.EMPTY_NODE,r.syncPointTree_.subtree(o).foreachChild((J,ye)=>{const Oe=fa(ye,xt());Oe&&(l=l.updateImmediateChild(J,Oe))}));const D=Kg(p,t);if(!D&&!t._queryParams.loadsAllData()){const k=bd(t);(0,N.hu)(!r.queryToTagMap.has(k),"View does not exist, but we have a tag");const J=function Ns(){return RI++}();r.queryToTagMap.set(k,J),r.tagToQueryMap.set(J,k)}let U=function l0(r,t,e,o,l,d){const p=vy(r,t,o,l,d);return r.views.has(t._queryIdentifier)||r.views.set(t._queryIdentifier,p),function Bg(r,t){r.eventRegistrations_.push(t)}(p,e),function Hg(r,t){const e=r.viewCache_.eventCache,o=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Yt,(d,p)=>{o.push(xr(d,p))}),e.isFullyInitialized()&&o.push($E(e.getNode())),$g(r,o,e.getNode(),t)}(p,e)}(p,t,e,Ef(r.pendingWriteTree_,o),l,E);if(!D&&!d){const k=Zg(p,t);U=U.concat(function Sy(r,t,e){const o=t._path,l=Xg(r,t),d=Jg(r,e),p=r.listenProvider_.startListening(ai(t),l,d.hashFn,d.onComplete),E=r.syncPointTree_.subtree(o);if(l)(0,N.hu)(!pa(E.value),"If we're adding a query, it shouldn't be shadowed");else{const D=E.fold((R,U,k)=>{if(!gt(R)&&U&&pa(U))return[wd(U).query];{let J=[];return U&&(J=J.concat(Id(U).map(ye=>ye.query))),Gn(k,(ye,Oe)=>{J=J.concat(Oe)}),J}});for(let R=0;R<D.length;++R){const U=D[R];r.listenProvider_.stopListening(ai(U),Xg(r,U))}}return p}(r,t,k))}return U}function ga(r,t,e){const l=r.pendingWriteTree_,d=r.syncPointTree_.findOnPath(t,(p,E)=>{const R=fa(E,lr(p,t));if(R)return R});return JE(l,t,d,e,!0)}function fc(r,t){return Qg(t,r.syncPointTree_,null,Ef(r.pendingWriteTree_,xt()))}function Qg(r,t,e,o){if(gt(r.path))return Ay(r,t,e,o);{const l=t.get(xt());null==e&&null!=l&&(e=fa(l,xt()));let d=[];const p=Ct(r.path),E=r.operationForChild(p),D=t.children.get(p);if(D&&E){const R=e?e.getImmediateChild(p):null,U=dy(o,p);d=d.concat(Qg(E,D,R,U))}return l&&(d=d.concat(zg(l,r,o,e))),d}}function Ay(r,t,e,o){const l=t.get(xt());null==e&&null!=l&&(e=fa(l,xt()));let d=[];return t.children.inorderTraversal((p,E)=>{const D=e?e.getImmediateChild(p):null,R=dy(o,p),U=r.operationForChild(p);U&&(d=d.concat(Ay(U,E,D,R)))}),l&&(d=d.concat(zg(l,r,o,e))),d}function Jg(r,t){const e=t.query,o=Xg(r,e);return{hashFn:()=>(function Lg(r){return r.viewCache_.serverCache.getNode()}(t)||ft.EMPTY_NODE).hash(),onComplete:l=>{if("ok"===l)return o?function c0(r,t,e){const o=Sf(r,e);if(o){const l=qi(o),d=l.path,p=l.queryId,E=lr(d,t);return em(r,d,new Co(el(p),E))}return[]}(r,e._path,o):function u0(r,t){return fc(r,new Co({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(r,e._path);{const d=function E_(r,t){let e="Unknown Error";"too_big"===r?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===r?e="Client doesn't have permission to access the desired data.":"unavailable"===r&&(e="The service is unavailable");const o=new Error(r+" at "+t._path.toString()+": "+e);return o.code=r.toUpperCase(),o}(l,e);return Af(r,e,null,d)}}}}function Xg(r,t){const e=bd(t);return r.queryToTagMap.get(e)}function bd(r){return r._path.toString()+"$"+r._queryIdentifier}function Sf(r,t){return r.tagToQueryMap.get(t)}function qi(r){const t=r.indexOf("$");return(0,N.hu)(-1!==t&&t<r.length-1,"Bad queryKey."),{queryId:r.substr(t+1),path:new Lt(r.substr(0,t))}}function em(r,t,e){const o=r.syncPointTree_.get(t);return(0,N.hu)(o,"Missing sync point for query tag that we're tracking"),zg(o,e,Ef(r.pendingWriteTree_,t),null)}function ai(r){return r._queryParams.loadsAllData()&&!r._queryParams.isDefault()?new(function Iy(){return(0,N.hu)(Dd,"Reference.ts has not been loaded"),Dd}())(r._repo,r._path):r}class Rf{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new Rf(e)}node(){return this.node_}}class tm{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=cn(this.path_,t);return new tm(this.syncTree_,e)}node(){return ga(this.syncTree_,this.path_)}}const Ry=function(r,t,e){return r&&"object"==typeof r?((0,N.hu)(".sv"in r,"Unexpected leaf node or priority contents"),"string"==typeof r[".sv"]?g0(r[".sv"],t,e):"object"==typeof r[".sv"]?nm(r[".sv"],t):void(0,N.hu)(!1,"Unexpected server value: "+JSON.stringify(r,null,2))):r},g0=function(r,t,e){if("timestamp"===r)return e.timestamp;(0,N.hu)(!1,"Unexpected server value: "+r)},nm=function(r,t,e){r.hasOwnProperty("increment")||(0,N.hu)(!1,"Unexpected server value: "+JSON.stringify(r,null,2));const o=r.increment;"number"!=typeof o&&(0,N.hu)(!1,"Unexpected increment value: "+o);const l=t.node();if((0,N.hu)(null!=l,"Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return o;const p=l.getValue();return"number"!=typeof p?o:p+o},pc=function(r,t,e,o){return Mf(t,new tm(e,r),o)},rm=function(r,t,e){return Mf(r,new Rf(t),e)};function Mf(r,t,e){const o=r.getPriority().val(),l=Ry(o,t.getImmediateChild(".priority"),e);let d;if(r.isLeafNode()){const p=r,E=Ry(p.getValue(),t,e);return E!==p.getValue()||l!==p.getPriority().val()?new Kl(E,dn(l)):r}{const p=r;return d=p,l!==p.getPriority().val()&&(d=d.updatePriority(new Kl(l))),p.forEachChild(Yt,(E,D)=>{const R=Mf(D,t.getImmediateChild(E),e);R!==D&&(d=d.updateImmediateChild(E,R))}),d}}class im{constructor(t="",e=null,o={children:{},childCount:0}){this.name=t,this.parent=e,this.node=o}}function Td(r,t){let e=t instanceof Lt?t:new Lt(t),o=r,l=Ct(e);for(;null!==l;){const d=(0,N.DV)(o.node.children,l)||{children:{},childCount:0};o=new im(l,o,d),e=Gt(e),l=Ct(e)}return o}function sl(r){return r.node.value}function gc(r,t){r.node.value=t,Of(r)}function My(r){return r.node.childCount>0}function Ad(r,t){Gn(r.node.children,(e,o)=>{t(new im(e,r,o))})}function Pf(r,t,e,o){e&&!o&&t(r),Ad(r,l=>{Pf(l,t,!0,o)}),e&&o&&t(r)}function mc(r){return new Lt(null===r.parent?r.name:mc(r.parent)+"/"+r.name)}function Of(r){null!==r.parent&&function xy(r,t,e){const o=function Py(r){return void 0===sl(r)&&!My(r)}(e),l=(0,N.r3)(r.node.children,t);o&&l?(delete r.node.children[t],r.node.childCount--,Of(r)):!o&&!l&&(r.node.children[t]=e.node,r.node.childCount++,Of(r))}(r.parent,r.name,r)}const Oy=/[\[\].#$\/\u0000-\u001F\u007F]/,Ny=/[\[\].#$\u0000-\u001F\u007F]/,Nf=10485760,Sd=function(r){return"string"==typeof r&&0!==r.length&&!Oy.test(r)},sm=function(r){return"string"==typeof r&&0!==r.length&&!Ny.test(r)},Rd=function(r){return null===r||"string"==typeof r||"number"==typeof r&&!Hl(r)||r&&"object"==typeof r&&(0,N.r3)(r,".sv")},Io=function(r,t,e,o){o&&void 0===t||Md((0,N.gK)(r,"value"),t,e)},Md=function(r,t,e){const o=e instanceof Lt?new j_(e,r):e;if(void 0===t)throw new Error(r+"contains undefined "+Yu(o));if("function"==typeof t)throw new Error(r+"contains a function "+Yu(o)+" with contents = "+t.toString());if(Hl(t))throw new Error(r+"contains "+t.toString()+" "+Yu(o));if("string"==typeof t&&t.length>Nf/3&&(0,N.ug)(t)>Nf)throw new Error(r+"contains a string greater than "+Nf+" utf8 bytes "+Yu(o)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let l=!1,d=!1;if(Gn(t,(p,E)=>{if(".value"===p)l=!0;else if(".priority"!==p&&".sv"!==p&&(d=!0,!Sd(p)))throw new Error(r+" contains an invalid key ("+p+") "+Yu(o)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function OE(r,t){r.parts_.length>0&&(r.byteLength_+=1),r.parts_.push(t),r.byteLength_+=(0,N.ug)(t),of(r)})(o,p),Md(r,E,o),function NE(r){const t=r.parts_.pop();r.byteLength_-=(0,N.ug)(t),r.parts_.length>0&&(r.byteLength_-=1)}(o)}),l&&d)throw new Error(r+' contains ".value" child '+Yu(o)+" in addition to actual children.")}},ky=function(r,t,e,o){if(o&&void 0===t)return;const l=(0,N.gK)(r,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(l+" must be an object containing the children to replace.");const d=[];Gn(t,(p,E)=>{const D=new Lt(p);if(Md(l,E,cn(e,D)),".priority"===cg(D)&&!Rd(E))throw new Error(l+"contains an invalid value for '"+D.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");d.push(D)}),function(r,t){let e,o;for(e=0;e<t.length;e++){o=t[e];const d=Gl(o);for(let p=0;p<d.length;p++)if((".priority"!==d[p]||p!==d.length-1)&&!Sd(d[p]))throw new Error(r+"contains an invalid key ("+d[p]+") in path "+o.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(xE);let l=null;for(e=0;e<t.length;e++){if(o=t[e],null!==l&&si(l,o))throw new Error(r+"contains a path "+l.toString()+" that is ancestor of another path "+o.toString());l=o}}(l,d)},om=function(r,t,e){if(!e||void 0!==t){if(Hl(t))throw new Error((0,N.gK)(r,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Rd(t))throw new Error((0,N.gK)(r,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Pd=function(r,t,e,o){if(!(o&&void 0===e||Sd(e)))throw new Error((0,N.gK)(r,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},xd=function(r,t,e,o){if(!(o&&void 0===e||sm(e)))throw new Error((0,N.gK)(r,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Yi=function(r,t){if(".info"===Ct(t))throw new Error(r+" failed = Can't modify data under /.info/")},Fy=function(r,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Sd(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(r){return r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),sm(r)}(e))throw new Error((0,N.gK)(r,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class v0{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function kf(r,t){let e=null;for(let o=0;o<t.length;o++){const l=t[o],d=l.getPath();null!==e&&!fd(d,e.path)&&(r.eventLists_.push(e),e=null),null===e&&(e={events:[],path:d}),e.events.push(l)}e&&r.eventLists_.push(e)}function am(r,t,e){kf(r,e),Ly(r,o=>fd(o,t))}function Qi(r,t,e){kf(r,e),Ly(r,o=>si(o,t)||si(t,o))}function Ly(r,t){r.recursionDepth_++;let e=!0;for(let o=0;o<r.eventLists_.length;o++){const l=r.eventLists_[o];l&&(t(l.path)?(E0(r.eventLists_[o]),r.eventLists_[o]=null):e=!1)}e&&(r.eventLists_=[]),r.recursionDepth_--}function E0(r){for(let t=0;t<r.events.length;t++){const e=r.events[t];if(null!==e){r.events[t]=null;const o=e.getEventRunner();aa&&Wn("event: "+e.toString()),cd(o)}}}const lm="repo_interrupt";class By{constructor(t,e,o,l){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=o,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new v0,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=mf(),this.transactionQueueTree_=new im,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function um(r){const e=r.infoData_.getNode(new Lt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function _c(r){return function(r){return(r=r||{}).timestamp=r.timestamp||(new Date).getTime(),r}({timestamp:um(r)})}function cm(r,t,e,o,l){r.dataUpdateCount++;const d=new Lt(t);e=r.interceptServerDataCallback_?r.interceptServerDataCallback_(t,e):e;let p=[];if(l)if(o){const D=(0,N.UI)(e,R=>dn(R));p=function Ty(r,t,e,o){const l=Sf(r,o);if(l){const d=qi(l),p=d.path,E=d.queryId,D=lr(p,t),R=zt.fromObject(e);return em(r,p,new Ps(el(E),D,R))}return[]}(r.serverSyncTree_,d,D,l)}else{const D=dn(e);p=function d0(r,t,e,o){const l=Sf(r,o);if(null!=l){const d=qi(l),p=d.path,E=d.queryId,D=lr(p,t);return em(r,p,new Ki(el(E),D,e))}return[]}(r.serverSyncTree_,d,D,l)}else if(o){const D=(0,N.UI)(e,R=>dn(R));p=function by(r,t,e){const o=zt.fromObject(e);return fc(r,new Ps({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,o))}(r.serverSyncTree_,d,D)}else{const D=dn(e);p=pn(r.serverSyncTree_,d,D)}let E=d;p.length>0&&(E=Zt(r,d)),Qi(r.eventQueue_,E,p)}function dm(r,t){Ff(r,"connected",t),!1===t&&function yc(r){vc(r,"onDisconnectEvents");const t=_c(r),e=mf();Cg(r.onDisconnect_,xt(),(l,d)=>{const p=pc(l,d,r.serverSyncTree_,t);vo(e,l,p)});let o=[];Cg(e,xt(),(l,d)=>{o=o.concat(pn(r.serverSyncTree_,l,d));const p=Vf(r,l);Zt(r,p)}),r.onDisconnect_=mf(),Qi(r.eventQueue_,xt(),o)}(r)}function Ff(r,t,e){const o=new Lt("/.info/"+t),l=dn(e);r.infoData_.updateSnapshot(o,l);const d=pn(r.infoSyncTree_,o,l);Qi(r.eventQueue_,o,d)}function Od(r){return r.nextWriteId_++}function hm(r,t,e,o,l){vc(r,"set",{path:t.toString(),value:e,priority:o});const d=_c(r),p=dn(e,o),E=ga(r.serverSyncTree_,t),D=rm(p,E,d),R=Od(r),U=qg(r.serverSyncTree_,t,D,R,!0);kf(r.eventQueue_,U),r.server_.put(t.toString(),p.val(!0),(J,ye)=>{const Oe="ok"===J;Oe||Ur("set at "+t+" failed: "+J);const at=il(r.serverSyncTree_,R,!Oe);Qi(r.eventQueue_,t,at),ol(0,l,J,ye)});const k=Vf(r,t);Zt(r,k),Qi(r.eventQueue_,k,[])}function MI(r,t,e){r.server_.onDisconnectCancel(t.toString(),(o,l)=>{"ok"===o&&Eg(r.onDisconnect_,t),ol(0,e,o,l)})}function Lf(r,t,e,o){const l=dn(e);r.server_.onDisconnectPut(t.toString(),l.val(!0),(d,p)=>{"ok"===d&&vo(r.onDisconnect_,t,l),ol(0,o,d,p)})}function Wy(r,t,e){let o;o=".info"===Ct(t._path)?Af(r.infoSyncTree_,t,e):Af(r.serverSyncTree_,t,e),am(r.eventQueue_,t._path,o)}function nt(r){r.persistentConnection_&&r.persistentConnection_.interrupt(lm)}function vc(r,...t){let e="";r.persistentConnection_&&(e=r.persistentConnection_.id+":"),Wn(e,...t)}function ol(r,t,e,o){t&&cd(()=>{if("ok"===e)t(null);else{const l=(e||"error").toUpperCase();let d=l;o&&(d+=": "+o);const p=new Error(d);p.code=l,t(p)}})}function fm(r,t,e){return ga(r.serverSyncTree_,t,e)||ft.EMPTY_NODE}function eu(r,t=r.transactionQueueTree_){if(t||Nd(r,t),sl(t)){const e=Gy(r,t);(0,N.hu)(e.length>0,"Sending zero length transaction queue"),e.every(l=>0===l.status)&&function Bf(r,t,e){const o=e.map(R=>R.currentWriteId),l=fm(r,t,o);let d=l;const p=l.hash();for(let R=0;R<e.length;R++){const U=e[R];(0,N.hu)(0===U.status,"tryToSendTransactionQueue_: items in queue should all be run."),U.status=1,U.retryCount++;const k=lr(t,U.path);d=d.updateChild(k,U.currentOutputSnapshotRaw)}const E=d.val(!0),D=t;r.server_.put(D.toString(),E,R=>{vc(r,"transaction put response",{path:D.toString(),status:R});let U=[];if("ok"===R){const k=[];for(let J=0;J<e.length;J++)e[J].status=2,U=U.concat(il(r.serverSyncTree_,e[J].currentWriteId)),e[J].onComplete&&k.push(()=>e[J].onComplete(null,!0,e[J].currentOutputSnapshotResolved)),e[J].unwatcher();Nd(r,Td(r.transactionQueueTree_,t)),eu(r,r.transactionQueueTree_),Qi(r.eventQueue_,t,U);for(let J=0;J<k.length;J++)cd(k[J])}else{if("datastale"===R)for(let k=0;k<e.length;k++)e[k].status=3===e[k].status?4:0;else{Ur("transaction at "+D.toString()+" failed: "+R);for(let k=0;k<e.length;k++)e[k].status=4,e[k].abortReason=R}Zt(r,t)}},p)}(r,mc(t),e)}else My(t)&&Ad(t,e=>{eu(r,e)})}function Zt(r,t){const e=pm(r,t),o=mc(e);return function xI(r,t,e){if(0===t.length)return;const o=[];let l=[];const p=t.filter(E=>0===E.status).map(E=>E.currentWriteId);for(let E=0;E<t.length;E++){const D=t[E],R=lr(e,D.path);let k,U=!1;if((0,N.hu)(null!==R,"rerunTransactionsUnderNode_: relativePath should not be null."),4===D.status)U=!0,k=D.abortReason,l=l.concat(il(r.serverSyncTree_,D.currentWriteId,!0));else if(0===D.status)if(D.retryCount>=25)U=!0,k="maxretry",l=l.concat(il(r.serverSyncTree_,D.currentWriteId,!0));else{const J=fm(r,D.path,p);D.currentInputSnapshot=J;const ye=t[E].update(J.val());if(void 0!==ye){Md("transaction failed: Data returned ",ye,D.path);let Oe=dn(ye);"object"==typeof ye&&null!=ye&&(0,N.r3)(ye,".priority")||(Oe=Oe.updatePriority(J.getPriority()));const bt=D.currentWriteId,Fn=_c(r),Qt=rm(Oe,J,Fn);D.currentOutputSnapshotRaw=Oe,D.currentOutputSnapshotResolved=Qt,D.currentWriteId=Od(r),p.splice(p.indexOf(bt),1),l=l.concat(qg(r.serverSyncTree_,D.path,Qt,D.currentWriteId,D.applyLocally)),l=l.concat(il(r.serverSyncTree_,bt,!0))}else U=!0,k="nodata",l=l.concat(il(r.serverSyncTree_,D.currentWriteId,!0))}Qi(r.eventQueue_,e,l),l=[],U&&(t[E].status=2,setTimeout(t[E].unwatcher,Math.floor(0)),t[E].onComplete&&o.push("nodata"===k?()=>t[E].onComplete(null,!1,t[E].currentInputSnapshot):()=>t[E].onComplete(new Error(k),!1,null)))}Nd(r,r.transactionQueueTree_);for(let E=0;E<o.length;E++)cd(o[E]);eu(r,r.transactionQueueTree_)}(r,Gy(r,e),o),o}function pm(r,t){let e,o=r.transactionQueueTree_;for(e=Ct(t);null!==e&&void 0===sl(o);)o=Td(o,e),e=Ct(t=Gt(t));return o}function Gy(r,t){const e=[];return zy(r,t,e),e.sort((o,l)=>o.order-l.order),e}function zy(r,t,e){const o=sl(t);if(o)for(let l=0;l<o.length;l++)e.push(o[l]);Ad(t,l=>{zy(r,l,e)})}function Nd(r,t){const e=sl(t);if(e){let o=0;for(let l=0;l<e.length;l++)2!==e[l].status&&(e[o]=e[l],o++);e.length=o,gc(t,e.length>0?e:void 0)}Ad(t,o=>{Nd(r,o)})}function Vf(r,t){const e=mc(pm(r,t)),o=Td(r.transactionQueueTree_,t);return function xf(r,t,e){let o=e?r:r.parent;for(;null!==o;){if(t(o))return!0;o=o.parent}}(o,l=>{jf(r,l)}),jf(r,o),Pf(o,l=>{jf(r,l)}),e}function jf(r,t){const e=sl(t);if(e){const o=[];let l=[],d=-1;for(let p=0;p<e.length;p++)3===e[p].status||(1===e[p].status?((0,N.hu)(d===p-1,"All SENT items should be at beginning of queue."),d=p,e[p].status=3,e[p].abortReason="set"):((0,N.hu)(0===e[p].status,"Unexpected transaction status in abort"),e[p].unwatcher(),l=l.concat(il(r.serverSyncTree_,e[p].currentWriteId,!0)),e[p].onComplete&&o.push(e[p].onComplete.bind(null,new Error("set"),!1,null))));-1===d?gc(t,void 0):e.length=d+1,Qi(r.eventQueue_,mc(t),l);for(let p=0;p<o.length;p++)cd(o[p])}}const gm=function(r,t){const e=D0(r),o=e.namespace;return"firebase.com"===e.domain&&As(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||"undefined"===o)&&"localhost"!==e.domain&&As("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ur("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new _o(e.host,e.secure,o,"ws"===e.scheme||"wss"===e.scheme,t,"",o!==e.subdomain),path:new Lt(e.pathString)}},D0=function(r){let t="",e="",o="",l="",d="",p=!0,E="https",D=443;if("string"==typeof r){let R=r.indexOf("//");R>=0&&(E=r.substring(0,R-1),r=r.substring(R+2));let U=r.indexOf("/");-1===U&&(U=r.length);let k=r.indexOf("?");-1===k&&(k=r.length),t=r.substring(0,Math.min(U,k)),U<k&&(l=function Zy(r){let t="";const e=r.split("/");for(let o=0;o<e.length;o++)if(e[o].length>0){let l=e[o];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch(d){}t+="/"+l}return t}(r.substring(U,k)));const J=function w0(r){const t={};"?"===r.charAt(0)&&(r=r.substring(1));for(const e of r.split("&")){if(0===e.length)continue;const o=e.split("=");2===o.length?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):Ur(`Invalid query segment '${e}' in query '${r}'`)}return t}(r.substring(Math.min(r.length,k)));R=t.indexOf(":"),R>=0?(p="https"===E||"wss"===E,D=parseInt(t.substring(R+1),10)):R=t.length;const ye=t.slice(0,R);if("localhost"===ye.toLowerCase())e="localhost";else if(ye.split(".").length<=2)e=ye;else{const Oe=t.indexOf(".");o=t.substring(0,Oe).toLowerCase(),e=t.substring(Oe+1),d=o}"ns"in J&&(d=J.ns)}return{host:t,port:D,domain:e,subdomain:o,secure:p,scheme:E,pathString:l,namespace:d}};class Ec{constructor(t,e,o,l){this.eventType=t,this.eventRegistration=e,this.snapshot=o,this.prevName=l}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,N.Pz)(this.snapshot.exportVal())}}class Ky{constructor(t,e,o){this.eventRegistration=t,this.error=e,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class qy{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,N.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class Yy{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new N.BH;return MI(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Yi("OnDisconnect.remove",this._path);const t=new N.BH;return Lf(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Yi("OnDisconnect.set",this._path),Io("OnDisconnect.set",t,this._path,!1);const e=new N.BH;return Lf(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Yi("OnDisconnect.setWithPriority",this._path),Io("OnDisconnect.setWithPriority",t,this._path,!1),om("OnDisconnect.setWithPriority",e,!1);const o=new N.BH;return function PI(r,t,e,o,l){const d=dn(e,o);r.server_.onDisconnectPut(t.toString(),d.val(!0),(p,E)=>{"ok"===p&&vo(r.onDisconnect_,t,d),ol(0,l,p,E)})}(this._repo,this._path,t,e,o.wrapCallback(()=>{})),o.promise}update(t){Yi("OnDisconnect.update",this._path),ky("OnDisconnect.update",t,this._path,!1);const e=new N.BH;return function Hy(r,t,e,o){if((0,N.xb)(e))return Wn("onDisconnect().update() called with empty data.  Don't do anything."),void ol(0,o,"ok",void 0);r.server_.onDisconnectMerge(t.toString(),e,(l,d)=>{"ok"===l&&Gn(e,(p,E)=>{const D=dn(E);vo(r.onDisconnect_,cn(t,p),D)}),ol(0,o,l,d)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class ur{constructor(t,e,o,l){this._repo=t,this._path=e,this._queryParams=o,this._orderByCalled=l}get key(){return gt(this._path)?null:cg(this._path)}get ref(){return new Ji(this._repo,this._path)}get _queryIdentifier(){const t=iy(this._queryParams),e=Zp(t);return"{}"===e?"default":e}get _queryObject(){return iy(this._queryParams)}isEqual(t){if(!((t=(0,N.m9)(t))instanceof ur))return!1;const e=this._repo===t._repo,o=fd(this._path,t._path);return e&&o&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function PE(r){let t="";for(let e=r.pieceNum_;e<r.pieces_.length;e++)""!==r.pieces_[e]&&(t+="/"+encodeURIComponent(String(r.pieces_[e])));return t||"/"}(this._path)}}function kd(r,t){if(!0===r._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function ma(r){let t=null,e=null;if(r.hasStart()&&(t=r.getIndexStartValue()),r.hasEnd()&&(e=r.getIndexEndValue()),r.getIndex()===oi){const o="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",l="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(r.hasStart()){if(r.getIndexStartName()!==Ss)throw new Error(o);if("string"!=typeof t)throw new Error(l)}if(r.hasEnd()){if(r.getIndexEndName()!==Zi)throw new Error(o);if("string"!=typeof e)throw new Error(l)}}else if(r.getIndex()===Yt){if(null!=t&&!Rd(t)||null!=e&&!Rd(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,N.hu)(r.getIndex()instanceof Q_||r.getIndex()===gg,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Fd(r){if(r.hasStart()&&r.hasEnd()&&r.hasLimit()&&!r.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ji extends ur{constructor(t,e){super(t,e,new yg,!1)}get parent(){const t=V_(this._path);return null===t?null:new Ji(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class ks{constructor(t,e,o){this._node=t,this.ref=e,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Lt(t),o=tu(this.ref,t);return new ks(this._node.getChild(e),o,Yt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(o,l)=>t(new ks(l,tu(this.ref,o),Yt)))}hasChild(t){const e=new Lt(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Cc(r,t){return(r=(0,N.m9)(r))._checkNotDeleted("ref"),void 0!==t?tu(r._root,t):r._root}function Qy(r,t){(r=(0,N.m9)(r))._checkNotDeleted("refFromURL");const e=gm(t,r._repo.repoInfo_.nodeAdmin);Fy("refFromURL",e);const o=e.repoInfo;return!r._repo.repoInfo_.isCustomHost()&&o.host!==r._repo.repoInfo_.host&&As("refFromURL: Host name does not match the current database: (found "+o.host+" but expected "+r._repo.repoInfo_.host+")"),Cc(r,e.path.toString())}function tu(r,t){return null===Ct((r=(0,N.m9)(r))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),xd("child","path",e,!1)):xd("child","path",t,!1),new Ji(r._repo,cn(r._path,t));var e}function Hf(r,t){r=(0,N.m9)(r),Yi("set",r._path),Io("set",t,r._path,!1);const e=new N.BH;return hm(r._repo,r._path,t,null,e.wrapCallback(()=>{})),e.promise}function T0(r,t){ky("update",t,r._path,!1);const e=new N.BH;return function C0(r,t,e,o){vc(r,"update",{path:t.toString(),value:e});let l=!0;const d=_c(r),p={};if(Gn(e,(E,D)=>{l=!1,p[E]=pc(cn(t,E),dn(D),r.serverSyncTree_,d)}),l)Wn("update() called with empty data.  Don't do anything."),ol(0,o,"ok",void 0);else{const E=Od(r),D=function Dy(r,t,e,o){!function Ag(r,t,e,o){(0,N.hu)(o>r.lastWriteId,"Stacking an older merge on top of newer ones"),r.allWrites.push({path:t,children:e,writeId:o,visible:!0}),r.visibleWrites=vf(r.visibleWrites,t,e),r.lastWriteId=o}(r.pendingWriteTree_,t,e,o);const l=zt.fromObject(e);return fc(r,new Ps({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,l))}(r.serverSyncTree_,t,p,E);kf(r.eventQueue_,D),r.server_.merge(t.toString(),e,(R,U)=>{const k="ok"===R;k||Ur("update at "+t+" failed: "+R);const J=il(r.serverSyncTree_,E,!k),ye=J.length>0?Zt(r,t):t;Qi(r.eventQueue_,ye,J),ol(0,o,R,U)}),Gn(e,R=>{const U=Vf(r,cn(t,R));Zt(r,U)}),Qi(r.eventQueue_,t,[])}}(r._repo,r._path,t,e.wrapCallback(()=>{})),e.promise}function A0(r){return function Xl(r,t){const e=function h0(r,t){const e=t._path;let o=null;r.syncPointTree_.foreachOnPath(e,(R,U)=>{const k=lr(R,e);o=o||fa(U,k)});let l=r.syncPointTree_.get(e);l?o=o||fa(l,xt()):(l=new Wg,r.syncPointTree_=r.syncPointTree_.set(e,l));const d=null!=o,p=d?new Ii(o,!0,!1):null;return function Ug(r){return Ed(r.viewCache_)}(vy(l,t,Ef(r.pendingWriteTree_,t._path),d?p.getNode():ft.EMPTY_NODE,d))}(r.serverSyncTree_,t);return null!=e?Promise.resolve(e):r.server_.get(t).then(o=>{const l=dn(o).withIndex(t._queryParams.getIndex()),d=pn(r.serverSyncTree_,t._path,l);return am(r.eventQueue_,t._path,d),Promise.resolve(l)},o=>(vc(r,"get for query "+(0,N.Pz)(t)+" failed: "+o),Promise.reject(new Error(o))))}((r=(0,N.m9)(r))._repo,r).then(t=>new ks(t,new Ji(r._repo,r._path),r._queryParams.getIndex()))}class mm{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const o=e._queryParams.getIndex();return new Ec("value",this,new ks(t.snapshotNode,new Ji(e._repo,e._path),o))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Ky(this,t,e):null}matches(t){return t instanceof mm&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class _m{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Ky(this,t,e):null}createEvent(t,e){(0,N.hu)(null!=t.childName,"Child events should have a childName.");const o=tu(new Ji(e._repo,e._path),t.childName),l=e._queryParams.getIndex();return new Ec(t.type,this,new ks(t.snapshotNode,o,l),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof _m&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function $f(r,t,e,o,l){let d;if("object"==typeof o&&(d=void 0,l=o),"function"==typeof o&&(d=o),l&&l.onlyOnce){const D=e,R=(U,k)=>{Wy(r._repo,r,E),D(U,k)};R.userCallback=e.userCallback,R.context=e.context,e=R}const p=new qy(e,d||void 0),E="value"===t?new mm(p):new _m(t,p);return function $y(r,t,e){let o;o=".info"===Ct(t._path)?Yg(r.infoSyncTree_,t,e):Yg(r.serverSyncTree_,t,e),am(r.eventQueue_,t._path,o)}(r._repo,r,E),()=>Wy(r._repo,r,E)}function tv(r,t,e,o){return $f(r,"value",t,e,o)}function ym(r,t,e,o){return $f(r,"child_added",t,e,o)}function Ld(r,t,e,o){return $f(r,"child_changed",t,e,o)}function nv(r,t,e,o){return $f(r,"child_moved",t,e,o)}function rv(r,t,e,o){return $f(r,"child_removed",t,e,o)}function vm(r,t,e){let o=null;const l=e?new qy(e):null;"value"===t?o=new mm(l):t&&(o=new _m(t,l)),Wy(r._repo,r,o)}class Vr{}class iv extends Vr{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Io("endAt",this._value,t._path,!0);const e=vg(t._queryParams,this._value,this._key);if(Fd(e),ma(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ur(t._repo,t._path,e,t._orderByCalled)}}class R0 extends Vr{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Io("endBefore",this._value,t._path,!1);const e=function ZE(r,t,e){let o,l;return r.index_===oi?("string"==typeof t&&(t=_g(t)),l=vg(r,t,e)):(o=null==e?Ss:_g(e),l=vg(r,t,o)),l.endBeforeSet_=!0,l}(t._queryParams,this._value,this._key);if(Fd(e),ma(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ur(t._repo,t._path,e,t._orderByCalled)}}class sv extends Vr{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Io("startAt",this._value,t._path,!0);const e=_d(t._queryParams,this._value,this._key);if(Fd(e),ma(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ur(t._repo,t._path,e,t._orderByCalled)}}class P0 extends Vr{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Io("startAfter",this._value,t._path,!1);const e=function zE(r,t,e){let o;if(r.index_===oi)"string"==typeof t&&(t=mg(t)),o=_d(r,t,e);else{let l;l=null==e?Zi:mg(e),o=_d(r,t,l)}return o.startAfterSet_=!0,o}(t._queryParams,this._value,this._key);if(Fd(e),ma(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ur(t._repo,t._path,e,t._orderByCalled)}}class Ic extends Vr{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ur(t._repo,t._path,function ny(r,t){const e=r.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class av extends Vr{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ur(t._repo,t._path,function GE(r,t){const e=r.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class lv extends Vr{constructor(t){super(),this._path=t}_apply(t){kd(t,"orderByChild");const e=new Lt(this._path);if(gt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const o=new Q_(e),l=gf(t._queryParams,o);return ma(l),new ur(t._repo,t._path,l,!0)}}class uv extends Vr{_apply(t){kd(t,"orderByKey");const e=gf(t._queryParams,oi);return ma(e),new ur(t._repo,t._path,e,!0)}}class Em extends Vr{_apply(t){kd(t,"orderByPriority");const e=gf(t._queryParams,Yt);return ma(e),new ur(t._repo,t._path,e,!0)}}class cv extends Vr{_apply(t){kd(t,"orderByValue");const e=gf(t._queryParams,gg);return ma(e),new ur(t._repo,t._path,e,!0)}}class U0 extends Vr{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Io("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new iv(this._value,this._key)._apply(new sv(this._value,this._key)._apply(t))}}function Fs(r,...t){let e=(0,N.m9)(r);for(const o of t)e=o._apply(e);return e}(function _y(r){(0,N.hu)(!Tf,"__referenceConstructor has already been defined"),Tf=r})(Ji),function Cy(r){(0,N.hu)(!Dd,"__referenceConstructor has already been defined"),Dd=r}(Ji);const Im={};function hv(r,t,e,o,l){let d=o||r.options.databaseURL;void 0===d&&(r.options.projectId||As("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Wn("Using default host for project ",r.options.projectId),d=`${r.options.projectId}-default-rtdb.firebaseio.com`);let D,R,p=gm(d,l),E=p.repoInfo;"undefined"!=typeof process&&process.env&&(R=process.env.FIREBASE_DATABASE_EMULATOR_HOST),R?(D=!0,d=`http://${R}?ns=${E.namespace}`,p=gm(d,l),E=p.repoInfo):D=!p.repoInfo.secure;const U=l&&D?new Kh(Kh.OWNER):new vI(r.name,r.options,t);Fy("Invalid Firebase Database URL",p),gt(p.path)||As("Database URL must point to the root of a Firebase Database (not including a child path).");const k=function H0(r,t,e,o){let l=Im[t.name];l||(l={},Im[t.name]=l);let d=l[r.toURLString()];return d&&As("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),d=new By(r,false,e,o),l[r.toURLString()]=d,d}(E,r,U,new yI(r.name,e));return new W0(k,r)}class W0{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Vy(r,t,e){if(r.stats_=Xp(r.repoInfo_),r.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)r.server_=new Yl(r.repoInfo_,(o,l,d,p)=>{cm(r,o,l,d,p)},r.authTokenProvider_,r.appCheckProvider_),setTimeout(()=>dm(r,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,N.Pz)(e)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}r.persistentConnection_=new zl(r.repoInfo_,t,(o,l,d,p)=>{cm(r,o,l,d,p)},o=>{dm(r,o)},o=>{!function jy(r,t){Gn(t,(e,o)=>{Ff(r,e,o)})}(r,o)},r.authTokenProvider_,r.appCheckProvider_,e),r.server_=r.persistentConnection_}r.authTokenProvider_.addTokenChangeListener(o=>{r.server_.refreshAuthToken(o)}),r.appCheckProvider_.addTokenChangeListener(o=>{r.server_.refreshAppCheckToken(o.token)}),r.statsReporter_=function TE(r,t){const e=r.toString();return Xh[e]||(Xh[e]=t()),Xh[e]}(r.repoInfo_,()=>new _f(r.stats_,r.server_)),r.infoData_=new ic,r.infoSyncTree_=new wy({startListening:(o,l,d,p)=>{let E=[];const D=r.infoData_.getNode(o._path);return D.isEmpty()||(E=pn(r.infoSyncTree_,o._path,D),setTimeout(()=>{p("ok")},0)),E},stopListening:()=>{}}),Ff(r,"connected",!1),r.serverSyncTree_=new wy({startListening:(o,l,d,p)=>(r.server_.listen(o,d,l,(E,D)=>{const R=p(E,D);Qi(r.eventQueue_,o._path,R)}),[]),stopListening:(o,l)=>{r.server_.unlisten(o,l)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ji(this._repo,xt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function j0(r,t){const e=Im[t];(!e||e[r.key]!==r)&&As(`Database ${t}(${r.repoInfo_}) has already been deleted.`),nt(r),delete e[r.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&As("Cannot call "+t+" on a deleted database.")}}function fv(){O_.IS_TRANSPORT_INITIALIZED&&Ur("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function G0(){fv(),Ja.forceDisallow()}function pv(){fv(),qu.forceDisallow(),Ja.forceAllow()}function q0(r,t){Gh(r,t)}const Q0={".sv":"timestamp"};class mv{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}zl.prototype.simpleListen=function(r,t){this.sendRequest("q",{p:r},t)},zl.prototype.echo=function(r,t){this.sendRequest("echo",{d:r},t)},function Y0(r){__(Vl.SDK_VERSION),(0,Vl._registerComponent)(new Bl.wA("database",(t,{instanceIdentifier:e})=>hv(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Vl.registerVersion)(m_,"0.13.0",r),(0,Vl.registerVersion)(m_,"0.13.0","esm2017")}();const X0=new $h.Yd("@firebase/database-compat"),_v=function(r){X0.warn("FIREBASE WARNING: "+r)};class vv{constructor(t){this._delegate=t}cancel(t){(0,N.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,N.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),o=>t(o)),e}remove(t){(0,N.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,N.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),o=>t(o)),e}set(t,e){(0,N.Dv)("OnDisconnect.set",1,2,arguments.length),(0,N.Wj)("OnDisconnect.set","onComplete",e,!0);const o=this._delegate.set(t);return e&&o.then(()=>e(null),l=>e(l)),o}setWithPriority(t,e,o){(0,N.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,N.Wj)("OnDisconnect.setWithPriority","onComplete",o,!0);const l=this._delegate.setWithPriority(t,e);return o&&l.then(()=>o(null),d=>o(d)),l}update(t,e){if((0,N.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const l={};for(let d=0;d<t.length;++d)l[""+d]=t[d];t=l,_v("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,N.Wj)("OnDisconnect.update","onComplete",e,!0);const o=this._delegate.update(t);return e&&o.then(()=>e(null),l=>e(l)),o}}class FI{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,N.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class al{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,N.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,N.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,N.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,N.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,N.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),xd("DataSnapshot.child","path",t,!1),new al(this._database,this._delegate.child(t))}hasChild(t){return(0,N.Dv)("DataSnapshot.hasChild",1,1,arguments.length),xd("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,N.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,N.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,N.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new al(this._database,e)))}hasChildren(){return(0,N.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,N.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,N.Dv)("DataSnapshot.ref",0,0,arguments.length),new wi(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class kn{constructor(t,e){this.database=t,this._delegate=e}on(t,e,o,l){var d;(0,N.Dv)("Query.on",2,4,arguments.length),(0,N.Wj)("Query.on","callback",e,!1);const p=kn.getCancelAndContextArgs_("Query.on",o,l),E=(R,U)=>{e.call(p.context,new al(this.database,R),U)};E.userCallback=e,E.context=p.context;const D=null===(d=p.cancel)||void 0===d?void 0:d.bind(p.context);switch(t){case"value":return tv(this._delegate,E,D),e;case"child_added":return ym(this._delegate,E,D),e;case"child_removed":return rv(this._delegate,E,D),e;case"child_changed":return Ld(this._delegate,E,D),e;case"child_moved":return nv(this._delegate,E,D),e;default:throw new Error((0,N.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,o){if((0,N.Dv)("Query.off",0,3,arguments.length),function(r,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,N.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,N.Wj)("Query.off","callback",e,!0),(0,N.lb)("Query.off","context",o,!0),e){const l=()=>{};l.userCallback=e,l.context=o,vm(this._delegate,t,l)}else vm(this._delegate,t)}get(){return A0(this._delegate).then(t=>new al(this.database,t))}once(t,e,o,l){(0,N.Dv)("Query.once",1,4,arguments.length),(0,N.Wj)("Query.once","callback",e,!0);const d=kn.getCancelAndContextArgs_("Query.once",o,l),p=new N.BH,E=(R,U)=>{const k=new al(this.database,R);e&&e.call(d.context,k,U),p.resolve(k)};E.userCallback=e,E.context=d.context;const D=R=>{d.cancel&&d.cancel.call(d.context,R),p.reject(R)};switch(t){case"value":tv(this._delegate,E,D,{onlyOnce:!0});break;case"child_added":ym(this._delegate,E,D,{onlyOnce:!0});break;case"child_removed":rv(this._delegate,E,D,{onlyOnce:!0});break;case"child_changed":Ld(this._delegate,E,D,{onlyOnce:!0});break;case"child_moved":nv(this._delegate,E,D,{onlyOnce:!0});break;default:throw new Error((0,N.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return p.promise}limitToFirst(t){return(0,N.Dv)("Query.limitToFirst",1,1,arguments.length),new kn(this.database,Fs(this._delegate,function O0(r){if("number"!=typeof r||Math.floor(r)!==r||r<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Ic(r)}(t)))}limitToLast(t){return(0,N.Dv)("Query.limitToLast",1,1,arguments.length),new kn(this.database,Fs(this._delegate,function N0(r){if("number"!=typeof r||Math.floor(r)!==r||r<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new av(r)}(t)))}orderByChild(t){return(0,N.Dv)("Query.orderByChild",1,1,arguments.length),new kn(this.database,Fs(this._delegate,function k0(r){if("$key"===r)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===r)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===r)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return xd("orderByChild","path",r,!1),new lv(r)}(t)))}orderByKey(){return(0,N.Dv)("Query.orderByKey",0,0,arguments.length),new kn(this.database,Fs(this._delegate,function F0(){return new uv}()))}orderByPriority(){return(0,N.Dv)("Query.orderByPriority",0,0,arguments.length),new kn(this.database,Fs(this._delegate,function L0(){return new Em}()))}orderByValue(){return(0,N.Dv)("Query.orderByValue",0,0,arguments.length),new kn(this.database,Fs(this._delegate,function dv(){return new cv}()))}startAt(t=null,e){return(0,N.Dv)("Query.startAt",0,2,arguments.length),new kn(this.database,Fs(this._delegate,function ov(r=null,t){return Pd("startAt","key",t,!0),new sv(r,t)}(t,e)))}startAfter(t=null,e){return(0,N.Dv)("Query.startAfter",0,2,arguments.length),new kn(this.database,Fs(this._delegate,function x0(r,t){return Pd("startAfter","key",t,!0),new P0(r,t)}(t,e)))}endAt(t=null,e){return(0,N.Dv)("Query.endAt",0,2,arguments.length),new kn(this.database,Fs(this._delegate,function S0(r,t){return Pd("endAt","key",t,!0),new iv(r,t)}(t,e)))}endBefore(t=null,e){return(0,N.Dv)("Query.endBefore",0,2,arguments.length),new kn(this.database,Fs(this._delegate,function M0(r,t){return Pd("endBefore","key",t,!0),new R0(r,t)}(t,e)))}equalTo(t,e){return(0,N.Dv)("Query.equalTo",1,2,arguments.length),new kn(this.database,Fs(this._delegate,function B0(r,t){return Pd("equalTo","key",t,!0),new U0(r,t)}(t,e)))}toString(){return(0,N.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,N.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,N.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof kn))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,o){const l={cancel:void 0,context:void 0};if(e&&o)l.cancel=e,(0,N.Wj)(t,"cancel",l.cancel,!0),l.context=o,(0,N.lb)(t,"context",l.context,!0);else if(e)if("object"==typeof e&&null!==e)l.context=e;else{if("function"!=typeof e)throw new Error((0,N.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");l.cancel=e}return l}get ref(){return new wi(this.database,new Ji(this._delegate._repo,this._delegate._path))}}class wi extends kn{constructor(t,e){super(t,new ur(e._repo,e._path,new yg,!1)),this.database=t,this._delegate=e}getKey(){return(0,N.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,N.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new wi(this.database,tu(this._delegate,t))}getParent(){(0,N.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new wi(this.database,t):null}getRoot(){return(0,N.Dv)("Reference.root",0,0,arguments.length),new wi(this.database,this._delegate.root)}set(t,e){(0,N.Dv)("Reference.set",1,2,arguments.length),(0,N.Wj)("Reference.set","onComplete",e,!0);const o=Hf(this._delegate,t);return e&&o.then(()=>e(null),l=>e(l)),o}update(t,e){if((0,N.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const l={};for(let d=0;d<t.length;++d)l[""+d]=t[d];t=l,_v("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Yi("Reference.update",this._delegate._path),(0,N.Wj)("Reference.update","onComplete",e,!0);const o=T0(this._delegate,t);return e&&o.then(()=>e(null),l=>e(l)),o}setWithPriority(t,e,o){(0,N.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,N.Wj)("Reference.setWithPriority","onComplete",o,!0);const l=function ev(r,t,e){if(Yi("setWithPriority",r._path),Io("setWithPriority",t,r._path,!1),om("setWithPriority",e,!1),".length"===r.key||".keys"===r.key)throw"setWithPriority failed: "+r.key+" is a read-only object.";const o=new N.BH;return hm(r._repo,r._path,t,e,o.wrapCallback(()=>{})),o.promise}(this._delegate,t,e);return o&&l.then(()=>o(null),d=>o(d)),l}remove(t){(0,N.Dv)("Reference.remove",0,1,arguments.length),(0,N.Wj)("Reference.remove","onComplete",t,!0);const e=function Xy(r){return Yi("remove",r._path),Hf(r,null)}(this._delegate);return t&&e.then(()=>t(null),o=>t(o)),e}transaction(t,e,o){(0,N.Dv)("Reference.transaction",1,3,arguments.length),(0,N.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,N.Wj)("Reference.transaction","onComplete",e,!0),function(r,t,e,o){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,N.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,o);const l=function Tm(r,t,e){var o;if(r=(0,N.m9)(r),Yi("Reference.transaction",r._path),".length"===r.key||".keys"===r.key)throw"Reference.transaction failed: "+r.key+" is a read-only object.";const l=null===(o=null==e?void 0:e.applyLocally)||void 0===o||o,d=new N.BH,E=tv(r,()=>{});return function Uf(r,t,e,o,l,d){vc(r,"transaction on "+t);const p={path:t,update:e,onComplete:o,status:null,order:zi(),applyLocally:d,retryCount:0,unwatcher:l,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},E=fm(r,t,void 0);p.currentInputSnapshot=E;const D=p.update(E.val());if(void 0===D)p.unwatcher(),p.currentOutputSnapshotRaw=null,p.currentOutputSnapshotResolved=null,p.onComplete&&p.onComplete(null,!1,p.currentInputSnapshot);else{Md("transaction failed: Data returned ",D,p.path),p.status=0;const R=Td(r.transactionQueueTree_,t),U=sl(R)||[];let k;U.push(p),gc(R,U),"object"==typeof D&&null!==D&&(0,N.r3)(D,".priority")?(k=(0,N.DV)(D,".priority"),(0,N.hu)(Rd(k),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):k=(ga(r.serverSyncTree_,t)||ft.EMPTY_NODE).getPriority().val();const J=_c(r),ye=dn(D,k),Oe=rm(ye,E,J);p.currentOutputSnapshotRaw=ye,p.currentOutputSnapshotResolved=Oe,p.currentWriteId=Od(r);const at=qg(r.serverSyncTree_,t,Oe,p.currentWriteId,p.applyLocally);Qi(r.eventQueue_,t,at),eu(r,r.transactionQueueTree_)}}(r._repo,r._path,t,(D,R,U)=>{let k=null;D?d.reject(D):(k=new ks(U,new Ji(r._repo,r._path),Yt),d.resolve(new mv(R,k)))},E,l),d.promise}(this._delegate,t,{applyLocally:o}).then(d=>new FI(d.committed,new al(this.database,d.snapshot)));return e&&l.then(d=>e(null,d.committed,d.snapshot),d=>e(d,!1,null)),l}setPriority(t,e){(0,N.Dv)("Reference.setPriority",1,2,arguments.length),(0,N.Wj)("Reference.setPriority","onComplete",e,!0);const o=function b0(r,t){r=(0,N.m9)(r),Yi("setPriority",r._path),om("setPriority",t,!1);const e=new N.BH;return hm(r._repo,cn(r._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&o.then(()=>e(null),l=>e(l)),o}push(t,e){(0,N.Dv)("Reference.push",0,2,arguments.length),(0,N.Wj)("Reference.push","onComplete",e,!0);const o=function Jy(r,t){r=(0,N.m9)(r),Yi("push",r._path),Io("push",t,r._path,!0);const e=um(r._repo),o=HE(e),l=tu(r,o),d=tu(r,o);let p;return p=null!=t?Hf(d,t).then(()=>d):Promise.resolve(d),l.then=p.then.bind(p),l.catch=p.then.bind(p,void 0),l}(this._delegate,t),l=o.then(p=>new wi(this.database,p));e&&l.then(()=>e(null),p=>e(p));const d=new wi(this.database,o);return d.then=l.then.bind(l),d.catch=l.catch.bind(l,void 0),d}onDisconnect(){return Yi("Reference.onDisconnect",this._delegate._path),new vv(new Yy(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class wo{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:G0,forceLongPolling:pv}}useEmulator(t,e,o={}){!function Z0(r,t,e,o={}){(r=(0,N.m9)(r))._checkNotDeleted("useEmulator"),r._instanceStarted&&As("Cannot call useEmulator() after instance has already been initialized.");const l=r._repoInternal;let d;if(l.repoInfo_.nodeAdmin)o.mockUserToken&&As('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),d=new Kh(Kh.OWNER);else if(o.mockUserToken){const p="string"==typeof o.mockUserToken?o.mockUserToken:(0,N.Sg)(o.mockUserToken,r.app.options.projectId);d=new Kh(p)}!function V0(r,t,e,o){r.repoInfo_=new _o(`${t}:${e}`,!1,r.repoInfo_.namespace,r.repoInfo_.webSocketOnly,r.repoInfo_.nodeAdmin,r.repoInfo_.persistenceKey,r.repoInfo_.includeNamespaceInQueryParams),o&&(r.authTokenProvider_=o)}(l,t,e,d)}(this._delegate,t,e,o)}ref(t){if((0,N.Dv)("database.ref",0,1,arguments.length),t instanceof wi){const e=Qy(this._delegate,t.toString());return new wi(this,e)}{const e=Cc(this._delegate,t);return new wi(this,e)}}refFromURL(t){(0,N.Dv)("database.refFromURL",1,1,arguments.length);const o=Qy(this._delegate,t);return new wi(this,o)}goOffline(){return(0,N.Dv)("database.goOffline",0,0,arguments.length),function K0(r){(r=(0,N.m9)(r))._checkNotDeleted("goOffline"),nt(r._repo)}(this._delegate)}goOnline(){return(0,N.Dv)("database.goOnline",0,0,arguments.length),function gv(r){(r=(0,N.m9)(r))._checkNotDeleted("goOnline"),function I0(r){r.persistentConnection_&&r.persistentConnection_.resume(lm)}(r._repo)}(this._delegate)}}wo.ServerValue={TIMESTAMP:function Dm(){return Q0}(),increment:r=>function bm(r){return{".sv":{increment:r}}}(r)};var tC=Object.freeze({__proto__:null,initStandalone:function Ud({app:r,url:t,version:e,customAuthImpl:o,namespace:l,nodeAdmin:d=!1}){__(e);const p=new Bl.zt("auth-internal",new Bl.H0("database-standalone"));return p.setComponent(new Bl.wA("auth-internal",()=>o,"PRIVATE")),{instance:new wo(hv(r,p,void 0,t,d),r),namespace:l}}});const LI=wo.ServerValue;!function Ev(r){r.INTERNAL.registerComponent(new Bl.wA("database-compat",(t,{instanceIdentifier:e})=>{const o=t.getProvider("app-compat").getImmediate(),l=t.getProvider("database").getImmediate({identifier:e});return new wo(l,o)},"PUBLIC").setServiceProps({Reference:wi,Query:kn,Database:wo,DataSnapshot:al,enableLogging:q0,INTERNAL:tC,ServerValue:LI}).setMultipleInstances(!0)),r.registerVersion("@firebase/database-compat","0.2.0")}(Ts.Z);var Wf=P(5363),nC=P(6063);class rC extends _r.x{constructor(t=1/0,e=1/0,o=nC.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=o,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:o,_infiniteTimeWindow:l,_timestampProvider:d,_windowTime:p}=this;e||(o.push(t),!l&&o.push(d.now()+p)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:o,_buffer:l}=this,d=l.slice();for(let p=0;p<d.length&&!t.closed;p+=o?1:2)t.next(d[p]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:o,_infiniteTimeWindow:l}=this,d=(l?1:2)*t;if(t<1/0&&d<o.length&&o.splice(0,o.length-d),!l){const p=e.now();let E=0;for(let D=1;D<o.length&&o[D]<=p;D+=2)E=D;E&&o.splice(0,E+1)}}}function Cv(r,t,e){let o,l=!1;return r&&"object"==typeof r?({bufferSize:o=1/0,windowTime:t=1/0,refCount:l=!1,scheduler:e}=r):o=null!=r?r:1/0,(0,Vp.B)({connector:()=>new rC(o,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:l})}function Sm(r,t){return(0,Oa.m)(t)?un(()=>r,t):un(()=>r)}var Gf=P(9468);P(5867);const wv=new Map,$I={activated:!1,tokenObservers:[]},Dv={initialized:!1,enabled:!1};function cr(r){return wv.get(r)||$I}function Xi(r,t){wv.set(r,t)}function wc(){return Dv}class dC{constructor(t,e,o,l,d){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=o,this.lowerBound=l,this.upperBound=d,this.pending=null,this.nextErrorWaitInterval=l,l>d)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Ya.Z)(function*(){e.stop();try{e.pending=new N.BH,yield function hC(r){return new Promise(t=>{setTimeout(t,r)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new N.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(o){e.retryPolicy(o)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const jr=new N.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Mm(r){if(!cr(r).activated)throw jr.create("use-before-activation",{appName:r.name})}function Yf(r,t){return Qf.apply(this,arguments)}function Qf(){return(Qf=(0,Ya.Z)(function*({url:r,body:t},e){const o={"Content-Type":"application/json"},l=e.getImmediate({optional:!0});if(l){const k=yield l.getHeartbeatsHeader();k&&(o["X-Firebase-Client"]=k)}const d={method:"POST",body:JSON.stringify(t),headers:o};let p,E;try{p=yield fetch(r,d)}catch(k){throw jr.create("fetch-network-error",{originalErrorMessage:k.message})}if(200!==p.status)throw jr.create("fetch-status-error",{httpStatus:p.status});try{E=yield p.json()}catch(k){throw jr.create("fetch-parse-error",{originalErrorMessage:k.message})}const D=E.ttl.match(/^([\d.]+)(s)$/);if(!D||!D[2]||isNaN(Number(D[1])))throw jr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${E.ttl}`});const R=1e3*Number(D[1]),U=Date.now();return{token:E.token,expireTimeMillis:U+R,issuedAtTimeMillis:U}})).apply(this,arguments)}function gC(r,t){const{projectId:e,appId:o,apiKey:l}=r.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${o}:exchangeDebugToken?key=${l}`,body:{debug_token:t}}}const $d="firebase-app-check-store";let Jf=null;function Xf(){return Jf||(Jf=new Promise((r,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=o=>{r(o.target.result)},e.onerror=o=>{var l;t(jr.create("storage-open",{originalErrorMessage:null===(l=o.target.error)||void 0===l?void 0:l.message}))},e.onupgradeneeded=o=>{0===o.oldVersion&&o.target.result.createObjectStore($d,{keyPath:"compositeKey"})}}catch(e){t(jr.create("storage-open",{originalErrorMessage:e.message}))}}),Jf)}function xm(){return(xm=(0,Ya.Z)(function*(r,t){const o=(yield Xf()).transaction($d,"readwrite"),d=o.objectStore($d).put({compositeKey:r,value:t});return new Promise((p,E)=>{d.onsuccess=D=>{p()},o.onerror=D=>{var R;E(jr.create("storage-set",{originalErrorMessage:null===(R=D.target.error)||void 0===R?void 0:R.message}))}})})).apply(this,arguments)}const zd=new $h.Yd("@firebase/app-check");function Om(r,t){return(0,N.hl)()?function yC(r,t){return function Sv(r,t){return xm.apply(this,arguments)}(function Gd(r){return`${r.options.appId}-${r.name}`}(r),t)}(r,t).catch(e=>{zd.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function Mv(){return wc().enabled}function Pv(){return xv.apply(this,arguments)}function xv(){return(xv=(0,Ya.Z)(function*(){const r=wc();if(r.enabled&&r.token)return r.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Fm={error:"UNKNOWN_ERROR"};function Ov(r){return N.US.encodeString(JSON.stringify(r),!1)}function Tc(r){return Zd.apply(this,arguments)}function Zd(){return(Zd=(0,Ya.Z)(function*(r,t=!1){const e=r.app;Mm(e);const o=cr(e);let d,l=o.token;if(!l){const D=yield o.cachedTokenPromise;D&&Ac(D)&&(l=D)}if(!t&&l&&Ac(l))return{token:l.token};let E,p=!1;if(Mv()){o.exchangeTokenPromise||(o.exchangeTokenPromise=Yf(gC(e,yield Pv()),r.heartbeatServiceProvider).then(R=>(o.exchangeTokenPromise=void 0,R)),p=!0);const D=yield o.exchangeTokenPromise;return yield Om(e,D),Xi(e,Object.assign(Object.assign({},o),{token:D})),{token:D.token}}try{o.exchangeTokenPromise||(o.exchangeTokenPromise=o.provider.getToken().then(D=>(o.exchangeTokenPromise=void 0,D)),p=!0),l=yield o.exchangeTokenPromise}catch(D){"appCheck/throttled"===D.code?zd.warn(D.message):zd.error(D),d=D}return l?(E={token:l.token},Xi(e,Object.assign(Object.assign({},o),{token:l})),yield Om(e,l)):E=kv(d),p&&Bm(e,E),E})).apply(this,arguments)}function Um(r,t){const e=cr(r),o=e.tokenObservers.filter(l=>l.next!==t);0===o.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Xi(r,Object.assign(Object.assign({},e),{tokenObservers:o}))}function Nv(r){const{app:t}=r,e=cr(t);let o=e.tokenRefresher;o||(o=function EC(r){const{app:t}=r;return new dC((0,Ya.Z)(function*(){let o;if(o=cr(t).token?yield Tc(r,!0):yield Tc(r),o.error)throw o.error}),()=>!0,()=>{const e=cr(t);if(e.token){let o=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return o=Math.min(o,e.token.expireTimeMillis-3e5),Math.max(0,o-Date.now())}return 0},3e4,96e4)}(r),Xi(t,Object.assign(Object.assign({},e),{tokenRefresher:o}))),!o.isRunning()&&e.isTokenAutoRefreshEnabled&&o.start()}function Bm(r,t){const e=cr(r).tokenObservers;for(const o of e)try{"EXTERNAL"===o.type&&null!=t.error?o.error(t.error):o.next(t)}catch(l){}}function Ac(r){return r.expireTimeMillis-Date.now()>0}function kv(r){return{token:Ov(Fm),error:r}}class CC{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=cr(this.app);for(const e of t)Um(this.app,e.next);return Promise.resolve()}}const Kv="app-check-internal";!function qv(){(0,Vl._registerComponent)(new Bl.wA("app-check",r=>function Fv(r,t){return new CC(r,t)}(r.getProvider("app").getImmediate(),r.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((r,t,e)=>{r.getProvider(Kv).initialize()})),(0,Vl._registerComponent)(new Bl.wA(Kv,r=>function Lv(r){return{getToken:t=>Tc(r,t),addTokenListener:t=>function Lm(r,t,e,o){const{app:l}=r,d=cr(l),p={next:e,error:o,type:t};if(Xi(l,Object.assign(Object.assign({},d),{tokenObservers:[...d.tokenObservers,p]})),d.token&&Ac(d.token)){const E=d.token;Promise.resolve().then(()=>{e({token:E.token}),Nv(r)}).catch(()=>{})}d.cachedTokenPromise.then(()=>Nv(r))}(r,"INTERNAL",t),removeTokenListener:t=>Um(r.app,t)}}(r.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Vl.registerVersion)("@firebase/app-check","0.5.8")}();class $m{constructor(){return(0,Gi.vb)("app-check")}}"undefined"!=typeof window&&window,P(127);const Wm=new g.OlP("angularfire2.auth.use-emulator"),tE=new g.OlP("angularfire2.auth.settings"),nE=new g.OlP("angularfire2.auth.tenant-id"),xC=new g.OlP("angularfire2.auth.langugage-code"),Gm=new g.OlP("angularfire2.auth.use-device-language"),OC=new g.OlP("angularfire.auth.persistence"),NC=(r,t,e,o,l,d,p,E)=>(0,bs.cc)(`${r.name}.auth`,"AngularFireAuth",r.name,()=>{const D=t.runOutsideAngular(()=>r.auth());if(e&&D.useEmulator(...e),o&&(D.tenantId=o),D.languageCode=l,d&&D.useDeviceLanguage(),p)for(const[R,U]of Object.entries(p))D.settings[R]=U;return E&&D.setPersistence(E),D},[e,o,l,d,p,E]);let kC=(()=>{class r{constructor(e,o,l,d,p,E,D,R,U,k,J,ye){const Oe=new _r.x,at=Ge(void 0).pipe((0,Wf.Q)(p.outsideAngular),un(()=>d.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,7092)))),(0,vt.U)(()=>(0,bs.on)(e,d,o)),(0,vt.U)(bt=>NC(bt,d,E,R,U,k,D,J)),Cv({bufferSize:1,refCount:!1}));if(function Po(r){return"server"===r}(l))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ge(null);else{at.pipe(so()).subscribe();const Fn=at.pipe(un(gn=>gn.getRedirectResult().then(Di=>Di,()=>null)),Gi.iC,Cv({bufferSize:1,refCount:!1})),Qt=at.pipe(un(gn=>new vn.y(Di=>({unsubscribe:d.runOutsideAngular(()=>gn.onAuthStateChanged(iu=>Di.next(iu),iu=>Di.error(iu),()=>Di.complete()))})))),li=at.pipe(un(gn=>new vn.y(Di=>({unsubscribe:d.runOutsideAngular(()=>gn.onIdTokenChanged(iu=>Di.next(iu),iu=>Di.error(iu),()=>Di.complete()))}))));this.authState=Fn.pipe(Sm(Qt),(0,Gf.R)(p.outsideAngular),(0,Wf.Q)(p.insideAngular)),this.user=Fn.pipe(Sm(li),(0,Gf.R)(p.outsideAngular),(0,Wf.Q)(p.insideAngular)),this.idToken=this.user.pipe(un(gn=>gn?(0,Pn.D)(gn.getIdToken()):Ge(null))),this.idTokenResult=this.user.pipe(un(gn=>gn?(0,Pn.D)(gn.getIdTokenResult()):Ge(null))),this.credential=(0,Bp.T)(Fn,Oe,this.authState.pipe(ri(gn=>!gn))).pipe((0,vt.U)(gn=>(null==gn?void 0:gn.user)?gn:null),(0,Gf.R)(p.outsideAngular),(0,Wf.Q)(p.insideAngular))}return(0,bs.pX)(this,at,d,{spy:{apply:(bt,Fn,Qt)=>{(bt.startsWith("signIn")||bt.startsWith("createUser"))&&Qt.then(li=>Oe.next(li))}}})}}return r.\u0275fac=function(e){return new(e||r)(g.LFG(bs.Dh),g.LFG(bs.xv,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(Gi.HU),g.LFG(Wm,8),g.LFG(tE,8),g.LFG(nE,8),g.LFG(xC,8),g.LFG(Gm,8),g.LFG(OC,8),g.LFG($m,8))},r.\u0275prov=g.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})();function FC(r){return null==r}function LC(r){return"function"==typeof r.set}function Jd(r,t){return LC(t)?t:r.ref(t)}function UC(r,t){if(function YI(r){return"string"==typeof r}(r))return t.stringCase();if(LC(r))return t.firebaseCase();if(function QI(r){return"function"==typeof r.exportVal}(r))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof r)}function Sc(r,t,e="on",o=yE.z){return new vn.y(l=>{let d=null;return d=r[e](t,(p,E)=>{o.schedule(()=>{l.next({snapshot:p,prevKey:E})}),"once"===e&&o.schedule(()=>l.complete())},p=>{o.schedule(()=>l.error(p))}),"on"===e?{unsubscribe(){null!=d&&r.off(t,d)}}:{unsubscribe(){}}}).pipe((0,vt.U)(l=>{const{snapshot:d,prevKey:p}=l;let E=null;return d.exists()&&(E=d.key),{type:t,payload:d,prevKey:p,key:E}}),(0,Vp.B)())}function Zm(r,t){const e=r.length;for(let o=0;o<e;o++)if(r[o].payload.key===t)return o;return-1}function JI(r,t){const{payload:e,prevKey:o,key:l}=t,d=Zm(r,l),p=function rE(r,t){if(FC(t))return 0;{const e=Zm(r,t);return-1===e?r.length:e+1}}(r,o);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let E=null;t.payload.forEach(D=>{const R={payload:D,type:"value",prevKey:E,key:D.key};return E=D.key,r=[...r,R],!1})}return r;case"child_added":if(d>-1){const E=r[d-1];(E&&E.key||null)!==o&&(r=r.filter(D=>D.payload.key!==e.key)).splice(p,0,t)}else{if(null==o)return[t,...r];(r=r.slice()).splice(p,0,t)}return r;case"child_removed":return r.filter(E=>E.payload.key!==e.key);case"child_changed":return r.map(E=>E.payload.key===l?t:E);case"child_moved":if(d>-1){const E=r.splice(d,1)[0];return(r=r.slice()).splice(p,0,E),r}return r;default:return r}}function ip(r){return(FC(r)||0===r.length)&&(r=["child_added","child_removed","child_changed","child_moved"]),r}function Km(r,t,e){return function zm(r,t,e){return Sc(r,"value","once",e).pipe(un(o=>{const l=[Ge(o)];return t.forEach(d=>l.push(Sc(r,d,"on",e))),(0,Bp.T)(...l).pipe(gi(JI,[]))}),function jp(r,t=vr.y){return r=null!=r?r:p_,(0,Dn.e)((e,o)=>{let l,d=!0;e.subscribe((0,en.x)(o,p=>{const E=t(p);(d||!r(l,E))&&(d=!1,l=E,o.next(p))}))})}())}(r,t=ip(t),e)}function qm(r,t,e){const o=(t=ip(t)).map(l=>Sc(r,l,"on",e));return(0,Bp.T)(...o)}function oE(r,t){return function(o,l){return UC(o,{stringCase:()=>r.child(o)[t](l),firebaseCase:()=>o[t](l),snapshotCase:()=>o.ref[t](l)})}}function Ym(r){return function(e){return e?UC(e,{stringCase:()=>r.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):r.remove()}}function VC(r,t){return function(){return Sc(r,"value","on",t)}}const tw=new g.OlP("angularfire2.realtimeDatabaseURL"),jC=new g.OlP("angularfire2.database.use-emulator");let HC=(()=>{class r{constructor(e,o,l,d,p,E,D,R,U,k,J,ye,Oe,at,bt){this.schedulers=E;const Fn=D,Qt=(0,bs.on)(e,p,o);R&&NC(Qt,p,U,J,ye,Oe,k,at),this.database=(0,bs.cc)(`${Qt.name}.database.${l}`,"AngularFireDatabase",Qt.name,()=>{const li=p.runOutsideAngular(()=>Qt.database(l||void 0));return Fn&&li.useEmulator(...Fn),li},[Fn])}list(e,o){const l=this.schedulers.ngZone.runOutsideAngular(()=>Jd(this.database,e));let d=l;return o&&(d=o(l)),function BC(r,t){const e=t.schedulers.outsideAngular,o=t.schedulers.ngZone.run(()=>r.ref);return{query:r,update:oE(o,"update"),set:oE(o,"set"),push:l=>o.push(l),remove:Ym(o),snapshotChanges:l=>Km(r,l,e).pipe(Gi.iC),stateChanges:l=>qm(r,l,e).pipe(Gi.iC),auditTrail:l=>function iE(r,t,e){return function sE(r,t,e){return function XI(r,t){return Sc(r,"value","on",t).pipe((0,vt.U)(e=>{let o;return e.payload.forEach(l=>(o=l.key,!1)),{data:e,lastKeyToLoad:o}}))}(r,e).pipe(function g_(...r){const t=(0,Go.jO)(r);return(0,Dn.e)((e,o)=>{const l=r.length,d=new Array(l);let p=r.map(()=>!1),E=!1;for(let D=0;D<l;D++)(0,ro.Xf)(r[D]).subscribe((0,en.x)(o,R=>{d[D]=R,!E&&!p[D]&&(p[D]=!0,(E=p.every(vr.y))&&(p=null))},pI.Z));e.subscribe((0,en.x)(o,D=>{if(E){const R=[D,...d];o.next(t?t(...R):R)}}))})}(t),(0,vt.U)(([l,d])=>{const p=l.lastKeyToLoad,E=d.map(D=>D.key);return{actions:d,lastKeyToLoad:p,loadedKeys:E}}),function vE(r){return(0,Dn.e)((t,e)=>{let o=!1,l=0;t.subscribe((0,en.x)(e,d=>(o||(o=!r(d,l++)))&&e.next(d)))})}(l=>-1===l.loadedKeys.indexOf(l.lastKeyToLoad)),(0,vt.U)(l=>l.actions))}(r,qm(r,t).pipe(gi((l,d)=>[...l,d],[])),e)}(r,l,e).pipe(Gi.iC),valueChanges:(l,d)=>Km(r,l,e).pipe((0,vt.U)(E=>E.map(D=>d&&d.idField?Object.assign(Object.assign({},D.payload.val()),{[d.idField]:D.key}):D.payload.val())),Gi.iC)}}(d,this)}object(e){return function ew(r,t){return{query:r,snapshotChanges:()=>VC(r,t.schedulers.outsideAngular)().pipe(Gi.iC),update:e=>r.ref.update(e),set:e=>r.ref.set(e),remove:()=>r.ref.remove(),valueChanges:()=>VC(r,t.schedulers.outsideAngular)().pipe(Gi.iC,(0,vt.U)(o=>o.payload.exists()?o.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Jd(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return r.\u0275fac=function(e){return new(e||r)(g.LFG(bs.Dh),g.LFG(bs.xv,8),g.LFG(tw,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(Gi.HU),g.LFG(jC,8),g.LFG(kC,8),g.LFG(Wm,8),g.LFG(tE,8),g.LFG(nE,8),g.LFG(xC,8),g.LFG(Gm,8),g.LFG(OC,8),g.LFG($m,8))},r.\u0275prov=g.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),Xd=(()=>{class r{constructor(e){this.database=e,this.tagConstraint=""}getPosts(){return this.database.list("posts",e=>e.orderByKey())}getPostByKey(e){return this.database.list("posts/"+e)}setTagConstraint(e){this.tagConstraint=e}getTagConstraint(){return this.tagConstraint}}return r.\u0275fac=function(e){return new(e||r)(g.LFG(HC))},r.\u0275prov=g.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function $C(r,t){if(1&r&&(g.TgZ(0,"div",1)(1,"div",2)(2,"h5",3),g._uU(3),g.qZA(),g.TgZ(4,"h6",4),g._uU(5),g.qZA(),g.TgZ(6,"h6",4),g._uU(7),g.qZA(),g.TgZ(8,"div",5),g._uU(9),g.qZA(),g.TgZ(10,"a",6),g._uU(11,"Read More..."),g.qZA()()()),2&r){const e=g.oxw();g.xp6(3),g.Oqu(e.title),g.xp6(2),g.Oqu(e.timeWritten),g.xp6(2),g.hij("Tags: ",e.tags,""),g.xp6(2),g.Oqu(e.shortDesc),g.xp6(1),g.MGl("href","posts/",e.key,"",g.LSH)}}let Qm=(()=>{class r{constructor(e){this.key="",this.title="",this.tags="",this.shortDesc="",this.fullText="",this.timeWritten="",this.images=[],this.postService=e}ngOnInit(e=this.post){this.key=e.key,this.title=e.title,this.tags=e.tags.toLowerCase(),this.shortDesc=e.shortDesc,this.fullText=e.fulltext,this.timeWritten=e.timeWritten,this.images=e.images}}return r.\u0275fac=function(e){return new(e||r)(g.Y36(Xd))},r.\u0275cmp=g.Xpm({type:r,selectors:[["app-card"]],inputs:{post:"post"},decls:1,vars:1,consts:[["class","card border-light","style","width: 18rem; background-color: #181a1b; border-radius: 0px; margin-bottom: 30px;",4,"ngIf"],[1,"card","border-light",2,"width","18rem","background-color","#181a1b","border-radius","0px","margin-bottom","30px"],[1,"card-body"],[1,"card-title",2,"font-family","NeueHaasMedium","color","#e6e6e6"],[1,"card-subtitle","mb-2","text-muted",2,"color","#e6e3e3d7 !important","font-family","NeueHaasRoman"],[1,"card-text",2,"color","#e6e6e6","font-family","NeueHaasRoman"],[1,"card-link",2,"color","rgb(51, 157, 255)","font-family","NeueHaasMedium",3,"href"]],template:function(e,o){1&e&&g.YNc(0,$C,12,5,"div",0),2&e&&g.Q6J("ngIf","home"==o.postService.getTagConstraint()||o.tags.includes(o.postService.getTagConstraint()))},directives:[Sn],styles:[""]}),r})();function WC(r,t){if(1&r&&(g.TgZ(0,"div",2)(1,"div",3),g._UZ(2,"app-card",4),g.qZA()()),2&r){const e=t.$implicit;g.xp6(2),g.Q6J("post",e)}}let Ls=(()=>{class r{constructor(e){this.postService=e,this.postFeed=this.postService.getPosts().valueChanges()}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)(g.Y36(Xd))},r.\u0275cmp=g.Xpm({type:r,selectors:[["app-cardseries"]],decls:3,vars:3,consts:[[1,"row"],["class","post",4,"ngFor","ngForOf"],[1,"post"],[1,"col-sm-6"],[3,"post"]],template:function(e,o){1&e&&(g.TgZ(0,"div",0),g.YNc(1,WC,3,1,"div",1),g.ALo(2,"async"),g.qZA()),2&e&&(g.xp6(1),g.Q6J("ngForOf",g.lcZ(2,1,o.postFeed)))},directives:[Cn,Qm],pipes:[Rc],styles:[""]}),r})();const GC=[{path:"contact",component:f_},{path:"about",component:_E},{path:"posts/:key",component:(()=>{class r{constructor(e,o){this._Activatedroute=e,this.key=this._Activatedroute.snapshot.paramMap.get("key"),this.postService=o,o.getPosts().valueChanges().subscribe(l=>{l.forEach(d=>{d.key==this.key&&(this.post=d)})})}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)(g.Y36(co),g.Y36(Xd))},r.\u0275cmp=g.Xpm({type:r,selectors:[["app-post"]],decls:8,vars:4,consts:[[2,"margin-bottom","30px"],[1,"subtitle"],[1,"subhead"],[3,"innerHTML"]],template:function(e,o){1&e&&(g.TgZ(0,"div",0)(1,"h1",1),g._uU(2),g.qZA(),g.TgZ(3,"div",2),g._uU(4),g.qZA(),g.TgZ(5,"div",2),g._uU(6),g.qZA()(),g._UZ(7,"div",3)),2&e&&(g.xp6(2),g.Oqu(o.post.title),g.xp6(2),g.Oqu(o.post.timeWritten),g.xp6(2),g.hij("Tags: ",o.post.tags,""),g.xp6(1),g.Q6J("innerHTML",o.post.fullText,g.oJD))},styles:[""]}),r})()},{path:":filter",component:(()=>{class r{constructor(e,o){this._Activatedroute=e,this.filter=this._Activatedroute.snapshot.paramMap.get("filter"),o.setTagConstraint(this.filter)}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)(g.Y36(co),g.Y36(Xd))},r.\u0275cmp=g.Xpm({type:r,selectors:[["app-home"]],decls:1,vars:0,template:function(e,o){1&e&&g._UZ(0,"app-cardseries")},directives:[Ls],styles:[""]}),r})()},{path:"",redirectTo:"/home",pathMatch:"full"}];let zC=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=g.oAB({type:r}),r.\u0275inj=g.cJS({imports:[[od.forRoot(GC)],od]}),r})();const Jm=function(){return["/home"]},lE=function(){return["/work"]},uE=function(){return["/classes"]},ZC=function(){return["/photography"]},cE=function(){return["/books"]},dE=function(){return["/miscellaneous"]},KC=function(){return["/about"]},qC=function(){return["/contact"]};let Xm=(()=>{class r{constructor(e){this.postService=e}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)(g.Y36(Xd))},r.\u0275cmp=g.Xpm({type:r,selectors:[["app-navbar"]],decls:38,vars:16,consts:[["href","/home"],[2,"border-bottom","2px solid #e6e6e6"],[2,"font-family","NeueHaasBlack","color","#e6e6e6","margin-bottom","0px","font-size","40px"],[2,"font-family","NeueHaasRoman","color","#e6e6e6","margin-bottom","4px","font-size","16px"],[1,"navbar","navbar-expand-md","py-0","px-0"],["type","button","data-toggle","collapse","data-target","#navbarNavAltMarkup","aria-controls","navbarNavAltMarkup","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],["src","../../assets/images/sandwich.png","width","30","height","30"],["id","navbarNavAltMarkup",1,"collapse","navbar-collapse"],[1,"navbar-nav",2,"font-family","NeueHaasRoman"],[1,"nav-item","active"],["href","/home","routerLinkActive","active",1,"nav-item","nav-link","px-3",3,"routerLink","click"],[1,"nav-item","nav-link","px-3","d-none","d-sm-block",2,"color","#e6e6e6","margin-top","-14px","font-size","34px"],["href","/work","routerLinkActive","active",1,"nav-item","nav-link","px-3",3,"routerLink","click"],["href","/classes","routerLinkActive","active",1,"nav-item","nav-link","px-3",3,"routerLink","click"],["href","/photography","routerLinkActive","active",1,"nav-item","nav-link","px-3",3,"routerLink","click"],["href","/books","routerLinkActive","active",1,"nav-item","nav-link","px-3",3,"routerLink","click"],["href","/miscellaneous","routerLinkActive","active",1,"nav-item","nav-link","px-3",3,"routerLink","click"],["href","/about","routerLinkActive","active",1,"nav-item","nav-link","px-3",3,"routerLink","click"],["href","/contact","routerLinkActive","active",1,"nav-item","nav-link","px-3",3,"routerLink"]],template:function(e,o){1&e&&(g.TgZ(0,"a",0)(1,"div",1)(2,"h1",2),g._uU(3,"Nick's Weblog"),g.qZA(),g.TgZ(4,"div",3),g._uU(5,"Computers, Uni, Food & Other Things"),g.qZA()()(),g.TgZ(6,"nav",4)(7,"button",5),g._UZ(8,"img",6),g.qZA(),g.TgZ(9,"div",7)(10,"ul",8)(11,"li",9)(12,"a",10),g.NdJ("click",function(){return o.postService.setTagConstraint("home")}),g._uU(13,"Home"),g.qZA()(),g.TgZ(14,"div",11),g._uU(15,"|"),g.qZA(),g.TgZ(16,"li",9)(17,"a",12),g.NdJ("click",function(){return o.postService.setTagConstraint("work")}),g._uU(18,"Work"),g.qZA()(),g.TgZ(19,"li",9)(20,"a",13),g.NdJ("click",function(){return o.postService.setTagConstraint("classes")}),g._uU(21,"Classes"),g.qZA()(),g.TgZ(22,"li",9)(23,"a",14),g.NdJ("click",function(){return o.postService.setTagConstraint("photography")}),g._uU(24,"Photography"),g.qZA()(),g.TgZ(25,"li",9)(26,"a",15),g.NdJ("click",function(){return o.postService.setTagConstraint("books")}),g._uU(27,"Books"),g.qZA()(),g.TgZ(28,"li",9)(29,"a",16),g.NdJ("click",function(){return o.postService.setTagConstraint("miscellaneous")}),g._uU(30,"Miscellaneous"),g.qZA()(),g.TgZ(31,"li",9)(32,"a",17),g.NdJ("click",function(){return o.postService.setTagConstraint("miscellaneous")}),g._uU(33,"About"),g.qZA()(),g.TgZ(34,"li",9)(35,"a",18),g._uU(36,"Contact"),g.qZA()()()()(),g._UZ(37,"br")),2&e&&(g.xp6(12),g.Q6J("routerLink",g.DdM(8,Jm)),g.xp6(5),g.Q6J("routerLink",g.DdM(9,lE)),g.xp6(3),g.Q6J("routerLink",g.DdM(10,uE)),g.xp6(3),g.Q6J("routerLink",g.DdM(11,ZC)),g.xp6(3),g.Q6J("routerLink",g.DdM(12,cE)),g.xp6(3),g.Q6J("routerLink",g.DdM(13,dE)),g.xp6(3),g.Q6J("routerLink",g.DdM(14,KC)),g.xp6(3),g.Q6J("routerLink",g.DdM(15,qC)))},directives:[Ka,Rp],styles:[".main-heading[_ngcontent-%COMP%]{font-family:NeueHaasBlack;color:#e6e6e6}.active[_ngcontent-%COMP%]{color:#339dff!important}a[_ngcontent-%COMP%]:hover{text-decoration:none!important}"]}),r})(),Us=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=g.Xpm({type:r,selectors:[["app-footer"]],decls:4,vars:0,consts:[[2,"font-family","NeueHaasRoman","color","#e6e6e6","position","absolute","top","(numberofuntits)px","left","(numberofUnits)px","margin-bottom","10px"],["href","https://nemerson7.github.io/",2,"color","rgb(51, 157, 255)"]],template:function(e,o){1&e&&(g.TgZ(0,"div",0),g._uU(1,"\n\xa9 2022 Copyright: "),g.TgZ(2,"a",1),g._uU(3,"https://nemerson7.github.io/"),g.qZA()())},styles:[""]}),r})(),YC=(()=>{class r{constructor(){this.title="weblog"}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=g.Xpm({type:r,selectors:[["app-root"]],decls:5,vars:0,consts:[[2,"margin-left","40px","margin-right","40px","margin-top","20px"]],template:function(e,o){1&e&&(g.TgZ(0,"html")(1,"div",0),g._UZ(2,"app-navbar")(3,"router-outlet")(4,"app-footer"),g.qZA()())},directives:[Xm,kl,Us],styles:[""]}),r})();const QC_firebaseConfig={apiKey:"AIzaSyCeXxkbwectIeGxTihsTGmT4zor8Jbjxzk",authDomain:"personal-15bd4.firebaseapp.com",projectId:"personal-15bd4",storageBucket:"personal-15bd4.appspot.com",messagingSenderId:"778928012784",appId:"1:778928012784:web:81dc1a2008eaadd86f7135"};let JC=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=g.oAB({type:r,bootstrap:[YC]}),r.\u0275inj=g.cJS({providers:[Xd],imports:[[jo,zC,bs.hO.initializeApp(QC_firebaseConfig)]]}),r})();(0,g.G48)(),Sa().bootstrapModule(JC).catch(r=>console.error(r))},5867:($e,pe,P)=>{P.d(pe,{Mq:()=>g.getApp,C6:()=>g.getApps});var g=P(9681);(0,g.registerVersion)("firebase","9.8.1","app")},127:($e,pe,P)=>{P.d(pe,{Z:()=>g.Z});var g=P(3942);g.Z.registerVersion("firebase","9.8.1","app-compat")},7092:($e,pe,P)=>{P.r(pe);var g=P(5861),Q=P(3942),x=P(2090),oe=P(9681),ne=P(655),de=P(1877),ae=P(4859);const Ae=function Fe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},xe=function De(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ue=new x.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Le=new de.Yd("@firebase/auth");function je(m,...c){Le.logLevel<=de.in.ERROR&&Le.error(`Auth (${oe.SDK_VERSION}): ${m}`,...c)}function Ie(m,...c){throw ke(m,...c)}function me(m,...c){return ke(m,...c)}function ve(m,c,f){const y=Object.assign(Object.assign({},xe()),{[c]:f});return new x.LL("auth","Firebase",y).create(c,{appName:m.name})}function Ne(m,c,f){if(!(c instanceof f))throw f.name!==c.constructor.name&&Ie(m,"argument-error"),ve(m,"argument-error",`Type of ${c.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ke(m,...c){if("string"!=typeof m){const f=c[0],y=[...c.slice(1)];return y[0]&&(y[0].appName=m.name),m._errorFactory.create(f,...y)}return ue.create(m,...c)}function B(m,c,...f){if(!m)throw ke(c,...f)}function ge(m){const c="INTERNAL ASSERTION FAILED: "+m;throw je(c),new Error(c)}function Z(m,c){m||ge(c)}const re=new Map;function X(m){Z(m instanceof Function,"Expected a class definition");let c=re.get(m);return c?(Z(c instanceof m,"Instance stored in cache mismatched with class"),c):(c=new m,re.set(m,c),c)}function Se(){var m;return"undefined"!=typeof self&&(null===(m=self.location)||void 0===m?void 0:m.href)||""}function qe(){return"http:"===It()||"https:"===It()}function It(){var m;return"undefined"!=typeof self&&(null===(m=self.location)||void 0===m?void 0:m.protocol)||null}class Pt{constructor(c,f){this.shortDelay=c,this.longDelay=f,Z(f>c,"Short delay should be less than long delay!"),this.isMobile=(0,x.uI)()||(0,x.b$)()}get(){return function mt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(qe()||(0,x.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function rn(m,c){Z(m.emulator,"Emulator should always be set here");const{url:f}=m.emulator;return c?`${f}${c.startsWith("/")?c.slice(1):c}`:f}class Ot{static initialize(c,f,y){this.fetchImpl=c,f&&(this.headersImpl=f),y&&(this.responseImpl=y)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ge("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ge("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ge("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Rt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},zn=new Pt(3e4,6e4);function Tt(m,c){return m.tenantId&&!c.tenantId?Object.assign(Object.assign({},c),{tenantId:m.tenantId}):c}function _t(m,c,f,y){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,g.Z)(function*(m,c,f,y,b={}){return dr(m,b,(0,g.Z)(function*(){let M={},z={};y&&("GET"===c?z=y:M={body:JSON.stringify(y)});const ce=(0,x.xO)(Object.assign({key:m.config.apiKey},z)).slice(1),Re=yield m._getAdditionalHeaders();return Re["Content-Type"]="application/json",m.languageCode&&(Re["X-Firebase-Locale"]=m.languageCode),Ot.fetch()(bi(m,m.config.apiHost,f,ce),Object.assign({method:c,headers:Re,referrerPolicy:"no-referrer"},M))}))})).apply(this,arguments)}function dr(m,c,f){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,g.Z)(function*(m,c,f){m._canInitEmulator=!1;const y=Object.assign(Object.assign({},Rt),c);try{const b=new er(m),M=yield Promise.race([f(),b.promise]);b.clearNetworkTimeout();const z=yield M.json();if("needConfirmation"in z)throw Wr(m,"account-exists-with-different-credential",z);if(M.ok&&!("errorMessage"in z))return z;{const ce=M.ok?z.errorMessage:z.error.message,[Re,Ve]=ce.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Re)throw Wr(m,"credential-already-in-use",z);if("EMAIL_EXISTS"===Re)throw Wr(m,"email-already-in-use",z);const tt=y[Re]||Re.toLowerCase().replace(/[_\s]+/g,"-");if(Ve)throw ve(m,tt,Ve);Ie(m,tt)}}catch(b){if(b instanceof x.ZR)throw b;Ie(m,"network-request-failed")}})).apply(this,arguments)}function Zn(m,c,f,y){return $r.apply(this,arguments)}function $r(){return($r=(0,g.Z)(function*(m,c,f,y,b={}){const M=yield _t(m,c,f,y,b);return"mfaPendingCredential"in M&&Ie(m,"multi-factor-auth-required",{_serverResponse:M}),M})).apply(this,arguments)}function bi(m,c,f,y){const b=`${c}${f}?${y}`;return m.config.emulator?rn(m.config,b):`${m.config.apiScheme}://${b}`}class er{constructor(c){this.auth=c,this.timer=null,this.promise=new Promise((f,y)=>{this.timer=setTimeout(()=>y(me(this.auth,"network-request-failed")),zn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Wr(m,c,f){const y={appName:m.name};f.email&&(y.email=f.email),f.phoneNumber&&(y.phoneNumber=f.phoneNumber);const b=me(m,c,y);return b.customData._tokenResponse=f,b}function hr(){return(hr=(0,g.Z)(function*(m,c){return _t(m,"POST","/v1/accounts:delete",c)})).apply(this,arguments)}function Jt(m,c){return sn.apply(this,arguments)}function sn(){return(sn=(0,g.Z)(function*(m,c){return _t(m,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Ti(m,c){return tr.apply(this,arguments)}function tr(){return(tr=(0,g.Z)(function*(m,c){return _t(m,"POST","/v1/accounts:lookup",c)})).apply(this,arguments)}function En(m){if(m)try{const c=new Date(Number(m));if(!isNaN(c.getTime()))return c.toUTCString()}catch(c){}}function es(){return(es=(0,g.Z)(function*(m,c=!1){const f=(0,x.m9)(m),y=yield f.getIdToken(c),b=Ze(y);B(b&&b.exp&&b.auth_time&&b.iat,f.auth,"internal-error");const M="object"==typeof b.firebase?b.firebase:void 0,z=null==M?void 0:M.sign_in_provider;return{claims:b,token:y,authTime:En(wt(b.auth_time)),issuedAtTime:En(wt(b.iat)),expirationTime:En(wt(b.exp)),signInProvider:z||null,signInSecondFactor:(null==M?void 0:M.sign_in_second_factor)||null}})).apply(this,arguments)}function wt(m){return 1e3*Number(m)}function Ze(m){const[c,f,y]=m.split(".");if(void 0===c||void 0===f||void 0===y)return je("JWT malformed, contained fewer than 3 sections"),null;try{const b=(0,x.tV)(f);return b?JSON.parse(b):(je("Failed to decode base64 JWT payload"),null)}catch(b){return je("Caught error parsing JWT payload as JSON",b),null}}function Un(m,c){return pr.apply(this,arguments)}function pr(){return(pr=(0,g.Z)(function*(m,c,f=!1){if(f)return c;try{return yield c}catch(y){throw y instanceof x.ZR&&yt(y)&&m.auth.currentUser===m&&(yield m.auth.signOut()),y}})).apply(this,arguments)}function yt({code:m}){return"auth/user-disabled"===m||"auth/user-token-expired"===m}class ts{constructor(c){this.user=c,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(c){var f;if(c){const y=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),y}{this.errorBackoff=3e4;const b=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,b)}}schedule(c=!1){var f=this;if(!this.isRunning)return;const y=this.getInterval(c);this.timerId=setTimeout((0,g.Z)(function*(){yield f.iteration()}),y)}iteration(){var c=this;return(0,g.Z)(function*(){try{yield c.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===f.code&&c.schedule(!0))}c.schedule()})()}}class Bn{constructor(c,f){this.createdAt=c,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=En(this.lastLoginAt),this.creationTime=En(this.createdAt)}_copy(c){this.createdAt=c.createdAt,this.lastLoginAt=c.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Vn(m){return L.apply(this,arguments)}function L(){return(L=(0,g.Z)(function*(m){var c;const f=m.auth,y=yield m.getIdToken(),b=yield Un(m,Ti(f,{idToken:y}));B(null==b?void 0:b.users.length,f,"internal-error");const M=b.users[0];m._notifyReloadListener(M);const z=(null===(c=M.providerUserInfo)||void 0===c?void 0:c.length)?$(M.providerUserInfo):[],ce=Ee(m.providerData,z),tt=!!m.isAnonymous&&!(m.email&&M.passwordHash||(null==ce?void 0:ce.length)),Ye={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:ce,metadata:new Bn(M.createdAt,M.lastLoginAt),isAnonymous:tt};Object.assign(m,Ye)})).apply(this,arguments)}function G(){return(G=(0,g.Z)(function*(m){const c=(0,x.m9)(m);yield Vn(c),yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)})).apply(this,arguments)}function Ee(m,c){return[...m.filter(y=>!c.some(b=>b.providerId===y.providerId)),...c]}function $(m){return m.map(c=>{var{providerId:f}=c,y=(0,ne._T)(c,["providerId"]);return{providerId:f,uid:y.rawId||"",displayName:y.displayName||null,email:y.email||null,phoneNumber:y.phoneNumber||null,photoURL:y.photoUrl||null}})}function Te(){return(Te=(0,g.Z)(function*(m,c){const f=yield dr(m,{},(0,g.Z)(function*(){const y=(0,x.xO)({grant_type:"refresh_token",refresh_token:c}).slice(1),{tokenApiHost:b,apiKey:M}=m.config,z=bi(m,b,"/v1/token",`key=${M}`),ce=yield m._getAdditionalHeaders();return ce["Content-Type"]="application/x-www-form-urlencoded",Ot.fetch()(z,{method:"POST",headers:ce,body:y})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class We{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(c){B(c.idToken,"internal-error"),B(void 0!==c.idToken,"internal-error"),B(void 0!==c.refreshToken,"internal-error");const f="expiresIn"in c&&void 0!==c.expiresIn?Number(c.expiresIn):function it(m){const c=Ze(m);return B(c,"internal-error"),B(void 0!==c.exp,"internal-error"),B(void 0!==c.iat,"internal-error"),Number(c.exp)-Number(c.iat)}(c.idToken);this.updateTokensAndExpiration(c.idToken,c.refreshToken,f)}getToken(c,f=!1){var y=this;return(0,g.Z)(function*(){return B(!y.accessToken||y.refreshToken,c,"user-token-expired"),f||!y.accessToken||y.isExpired?y.refreshToken?(yield y.refresh(c,y.refreshToken),y.accessToken):null:y.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(c,f){var y=this;return(0,g.Z)(function*(){const{accessToken:b,refreshToken:M,expiresIn:z}=yield function Y(m,c){return Te.apply(this,arguments)}(c,f);y.updateTokensAndExpiration(b,M,Number(z))})()}updateTokensAndExpiration(c,f,y){this.refreshToken=f||null,this.accessToken=c||null,this.expirationTime=Date.now()+1e3*y}static fromJSON(c,f){const{refreshToken:y,accessToken:b,expirationTime:M}=f,z=new We;return y&&(B("string"==typeof y,"internal-error",{appName:c}),z.refreshToken=y),b&&(B("string"==typeof b,"internal-error",{appName:c}),z.accessToken=b),M&&(B("number"==typeof M,"internal-error",{appName:c}),z.expirationTime=M),z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(c){this.accessToken=c.accessToken,this.refreshToken=c.refreshToken,this.expirationTime=c.expirationTime}_clone(){return Object.assign(new We,this.toJSON())}_performRefresh(){return ge("not implemented")}}function Je(m,c){B("string"==typeof m||void 0===m,"internal-error",{appName:c})}class lt{constructor(c){var{uid:f,auth:y,stsTokenManager:b}=c,M=(0,ne._T)(c,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ts(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=y,this.stsTokenManager=b,this.accessToken=b.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.emailVerified=M.emailVerified||!1,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.tenantId=M.tenantId||null,this.providerData=M.providerData?[...M.providerData]:[],this.metadata=new Bn(M.createdAt||void 0,M.lastLoginAt||void 0)}getIdToken(c){var f=this;return(0,g.Z)(function*(){const y=yield Un(f,f.stsTokenManager.getToken(f.auth,c));return B(y,f.auth,"internal-error"),f.accessToken!==y&&(f.accessToken=y,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),y})()}getIdTokenResult(c){return function fr(m){return es.apply(this,arguments)}(this,c)}reload(){return function W(m){return G.apply(this,arguments)}(this)}_assign(c){this!==c&&(B(this.uid===c.uid,this.auth,"internal-error"),this.displayName=c.displayName,this.photoURL=c.photoURL,this.email=c.email,this.emailVerified=c.emailVerified,this.phoneNumber=c.phoneNumber,this.isAnonymous=c.isAnonymous,this.tenantId=c.tenantId,this.providerData=c.providerData.map(f=>Object.assign({},f)),this.metadata._copy(c.metadata),this.stsTokenManager._assign(c.stsTokenManager))}_clone(c){return new lt(Object.assign(Object.assign({},this),{auth:c,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(c){B(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=c,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(c){this.reloadListener?this.reloadListener(c):this.reloadUserInfo=c}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(c,f=!1){var y=this;return(0,g.Z)(function*(){let b=!1;c.idToken&&c.idToken!==y.stsTokenManager.accessToken&&(y.stsTokenManager.updateFromServerResponse(c),b=!0),f&&(yield Vn(y)),yield y.auth._persistUserIfCurrent(y),b&&y.auth._notifyListenersIfCurrent(y)})()}delete(){var c=this;return(0,g.Z)(function*(){const f=yield c.getIdToken();return yield Un(c,function et(m,c){return hr.apply(this,arguments)}(c.auth,{idToken:f})),c.stsTokenManager.clearRefreshToken(),c.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(c=>Object.assign({},c)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(c,f){var y,b,M,z,ce,Re,Ve,tt;const Ye=null!==(y=f.displayName)&&void 0!==y?y:void 0,nn=null!==(b=f.email)&&void 0!==b?b:void 0,Rr=null!==(M=f.phoneNumber)&&void 0!==M?M:void 0,Ul=null!==(z=f.photoURL)&&void 0!==z?z:void 0,Sp=null!==(ce=f.tenantId)&&void 0!==ce?ce:void 0,go=null!==(Re=f._redirectEventId)&&void 0!==Re?Re:void 0,$u=null!==(Ve=f.createdAt)&&void 0!==Ve?Ve:void 0,Wu=null!==(tt=f.lastLoginAt)&&void 0!==tt?tt:void 0,{uid:nd,emailVerified:Gu,isAnonymous:Mr,providerData:rd,stsTokenManager:id}=f;B(nd&&id,c,"internal-error");const sd=We.fromJSON(this.name,id);B("string"==typeof nd,c,"internal-error"),Je(Ye,c.name),Je(nn,c.name),B("boolean"==typeof Gu,c,"internal-error"),B("boolean"==typeof Mr,c,"internal-error"),Je(Rr,c.name),Je(Ul,c.name),Je(Sp,c.name),Je(go,c.name),Je($u,c.name),Je(Wu,c.name);const Ka=new lt({uid:nd,auth:c,email:nn,emailVerified:Gu,displayName:Ye,isAnonymous:Mr,photoURL:Ul,phoneNumber:Rr,tenantId:Sp,stsTokenManager:sd,createdAt:$u,lastLoginAt:Wu});return rd&&Array.isArray(rd)&&(Ka.providerData=rd.map(qa=>Object.assign({},qa))),go&&(Ka._redirectEventId=go),Ka}static _fromIdTokenResponse(c,f,y=!1){return(0,g.Z)(function*(){const b=new We;b.updateFromServerResponse(f);const M=new lt({uid:f.localId,auth:c,stsTokenManager:b,isAnonymous:y});return yield Vn(M),M})()}}const st=(()=>{class m{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,g.Z)(function*(){return!0})()}_set(f,y){var b=this;return(0,g.Z)(function*(){b.storage[f]=y})()}_get(f){var y=this;return(0,g.Z)(function*(){const b=y.storage[f];return void 0===b?null:b})()}_remove(f){var y=this;return(0,g.Z)(function*(){delete y.storage[f]})()}_addListener(f,y){}_removeListener(f,y){}}return m.type="NONE",m})();function mn(m,c,f){return`firebase:${m}:${c}:${f}`}class Kn{constructor(c,f,y){this.persistence=c,this.auth=f,this.userKey=y;const{config:b,name:M}=this.auth;this.fullUserKey=mn(this.userKey,b.apiKey,M),this.fullPersistenceKey=mn("persistence",b.apiKey,M),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(c){return this.persistence._set(this.fullUserKey,c.toJSON())}getCurrentUser(){var c=this;return(0,g.Z)(function*(){const f=yield c.persistence._get(c.fullUserKey);return f?lt._fromJSON(c.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(c){var f=this;return(0,g.Z)(function*(){if(f.persistence===c)return;const y=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=c,y?f.setCurrentUser(y):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(c,f,y="authUser"){return(0,g.Z)(function*(){if(!f.length)return new Kn(X(st),c,y);const b=(yield Promise.all(f.map(function(){var Ve=(0,g.Z)(function*(tt){if(yield tt._isAvailable())return tt});return function(tt){return Ve.apply(this,arguments)}}()))).filter(Ve=>Ve);let M=b[0]||X(st);const z=mn(y,c.config.apiKey,c.name);let ce=null;for(const Ve of f)try{const tt=yield Ve._get(z);if(tt){const Ye=lt._fromJSON(c,tt);Ve!==M&&(ce=Ye),M=Ve;break}}catch(tt){}const Re=b.filter(Ve=>Ve._shouldAllowMigration);return M._shouldAllowMigration&&Re.length?(M=Re[0],ce&&(yield M._set(z,ce.toJSON())),yield Promise.all(f.map(function(){var Ve=(0,g.Z)(function*(tt){if(tt!==M)try{yield tt._remove(z)}catch(Ye){}});return function(tt){return Ve.apply(this,arguments)}}())),new Kn(M,c,y)):new Kn(M,c,y)})()}}function _a(m){const c=m.toLowerCase();if(c.includes("opera/")||c.includes("opr/")||c.includes("opios/"))return"Opera";if(_n(c))return"IEMobile";if(c.includes("msie")||c.includes("trident/"))return"IE";if(c.includes("edge/"))return"Edge";if(bo(c))return"Firefox";if(c.includes("silk/"))return"Silk";if(ui(c))return"Blackberry";if(yn(c))return"Webos";if(ya(c))return"Safari";if((c.includes("chrome/")||To(c))&&!c.includes("edge/"))return"Chrome";if(qn(c))return"Android";{const y=m.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==y?void 0:y.length))return y[1]}return"Other"}function bo(m=(0,x.z$)()){return/firefox\//i.test(m)}function ya(m=(0,x.z$)()){const c=m.toLowerCase();return c.includes("safari/")&&!c.includes("chrome/")&&!c.includes("crios/")&&!c.includes("android")}function To(m=(0,x.z$)()){return/crios\//i.test(m)}function _n(m=(0,x.z$)()){return/iemobile/i.test(m)}function qn(m=(0,x.z$)()){return/android/i.test(m)}function ui(m=(0,x.z$)()){return/blackberry/i.test(m)}function yn(m=(0,x.z$)()){return/webos/i.test(m)}function nr(m=(0,x.z$)()){return/iphone|ipad|ipod/i.test(m)}function Ai(m=(0,x.z$)()){return nr(m)||qn(m)||yn(m)||ui(m)||/windows phone/i.test(m)||_n(m)}function Vs(m,c=[]){let f;switch(m){case"Browser":f=_a((0,x.z$)());break;case"Worker":f=`${_a((0,x.z$)())}-${m}`;break;default:f=m}const y=c.length?c.join(","):"FirebaseCore-web";return`${f}/JsCore/${oe.SDK_VERSION}/${y}`}class rr{constructor(c){this.auth=c,this.queue=[]}pushCallback(c,f){const y=M=>new Promise((z,ce)=>{try{z(c(M))}catch(Re){ce(Re)}});y.onAbort=f,this.queue.push(y);const b=this.queue.length-1;return()=>{this.queue[b]=()=>Promise.resolve()}}runMiddleware(c){var f=this;return(0,g.Z)(function*(){if(f.auth.currentUser===c)return;const y=[];try{for(const b of f.queue)yield b(c),b.onAbort&&y.push(b.onAbort)}catch(b){y.reverse();for(const M of y)try{M()}catch(z){}throw f.auth._errorFactory.create("login-blocked",{originalMessage:b.message})}})()}}class Be{constructor(c,f,y){this.app=c,this.heartbeatServiceProvider=f,this.config=y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nt(this),this.idTokenSubscription=new Nt(this),this.beforeStateQueue=new rr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ue,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=c.name,this.clientVersion=y.sdkClientVersion}_initializeWithPersistence(c,f){var y=this;return f&&(this._popupRedirectResolver=X(f)),this._initializationPromise=this.queue((0,g.Z)(function*(){var b,M;if(!y._deleted&&(y.persistenceManager=yield Kn.create(y,c),!y._deleted)){if(null===(b=y._popupRedirectResolver)||void 0===b?void 0:b._shouldInitProactively)try{yield y._popupRedirectResolver._initialize(y)}catch(z){}yield y.initializeCurrentUser(f),y.lastNotifiedUid=(null===(M=y.currentUser)||void 0===M?void 0:M.uid)||null,!y._deleted&&(y._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var c=this;return(0,g.Z)(function*(){if(c._deleted)return;const f=yield c.assertedPersistence.getCurrentUser();if(c.currentUser||f){if(c.currentUser&&f&&c.currentUser.uid===f.uid)return c._currentUser._assign(f),void(yield c.currentUser.getIdToken());yield c._updateCurrentUser(f,!0)}})()}initializeCurrentUser(c){var f=this;return(0,g.Z)(function*(){var y;const b=yield f.assertedPersistence.getCurrentUser();let M=b,z=!1;if(c&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const ce=null===(y=f.redirectUser)||void 0===y?void 0:y._redirectEventId,Re=null==M?void 0:M._redirectEventId,Ve=yield f.tryRedirectSignIn(c);(!ce||ce===Re)&&(null==Ve?void 0:Ve.user)&&(M=Ve.user,z=!0)}if(!M)return f.directlySetCurrentUser(null);if(!M._redirectEventId){if(z)try{yield f.beforeStateQueue.runMiddleware(M)}catch(ce){M=b,f._popupRedirectResolver._overrideRedirectResult(f,()=>Promise.reject(ce))}return M?f.reloadAndSetCurrentUserOrClear(M):f.directlySetCurrentUser(null)}return B(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===M._redirectEventId?f.directlySetCurrentUser(M):f.reloadAndSetCurrentUserOrClear(M)})()}tryRedirectSignIn(c){var f=this;return(0,g.Z)(function*(){let y=null;try{y=yield f._popupRedirectResolver._completeRedirectFn(f,c,!0)}catch(b){yield f._setRedirectUser(null)}return y})()}reloadAndSetCurrentUserOrClear(c){var f=this;return(0,g.Z)(function*(){try{yield Vn(c)}catch(y){if("auth/network-request-failed"!==y.code)return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(c)})()}useDeviceLanguage(){this.languageCode=function He(){if("undefined"==typeof navigator)return null;const m=navigator;return m.languages&&m.languages[0]||m.language||null}()}_delete(){var c=this;return(0,g.Z)(function*(){c._deleted=!0})()}updateCurrentUser(c){var f=this;return(0,g.Z)(function*(){const y=c?(0,x.m9)(c):null;return y&&B(y.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(y&&y._clone(f))})()}_updateCurrentUser(c,f=!1){var y=this;return(0,g.Z)(function*(){if(!y._deleted)return c&&B(y.tenantId===c.tenantId,y,"tenant-id-mismatch"),f||(yield y.beforeStateQueue.runMiddleware(c)),y.queue((0,g.Z)(function*(){yield y.directlySetCurrentUser(c),y.notifyAuthListeners()}))})()}signOut(){var c=this;return(0,g.Z)(function*(){return yield c.beforeStateQueue.runMiddleware(null),(c.redirectPersistenceManager||c._popupRedirectResolver)&&(yield c._setRedirectUser(null)),c._updateCurrentUser(null,!0)})()}setPersistence(c){var f=this;return this.queue((0,g.Z)(function*(){yield f.assertedPersistence.setPersistence(X(c))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(c){this._errorFactory=new x.LL("auth","Firebase",c())}onAuthStateChanged(c,f,y){return this.registerStateListener(this.authStateSubscription,c,f,y)}beforeAuthStateChanged(c,f){return this.beforeStateQueue.pushCallback(c,f)}onIdTokenChanged(c,f,y){return this.registerStateListener(this.idTokenSubscription,c,f,y)}toJSON(){var c;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(c=this._currentUser)||void 0===c?void 0:c.toJSON()}}_setRedirectUser(c,f){var y=this;return(0,g.Z)(function*(){const b=yield y.getOrInitRedirectPersistenceManager(f);return null===c?b.removeCurrentUser():b.setCurrentUser(c)})()}getOrInitRedirectPersistenceManager(c){var f=this;return(0,g.Z)(function*(){if(!f.redirectPersistenceManager){const y=c&&X(c)||f._popupRedirectResolver;B(y,f,"argument-error"),f.redirectPersistenceManager=yield Kn.create(f,[X(y._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(c){var f=this;return(0,g.Z)(function*(){var y,b;return f._isInitialized&&(yield f.queue((0,g.Z)(function*(){}))),(null===(y=f._currentUser)||void 0===y?void 0:y._redirectEventId)===c?f._currentUser:(null===(b=f.redirectUser)||void 0===b?void 0:b._redirectEventId)===c?f.redirectUser:null})()}_persistUserIfCurrent(c){var f=this;return(0,g.Z)(function*(){if(c===f.currentUser)return f.queue((0,g.Z)(function*(){return f.directlySetCurrentUser(c)}))})()}_notifyListenersIfCurrent(c){c===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var c,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const y=null!==(f=null===(c=this.currentUser)||void 0===c?void 0:c.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==y&&(this.lastNotifiedUid=y,this.authStateSubscription.next(this.currentUser))}registerStateListener(c,f,y,b){if(this._deleted)return()=>{};const M="function"==typeof f?f:f.next.bind(f),z=this._isInitialized?Promise.resolve():this._initializationPromise;return B(z,this,"internal-error"),z.then(()=>M(this.currentUser)),"function"==typeof f?c.addObserver(f,y,b):c.addObserver(f)}directlySetCurrentUser(c){var f=this;return(0,g.Z)(function*(){f.currentUser&&f.currentUser!==c&&(f._currentUser._stopProactiveRefresh(),c&&f.isProactiveRefreshEnabled&&c._startProactiveRefresh()),f.currentUser=c,c?yield f.assertedPersistence.setCurrentUser(c):yield f.assertedPersistence.removeCurrentUser()})()}queue(c){return this.operations=this.operations.then(c,c),this.operations}get assertedPersistence(){return B(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(c){!c||this.frameworks.includes(c)||(this.frameworks.push(c),this.frameworks.sort(),this.clientVersion=Vs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var c=this;return(0,g.Z)(function*(){var f;const y={"X-Client-Version":c.clientVersion};c.app.options.appId&&(y["X-Firebase-gmpid"]=c.app.options.appId);const b=yield null===(f=c.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();return b&&(y["X-Firebase-Client"]=b),y})()}}function Ke(m){return(0,x.m9)(m)}class Nt{constructor(c){this.auth=c,this.observer=null,this.addObserver=(0,x.ne)(f=>this.observer=f)}get next(){return B(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Gr(m){const c=m.indexOf(":");return c<0?"":m.substr(0,c+1)}function zr(m){if(!m)return null;const c=Number(m);return isNaN(c)?null:c}class Nr{constructor(c,f){this.providerId=c,this.signInMethod=f}toJSON(){return ge("not implemented")}_getIdTokenResponse(c){return ge("not implemented")}_linkToIdToken(c,f){return ge("not implemented")}_getReauthenticationResolver(c){return ge("not implemented")}}function an(m,c){return ct.apply(this,arguments)}function ct(){return(ct=(0,g.Z)(function*(m,c){return _t(m,"POST","/v1/accounts:resetPassword",Tt(m,c))})).apply(this,arguments)}function So(m,c){return Si.apply(this,arguments)}function Si(){return(Si=(0,g.Z)(function*(m,c){return _t(m,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function va(m,c){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,g.Z)(function*(m,c){return _t(m,"POST","/v1/accounts:update",Tt(m,c))})).apply(this,arguments)}function rs(){return(rs=(0,g.Z)(function*(m,c){return Zn(m,"POST","/v1/accounts:signInWithPassword",Tt(m,c))})).apply(this,arguments)}function Mi(m,c){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,g.Z)(function*(m,c){return _t(m,"POST","/v1/accounts:sendOobCode",Tt(m,c))})).apply(this,arguments)}function kt(m,c){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,g.Z)(function*(m,c){return Mi(m,c)})).apply(this,arguments)}function Ro(m,c){return sr.apply(this,arguments)}function sr(){return(sr=(0,g.Z)(function*(m,c){return Mi(m,c)})).apply(this,arguments)}function Zr(m,c){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,g.Z)(function*(m,c){return Mi(m,c)})).apply(this,arguments)}function ou(m,c){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,g.Z)(function*(m,c){return Mi(m,c)})).apply(this,arguments)}function ul(){return(ul=(0,g.Z)(function*(m,c){return Zn(m,"POST","/v1/accounts:signInWithEmailLink",Tt(m,c))})).apply(this,arguments)}function au(){return(au=(0,g.Z)(function*(m,c){return Zn(m,"POST","/v1/accounts:signInWithEmailLink",Tt(m,c))})).apply(this,arguments)}class jn extends Nr{constructor(c,f,y,b=null){super("password",y),this._email=c,this._password=f,this._tenantId=b}static _fromEmailAndPassword(c,f){return new jn(c,f,"password")}static _fromEmailAndCode(c,f,y=null){return new jn(c,f,"emailLink",y)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(c){const f="string"==typeof c?JSON.parse(c):c;if((null==f?void 0:f.email)&&(null==f?void 0:f.password)){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(c){var f=this;return(0,g.Z)(function*(){switch(f.signInMethod){case"password":return function Cn(m,c){return rs.apply(this,arguments)}(c,{returnSecureToken:!0,email:f._email,password:f._password});case"emailLink":return function qr(m,c){return ul.apply(this,arguments)}(c,{email:f._email,oobCode:f._password});default:Ie(c,"internal-error")}})()}_linkToIdToken(c,f){var y=this;return(0,g.Z)(function*(){switch(y.signInMethod){case"password":return So(c,{idToken:f,returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function nh(m,c){return au.apply(this,arguments)}(c,{idToken:f,email:y._email,oobCode:y._password});default:Ie(c,"internal-error")}})()}_getReauthenticationResolver(c){return this._getIdTokenResponse(c)}}function Pi(m,c){return lu.apply(this,arguments)}function lu(){return(lu=(0,g.Z)(function*(m,c){return Zn(m,"POST","/v1/accounts:signInWithIdp",Tt(m,c))})).apply(this,arguments)}class ci extends Nr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(c){const f=new ci(c.providerId,c.signInMethod);return c.idToken||c.accessToken?(c.idToken&&(f.idToken=c.idToken),c.accessToken&&(f.accessToken=c.accessToken),c.nonce&&!c.pendingToken&&(f.nonce=c.nonce),c.pendingToken&&(f.pendingToken=c.pendingToken)):c.oauthToken&&c.oauthTokenSecret?(f.accessToken=c.oauthToken,f.secret=c.oauthTokenSecret):Ie("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(c){const f="string"==typeof c?JSON.parse(c):c,{providerId:y,signInMethod:b}=f,M=(0,ne._T)(f,["providerId","signInMethod"]);if(!y||!b)return null;const z=new ci(y,b);return z.idToken=M.idToken||void 0,z.accessToken=M.accessToken||void 0,z.secret=M.secret,z.nonce=M.nonce,z.pendingToken=M.pendingToken||null,z}_getIdTokenResponse(c){return Pi(c,this.buildRequest())}_linkToIdToken(c,f){const y=this.buildRequest();return y.idToken=f,Pi(c,y)}_getReauthenticationResolver(c){const f=this.buildRequest();return f.autoCreate=!1,Pi(c,f)}buildRequest(){const c={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)c.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),c.postBody=(0,x.xO)(f)}return c}}function Rc(m,c){return uu.apply(this,arguments)}function uu(){return(uu=(0,g.Z)(function*(m,c){return _t(m,"POST","/v1/accounts:sendVerificationCode",Tt(m,c))})).apply(this,arguments)}function xi(){return(xi=(0,g.Z)(function*(m,c){return Zn(m,"POST","/v1/accounts:signInWithPhoneNumber",Tt(m,c))})).apply(this,arguments)}function cu(){return(cu=(0,g.Z)(function*(m,c){const f=yield Zn(m,"POST","/v1/accounts:signInWithPhoneNumber",Tt(m,c));if(f.temporaryProof)throw Wr(m,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const sh={USER_NOT_FOUND:"user-not-found"};function du(){return(du=(0,g.Z)(function*(m,c){return Zn(m,"POST","/v1/accounts:signInWithPhoneNumber",Tt(m,Object.assign(Object.assign({},c),{operation:"REAUTH"})),sh)})).apply(this,arguments)}class js extends Nr{constructor(c){super("phone","phone"),this.params=c}static _fromVerification(c,f){return new js({verificationId:c,verificationCode:f})}static _fromTokenResponse(c,f){return new js({phoneNumber:c,temporaryProof:f})}_getIdTokenResponse(c){return function cl(m,c){return xi.apply(this,arguments)}(c,this._makeVerificationRequest())}_linkToIdToken(c,f){return function ih(m,c){return cu.apply(this,arguments)}(c,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(c){return function oh(m,c){return du.apply(this,arguments)}(c,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:c,phoneNumber:f,verificationId:y,verificationCode:b}=this.params;return c&&f?{temporaryProof:c,phoneNumber:f}:{sessionInfo:y,code:b}}toJSON(){const c={providerId:this.providerId};return this.params.phoneNumber&&(c.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(c.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(c.verificationCode=this.params.verificationCode),this.params.verificationId&&(c.verificationId=this.params.verificationId),c}static fromJSON(c){"string"==typeof c&&(c=JSON.parse(c));const{verificationId:f,verificationCode:y,phoneNumber:b,temporaryProof:M}=c;return y||f||b||M?new js({verificationId:f,verificationCode:y,phoneNumber:b,temporaryProof:M}):null}}class Ia{constructor(c){var f,y,b,M,z,ce;const Re=(0,x.zd)((0,x.pd)(c)),Ve=null!==(f=Re.apiKey)&&void 0!==f?f:null,tt=null!==(y=Re.oobCode)&&void 0!==y?y:null,Ye=function Mc(m){switch(m){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(b=Re.mode)&&void 0!==b?b:null);B(Ve&&tt&&Ye,"argument-error"),this.apiKey=Ve,this.operation=Ye,this.code=tt,this.continueUrl=null!==(M=Re.continueUrl)&&void 0!==M?M:null,this.languageCode=null!==(z=Re.languageCode)&&void 0!==z?z:null,this.tenantId=null!==(ce=Re.tenantId)&&void 0!==ce?ce:null}static parseLink(c){const f=function Mo(m){const c=(0,x.zd)((0,x.pd)(m)).link,f=c?(0,x.zd)((0,x.pd)(c)).deep_link_id:null,y=(0,x.zd)((0,x.pd)(m)).deep_link_id;return(y?(0,x.zd)((0,x.pd)(y)).link:null)||y||f||c||m}(c);try{return new Ia(f)}catch(y){return null}}}let fu=(()=>{class m{constructor(){this.providerId=m.PROVIDER_ID}static credential(f,y){return jn._fromEmailAndPassword(f,y)}static credentialWithLink(f,y){const b=Ia.parseLink(y);return B(b,"argument-error"),jn._fromEmailAndCode(f,b.code,b.tenantId)}}return m.PROVIDER_ID="password",m.EMAIL_PASSWORD_SIGN_IN_METHOD="password",m.EMAIL_LINK_SIGN_IN_METHOD="emailLink",m})();class Hn{constructor(c){this.providerId=c,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(c){this.defaultLanguageCode=c}setCustomParameters(c){return this.customParameters=c,this}getCustomParameters(){return this.customParameters}}class is extends Hn{constructor(){super(...arguments),this.scopes=[]}addScope(c){return this.scopes.includes(c)||this.scopes.push(c),this}getScopes(){return[...this.scopes]}}class Yr extends is{static credentialFromJSON(c){const f="string"==typeof c?JSON.parse(c):c;return B("providerId"in f&&"signInMethod"in f,"argument-error"),ci._fromParams(f)}credential(c){return this._credential(Object.assign(Object.assign({},c),{nonce:c.rawNonce}))}_credential(c){return B(c.idToken||c.accessToken,"argument-error"),ci._fromParams(Object.assign(Object.assign({},c),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(c){return Yr.oauthCredentialFromTaggedObject(c)}static credentialFromError(c){return Yr.oauthCredentialFromTaggedObject(c.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:f,oauthAccessToken:y,oauthTokenSecret:b,pendingToken:M,nonce:z,providerId:ce}=c;if(!y&&!b&&!f&&!M||!ce)return null;try{return new Yr(ce)._credential({idToken:f,accessToken:y,nonce:z,pendingToken:M})}catch(Re){return null}}}let Hs=(()=>{class m extends is{constructor(){super("facebook.com")}static credential(f){return ci._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return m.credential(f.oauthAccessToken)}catch(y){return null}}}return m.FACEBOOK_SIGN_IN_METHOD="facebook.com",m.PROVIDER_ID="facebook.com",m})(),pu=(()=>{class m extends is{constructor(){super("google.com"),this.addScope("profile")}static credential(f,y){return ci._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:y})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:y,oauthAccessToken:b}=f;if(!y&&!b)return null;try{return m.credential(y,b)}catch(M){return null}}}return m.GOOGLE_SIGN_IN_METHOD="google.com",m.PROVIDER_ID="google.com",m})(),Pc=(()=>{class m extends is{constructor(){super("github.com")}static credential(f){return ci._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return m.credential(f.oauthAccessToken)}catch(y){return null}}}return m.GITHUB_SIGN_IN_METHOD="github.com",m.PROVIDER_ID="github.com",m})();class ss extends Nr{constructor(c,f){super(c,c),this.pendingToken=f}_getIdTokenResponse(c){return Pi(c,this.buildRequest())}_linkToIdToken(c,f){const y=this.buildRequest();return y.idToken=f,Pi(c,y)}_getReauthenticationResolver(c){const f=this.buildRequest();return f.autoCreate=!1,Pi(c,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(c){const f="string"==typeof c?JSON.parse(c):c,{providerId:y,signInMethod:b,pendingToken:M}=f;return y&&b&&M&&y===b?new ss(y,M):null}static _create(c,f){return new ss(c,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Yn extends Hn{constructor(c){B(c.startsWith("saml."),"argument-error"),super(c)}static credentialFromResult(c){return Yn.samlCredentialFromTaggedObject(c)}static credentialFromError(c){return Yn.samlCredentialFromTaggedObject(c.customData||{})}static credentialFromJSON(c){const f=ss.fromJSON(c);return B(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{pendingToken:f,providerId:y}=c;if(!f||!y)return null;try{return ss._create(y,f)}catch(b){return null}}}let mu=(()=>{class m extends is{constructor(){super("twitter.com")}static credential(f,y){return ci._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:y})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:y,oauthTokenSecret:b}=f;if(!y||!b)return null;try{return m.credential(y,b)}catch(M){return null}}}return m.TWITTER_SIGN_IN_METHOD="twitter.com",m.PROVIDER_ID="twitter.com",m})();function Qn(m,c){return Po.apply(this,arguments)}function Po(){return(Po=(0,g.Z)(function*(m,c){return Zn(m,"POST","/v1/accounts:signUp",Tt(m,c))})).apply(this,arguments)}class gr{constructor(c){this.user=c.user,this.providerId=c.providerId,this._tokenResponse=c._tokenResponse,this.operationType=c.operationType}static _fromIdTokenResponse(c,f,y,b=!1){return(0,g.Z)(function*(){const M=yield lt._fromIdTokenResponse(c,y,b),z=dl(y);return new gr({user:M,providerId:z,_tokenResponse:y,operationType:f})})()}static _forOperation(c,f,y){return(0,g.Z)(function*(){yield c._updateTokensIfNecessary(y,!0);const b=dl(y);return new gr({user:c,providerId:b,_tokenResponse:y,operationType:f})})()}}function dl(m){return m.providerId?m.providerId:"phoneNumber"in m?"phone":null}function hl(){return(hl=(0,g.Z)(function*(m){var c;const f=Ke(m);if(yield f._initializationPromise,null===(c=f.currentUser)||void 0===c?void 0:c.isAnonymous)return new gr({user:f.currentUser,providerId:null,operationType:"signIn"});const y=yield Qn(f,{returnSecureToken:!0}),b=yield gr._fromIdTokenResponse(f,"signIn",y,!0);return yield f._updateCurrentUser(b.user),b})).apply(this,arguments)}class Ws extends x.ZR{constructor(c,f,y,b){var M;super(f.code,f.message),this.operationType=y,this.user=b,Object.setPrototypeOf(this,Ws.prototype),this.customData={appName:c.name,tenantId:null!==(M=c.tenantId)&&void 0!==M?M:void 0,_serverResponse:f.customData._serverResponse,operationType:y}}static _fromErrorAndOperation(c,f,y,b){return new Ws(c,f,y,b)}}function fl(m,c,f,y){return("reauthenticate"===c?f._getReauthenticationResolver(m):f._getIdTokenResponse(m)).catch(M=>{throw"auth/multi-factor-auth-required"===M.code?Ws._fromErrorAndOperation(m,M,c,y):M})}function Qr(m){return new Set(m.map(({providerId:c})=>c).filter(c=>!!c))}function Ft(){return(Ft=(0,g.Z)(function*(m,c){const f=(0,x.m9)(m);yield Mt(!0,f,c);const{providerUserInfo:y}=yield Jt(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[c]}),b=Qr(y||[]);return f.providerData=f.providerData.filter(M=>b.has(M.providerId)),b.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f})).apply(this,arguments)}function xo(m,c){return os.apply(this,arguments)}function os(){return(os=(0,g.Z)(function*(m,c,f=!1){const y=yield Un(m,c._linkToIdToken(m.auth,yield m.getIdToken()),f);return gr._forOperation(m,"link",y)})).apply(this,arguments)}function Mt(m,c,f){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,g.Z)(function*(m,c,f){yield Vn(c);const b=!1===m?"provider-already-linked":"no-such-provider";B(Qr(c.providerData).has(f)===m,c.auth,b)})).apply(this,arguments)}function wa(m,c){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,g.Z)(function*(m,c,f=!1){const{auth:y}=m,b="reauthenticate";try{const M=yield Un(m,fl(y,b,c,m),f);B(M.idToken,y,"internal-error");const z=Ze(M.idToken);B(z,y,"internal-error");const{sub:ce}=z;return B(m.uid===ce,y,"user-mismatch"),gr._forOperation(m,b,M)}catch(M){throw"auth/user-not-found"===(null==M?void 0:M.code)&&Ie(y,"user-mismatch"),M}})).apply(this,arguments)}function Rn(m,c){return pl.apply(this,arguments)}function pl(){return(pl=(0,g.Z)(function*(m,c,f=!1){const y="signIn",b=yield fl(m,y,c),M=yield gr._fromIdTokenResponse(m,y,b);return f||(yield m._updateCurrentUser(M.user)),M})).apply(this,arguments)}function Kt(m,c){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,g.Z)(function*(m,c){return Rn(Ke(m),c)})).apply(this,arguments)}function Mn(m,c){return as.apply(this,arguments)}function as(){return(as=(0,g.Z)(function*(m,c){const f=(0,x.m9)(m);return yield Mt(!1,f,c.providerId),xo(f,c)})).apply(this,arguments)}function di(m,c){return No.apply(this,arguments)}function No(){return(No=(0,g.Z)(function*(m,c){return wa((0,x.m9)(m),c)})).apply(this,arguments)}function kr(m,c){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,g.Z)(function*(m,c){return Zn(m,"POST","/v1/accounts:signInWithCustomToken",Tt(m,c))})).apply(this,arguments)}function Xe(){return(Xe=(0,g.Z)(function*(m,c){const f=Ke(m),y=yield kr(f,{token:c,returnSecureToken:!0}),b=yield gr._fromIdTokenResponse(f,"signIn",y);return yield f._updateCurrentUser(b.user),b})).apply(this,arguments)}class zs{constructor(c,f){this.factorId=c,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(c,f){return"phoneInfo"in f?Da._fromServerResponse(c,f):Ie(c,"internal-error")}}class Da extends zs{constructor(c){super("phone",c),this.phoneNumber=c.phoneInfo}static _fromServerResponse(c,f){return new Da(f)}}function ko(m,c,f){var y;B((null===(y=f.url)||void 0===y?void 0:y.length)>0,m,"invalid-continue-uri"),B(void 0===f.dynamicLinkDomain||f.dynamicLinkDomain.length>0,m,"invalid-dynamic-link-domain"),c.continueUrl=f.url,c.dynamicLinkDomain=f.dynamicLinkDomain,c.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(B(f.iOS.bundleId.length>0,m,"missing-ios-bundle-id"),c.iOSBundleId=f.iOS.bundleId),f.android&&(B(f.android.packageName.length>0,m,"missing-android-pkg-name"),c.androidInstallApp=f.android.installApp,c.androidMinimumVersionCode=f.android.minimumVersion,c.androidPackageName=f.android.packageName)}function Fo(){return(Fo=(0,g.Z)(function*(m,c,f){const y=(0,x.m9)(m),b={requestType:"PASSWORD_RESET",email:c};f&&ko(y,b,f),yield Ro(y,b)})).apply(this,arguments)}function _l(){return(_l=(0,g.Z)(function*(m,c,f){yield an((0,x.m9)(m),{oobCode:c,newPassword:f})})).apply(this,arguments)}function pt(){return(pt=(0,g.Z)(function*(m,c){yield va((0,x.m9)(m),{oobCode:c})})).apply(this,arguments)}function yl(m,c){return $t.apply(this,arguments)}function $t(){return($t=(0,g.Z)(function*(m,c){const f=(0,x.m9)(m),y=yield an(f,{oobCode:c}),b=y.requestType;switch(B(b,f,"internal-error"),b){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":B(y.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":B(y.mfaInfo,f,"internal-error");default:B(y.email,f,"internal-error")}let M=null;return y.mfaInfo&&(M=zs._fromServerResponse(Ke(f),y.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.newEmail:y.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.email:y.newEmail)||null,multiFactorInfo:M},operation:b}})).apply(this,arguments)}function ls(){return(ls=(0,g.Z)(function*(m,c){const{data:f}=yield yl((0,x.m9)(m),c);return f.email})).apply(this,arguments)}function Lo(){return(Lo=(0,g.Z)(function*(m,c,f){const y=Ke(m),b=yield Qn(y,{returnSecureToken:!0,email:c,password:f}),M=yield gr._fromIdTokenResponse(y,"signIn",b);return yield y._updateCurrentUser(M.user),M})).apply(this,arguments)}function ba(){return(ba=(0,g.Z)(function*(m,c,f){const y=(0,x.m9)(m),b={requestType:"EMAIL_SIGNIN",email:c};B(f.handleCodeInApp,y,"argument-error"),f&&ko(y,b,f),yield Zr(y,b)})).apply(this,arguments)}function ln(){return(ln=(0,g.Z)(function*(m,c,f){const y=(0,x.m9)(m),b=fu.credentialWithLink(c,f||Se());return B(b._tenantId===(y.tenantId||null),y,"tenant-id-mismatch"),Kt(y,b)})).apply(this,arguments)}function hi(m,c){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,g.Z)(function*(m,c){return _t(m,"POST","/v1/accounts:createAuthUri",Tt(m,c))})).apply(this,arguments)}function Fr(){return(Fr=(0,g.Z)(function*(m,c){const y={identifier:c,continueUri:qe()?Se():"http://localhost"},{signinMethods:b}=yield hi((0,x.m9)(m),y);return b||[]})).apply(this,arguments)}function Aa(){return(Aa=(0,g.Z)(function*(m,c){const f=(0,x.m9)(m),b={requestType:"VERIFY_EMAIL",idToken:yield m.getIdToken()};c&&ko(f.auth,b,c);const{email:M}=yield kt(f.auth,b);M!==m.email&&(yield m.reload())})).apply(this,arguments)}function Sa(){return(Sa=(0,g.Z)(function*(m,c,f){const y=(0,x.m9)(m),M={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield m.getIdToken(),newEmail:c};f&&ko(y.auth,M,f);const{email:z}=yield ou(y.auth,M);z!==m.email&&(yield m.reload())})).apply(this,arguments)}function Vo(m,c){return jo.apply(this,arguments)}function jo(){return(jo=(0,g.Z)(function*(m,c){return _t(m,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Ho(){return(Ho=(0,g.Z)(function*(m,{displayName:c,photoURL:f}){if(void 0===c&&void 0===f)return;const y=(0,x.m9)(m),M={idToken:yield y.getIdToken(),displayName:c,photoUrl:f,returnSecureToken:!0},z=yield Un(y,Vo(y.auth,M));y.displayName=z.displayName||null,y.photoURL=z.photoUrl||null;const ce=y.providerData.find(({providerId:Re})=>"password"===Re);ce&&(ce.displayName=y.displayName,ce.photoURL=y.photoURL),yield y._updateTokensIfNecessary(z)})).apply(this,arguments)}function Ks(m,c,f){return $o.apply(this,arguments)}function $o(){return($o=(0,g.Z)(function*(m,c,f){const{auth:y}=m,M={idToken:yield m.getIdToken(),returnSecureToken:!0};c&&(M.email=c),f&&(M.password=f);const z=yield Un(m,So(y,M));yield m._updateTokensIfNecessary(z,!0)})).apply(this,arguments)}class qs{constructor(c,f,y={}){this.isNewUser=c,this.providerId=f,this.profile=y}}class vu extends qs{constructor(c,f,y,b){super(c,f,y),this.username=b}}class Ys extends qs{constructor(c,f){super(c,"facebook.com",f)}}class ei extends vu{constructor(c,f){super(c,"github.com",f,"string"==typeof(null==f?void 0:f.login)?null==f?void 0:f.login:null)}}class Oc extends qs{constructor(c,f){super(c,"google.com",f)}}class In extends vu{constructor(c,f,y){super(c,"twitter.com",f,y)}}function ti(m){const{user:c,_tokenResponse:f}=m;return c.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function yu(m){var c,f;if(!m)return null;const{providerId:y}=m,b=m.rawUserInfo?JSON.parse(m.rawUserInfo):{},M=m.isNewUser||"identitytoolkit#SignupNewUserResponse"===m.kind;if(!y&&(null==m?void 0:m.idToken)){const z=null===(f=null===(c=Ze(m.idToken))||void 0===c?void 0:c.firebase)||void 0===f?void 0:f.sign_in_provider;if(z)return new qs(M,"anonymous"!==z&&"custom"!==z?z:null)}if(!y)return null;switch(y){case"facebook.com":return new Ys(M,b);case"github.com":return new ei(M,b);case"google.com":return new Oc(M,b);case"twitter.com":return new In(M,b,m.screenName||null);case"custom":case"anonymous":return new qs(M,null);default:return new qs(M,y,b)}}(f)}class fi{constructor(c,f){this.type=c,this.credential=f}static _fromIdtoken(c){return new fi("enroll",c)}static _fromMfaPendingCredential(c){return new fi("signin",c)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(c){var f,y;if(null==c?void 0:c.multiFactorSession){if(null===(f=c.multiFactorSession)||void 0===f?void 0:f.pendingCredential)return fi._fromMfaPendingCredential(c.multiFactorSession.pendingCredential);if(null===(y=c.multiFactorSession)||void 0===y?void 0:y.idToken)return fi._fromIdtoken(c.multiFactorSession.idToken)}return null}}class Qs{constructor(c,f,y){this.session=c,this.hints=f,this.signInResolver=y}static _fromError(c,f){const y=Ke(c),b=f.customData._serverResponse,M=(b.mfaInfo||[]).map(ce=>zs._fromServerResponse(y,ce));B(b.mfaPendingCredential,y,"internal-error");const z=fi._fromMfaPendingCredential(b.mfaPendingCredential);return new Qs(z,M,function(){var ce=(0,g.Z)(function*(Re){const Ve=yield Re._process(y,z);delete b.mfaInfo,delete b.mfaPendingCredential;const tt=Object.assign(Object.assign({},b),{idToken:Ve.idToken,refreshToken:Ve.refreshToken});switch(f.operationType){case"signIn":const Ye=yield gr._fromIdTokenResponse(y,f.operationType,tt);return yield y._updateCurrentUser(Ye.user),Ye;case"reauthenticate":return B(f.user,y,"internal-error"),gr._forOperation(f.user,f.operationType,tt);default:Ie(y,"internal-error")}});return function(Re){return ce.apply(this,arguments)}}())}resolveSignIn(c){var f=this;return(0,g.Z)(function*(){return f.signInResolver(c)})()}}function kc(m,c){return _t(m,"POST","/v2/accounts/mfaEnrollment:start",Tt(m,c))}class Iu{constructor(c){this.user=c,this.enrolledFactors=[],c._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(y=>zs._fromServerResponse(c.auth,y)))})}static _fromUser(c){return new Iu(c)}getSession(){var c=this;return(0,g.Z)(function*(){return fi._fromIdtoken(yield c.user.getIdToken())})()}enroll(c,f){var y=this;return(0,g.Z)(function*(){const b=c,M=yield y.getSession(),z=yield Un(y.user,b._process(y.user.auth,M,f));return yield y.user._updateTokensIfNecessary(z),y.user.reload()})()}unenroll(c){var f=this;return(0,g.Z)(function*(){const y="string"==typeof c?c:c.uid,b=yield f.user.getIdToken(),M=yield Un(f.user,function Ra(m,c){return _t(m,"POST","/v2/accounts/mfaEnrollment:withdraw",Tt(m,c))}(f.user.auth,{idToken:b,mfaEnrollmentId:y}));f.enrolledFactors=f.enrolledFactors.filter(({uid:z})=>z!==y),yield f.user._updateTokensIfNecessary(M);try{yield f.user.reload()}catch(z){if("auth/user-token-expired"!==z.code)throw z}})()}}const Ma=new WeakMap,cs="__sak";class wu{constructor(c,f){this.storageRetriever=c,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(cs,"1"),this.storage.removeItem(cs),Promise.resolve(!0)):Promise.resolve(!1)}catch(c){return Promise.resolve(!1)}}_set(c,f){return this.storage.setItem(c,JSON.stringify(f)),Promise.resolve()}_get(c){const f=this.storage.getItem(c);return Promise.resolve(f?JSON.parse(f):null)}_remove(c){return this.storage.removeItem(c),Promise.resolve()}get storage(){return this.storageRetriever()}}const _r=(()=>{class m extends wu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,y)=>this.onStorageEvent(f,y),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ch(){const m=(0,x.z$)();return ya(m)||nr(m)}()&&function An(){try{return!(!window||window===window.top)}catch(m){return!1}}(),this.fallbackToPolling=Ai(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const y of Object.keys(this.listeners)){const b=this.storage.getItem(y),M=this.localCache[y];b!==M&&f(y,M,b)}}onStorageEvent(f,y=!1){if(!f.key)return void this.forAllChangedKeys((ce,Re,Ve)=>{this.notifyListeners(ce,Ve)});const b=f.key;if(y?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ce=this.storage.getItem(b);if(f.newValue!==ce)null!==f.newValue?this.storage.setItem(b,f.newValue):this.storage.removeItem(b);else if(this.localCache[b]===f.newValue&&!y)return}const M=()=>{const ce=this.storage.getItem(b);!y&&this.localCache[b]===ce||this.notifyListeners(b,ce)},z=this.storage.getItem(b);!function Ao(){return(0,x.w1)()&&10===document.documentMode}()||z===f.newValue||f.newValue===f.oldValue?M():setTimeout(M,10)}notifyListeners(f,y){this.localCache[f]=y;const b=this.listeners[f];if(b)for(const M of Array.from(b))M(y&&JSON.parse(y))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,y,b)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:y,newValue:b}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,y){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(y)}_removeListener(f,y){this.listeners[f]&&(this.listeners[f].delete(y),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,y){var b=()=>super._set,M=this;return(0,g.Z)(function*(){yield b().call(M,f,y),M.localCache[f]=JSON.stringify(y)})()}_get(f){var y=()=>super._get,b=this;return(0,g.Z)(function*(){const M=yield y().call(b,f);return b.localCache[f]=JSON.stringify(M),M})()}_remove(f){var y=()=>super._remove,b=this;return(0,g.Z)(function*(){yield y().call(b,f),delete b.localCache[f]})()}}return m.type="LOCAL",m})(),vn=(()=>{class m extends wu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,y){}_removeListener(f,y){}}return m.type="SESSION",m})();let Du=(()=>{class m{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const y=this.receivers.find(M=>M.isListeningto(f));if(y)return y;const b=new m(f);return this.receivers.push(b),b}isListeningto(f){return this.eventTarget===f}handleEvent(f){var y=this;return(0,g.Z)(function*(){const b=f,{eventId:M,eventType:z,data:ce}=b.data,Re=y.handlersMap[z];if(!(null==Re?void 0:Re.size))return;b.ports[0].postMessage({status:"ack",eventId:M,eventType:z});const Ve=Array.from(Re).map(function(){var Ye=(0,g.Z)(function*(nn){return nn(b.origin,ce)});return function(nn){return Ye.apply(this,arguments)}}()),tt=yield function Dl(m){return Promise.all(m.map(function(){var c=(0,g.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(y){return{fulfilled:!1,reason:y}}});return function(f){return c.apply(this,arguments)}}()))}(Ve);b.ports[0].postMessage({status:"done",eventId:M,eventType:z,response:tt})})()}_subscribe(f,y){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(y)}_unsubscribe(f,y){this.handlersMap[f]&&y&&this.handlersMap[f].delete(y),(!y||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return m.receivers=[],m})();function ni(m="",c=10){let f="";for(let y=0;y<c;y++)f+=Math.floor(10*Math.random());return m+f}class bl{constructor(c){this.target=c,this.handlers=new Set}removeMessageHandler(c){c.messageChannel&&(c.messageChannel.port1.removeEventListener("message",c.onMessage),c.messageChannel.port1.close()),this.handlers.delete(c)}_send(c,f,y=50){var b=this;return(0,g.Z)(function*(){const M="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!M)throw new Error("connection_unavailable");let z,ce;return new Promise((Re,Ve)=>{const tt=ni("",20);M.port1.start();const Ye=setTimeout(()=>{Ve(new Error("unsupported_event"))},y);ce={messageChannel:M,onMessage(nn){const Rr=nn;if(Rr.data.eventId===tt)switch(Rr.data.status){case"ack":clearTimeout(Ye),z=setTimeout(()=>{Ve(new Error("timeout"))},3e3);break;case"done":clearTimeout(z),Re(Rr.data.response);break;default:clearTimeout(Ye),clearTimeout(z),Ve(new Error("invalid_response"))}}},b.handlers.add(ce),M.port1.addEventListener("message",ce.onMessage),b.target.postMessage({eventType:c,eventId:tt,data:f},[M.port2])}).finally(()=>{ce&&b.removeMessageHandler(ce)})})()}}function jt(){return window}function vr(){return void 0!==jt().WorkerGlobalScope&&"function"==typeof jt().importScripts}function xa(){return(xa=(0,g.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(m){return null}})).apply(this,arguments)}const Tu="firebaseLocalStorageDb",Js="firebaseLocalStorage",Xs="fbase_key";class ki{constructor(c){this.request=c}toPromise(){return new Promise((c,f)=>{this.request.addEventListener("success",()=>{c(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function xn(m,c){return m.transaction([Js],c?"readwrite":"readonly").objectStore(Js)}function Fi(){const m=indexedDB.open(Tu,1);return new Promise((c,f)=>{m.addEventListener("error",()=>{f(m.error)}),m.addEventListener("upgradeneeded",()=>{const y=m.result;try{y.createObjectStore(Js,{keyPath:Xs})}catch(b){f(b)}}),m.addEventListener("success",(0,g.Z)(function*(){const y=m.result;y.objectStoreNames.contains(Js)?c(y):(y.close(),yield function Oa(){const m=indexedDB.deleteDatabase(Tu);return new ki(m).toPromise()}(),c(yield Fi()))}))})}function eo(m,c,f){return Li.apply(this,arguments)}function Li(){return(Li=(0,g.Z)(function*(m,c,f){const y=xn(m,!0).put({[Xs]:c,value:f});return new ki(y).toPromise()})).apply(this,arguments)}function ds(){return(ds=(0,g.Z)(function*(m,c){const f=xn(m,!1).get(c),y=yield new ki(f).toPromise();return void 0===y?null:y.value})).apply(this,arguments)}function no(m,c){const f=xn(m,!0).delete(c);return new ki(f).toPromise()}const Ui=(()=>{class m{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,g.Z)(function*(){return f.db||(f.db=yield Fi()),f.db})()}_withRetries(f){var y=this;return(0,g.Z)(function*(){let b=0;for(;;)try{const M=yield y._openDb();return yield f(M)}catch(M){if(b++>3)throw M;y.db&&(y.db.close(),y.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,g.Z)(function*(){return vr()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,g.Z)(function*(){f.receiver=Du._getInstance(function Fc(){return vr()?self:null}()),f.receiver._subscribe("keyChanged",function(){var y=(0,g.Z)(function*(b,M){return{keyProcessed:(yield f._poll()).includes(M.key)}});return function(b,M){return y.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var y=(0,g.Z)(function*(b,M){return["keyChanged"]});return function(b,M){return y.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,g.Z)(function*(){var y,b;if(f.activeServiceWorker=yield function vt(){return xa.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new bl(f.activeServiceWorker);const M=yield f.sender._send("ping",{},800);!M||(null===(y=M[0])||void 0===y?void 0:y.fulfilled)&&(null===(b=M[0])||void 0===b?void 0:b.value.includes("keyChanged"))&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var y=this;return(0,g.Z)(function*(){if(y.sender&&y.activeServiceWorker&&function bu(){var m;return(null===(m=null==navigator?void 0:navigator.serviceWorker)||void 0===m?void 0:m.controller)||null}()===y.activeServiceWorker)try{yield y.sender._send("keyChanged",{key:f},y.serviceWorkerReceiverAvailable?800:50)}catch(b){}})()}_isAvailable(){return(0,g.Z)(function*(){try{if(!indexedDB)return!1;const f=yield Fi();return yield eo(f,cs,"1"),yield no(f,cs),!0}catch(f){}return!1})()}_withPendingWrite(f){var y=this;return(0,g.Z)(function*(){y.pendingWrites++;try{yield f()}finally{y.pendingWrites--}})()}_set(f,y){var b=this;return(0,g.Z)(function*(){return b._withPendingWrite((0,g.Z)(function*(){return yield b._withRetries(M=>eo(M,f,y)),b.localCache[f]=y,b.notifyServiceWorker(f)}))})()}_get(f){var y=this;return(0,g.Z)(function*(){const b=yield y._withRetries(M=>function to(m,c){return ds.apply(this,arguments)}(M,f));return y.localCache[f]=b,b})()}_remove(f){var y=this;return(0,g.Z)(function*(){return y._withPendingWrite((0,g.Z)(function*(){return yield y._withRetries(b=>no(b,f)),delete y.localCache[f],y.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,g.Z)(function*(){const y=yield f._withRetries(z=>{const ce=xn(z,!1).getAll();return new ki(ce).toPromise()});if(!y)return[];if(0!==f.pendingWrites)return[];const b=[],M=new Set;for(const{fbase_key:z,value:ce}of y)M.add(z),JSON.stringify(f.localCache[z])!==JSON.stringify(ce)&&(f.notifyListeners(z,ce),b.push(z));for(const z of Object.keys(f.localCache))f.localCache[z]&&!M.has(z)&&(f.notifyListeners(z,null),b.push(z));return b})()}notifyListeners(f,y){this.localCache[f]=y;const b=this.listeners[f];if(b)for(const M of Array.from(b))M(y)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,g.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,y){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(y)}_removeListener(f,y){this.listeners[f]&&(this.listeners[f].delete(y),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return m.type="LOCAL",m})();function Dn(m,c){return _t(m,"POST","/v2/accounts/mfaSignIn:start",Tt(m,c))}function un(){return(un=(0,g.Z)(function*(m){return(yield _t(m,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ps(m){return new Promise((c,f)=>{const y=document.createElement("script");y.setAttribute("src",m),y.onload=c,y.onerror=b=>{const M=me("internal-error");M.customData=b,f(M)},y.type="text/javascript",y.charset="UTF-8",function fs(){var m,c;return null!==(c=null===(m=document.getElementsByTagName("head"))||void 0===m?void 0:m[0])&&void 0!==c?c:document}().appendChild(y)})}function pi(m){return`__${m}${Math.floor(1e6*Math.random())}`}const Er=1e12;class tn{constructor(c){this.auth=c,this.counter=Er,this._widgets=new Map}render(c,f){const y=this.counter;return this._widgets.set(y,new Na(c,this.auth.name,f||{})),this.counter++,y}reset(c){var f;const y=c||Er;null===(f=this._widgets.get(y))||void 0===f||f.delete(),this._widgets.delete(y)}getResponse(c){var f;return(null===(f=this._widgets.get(c||Er))||void 0===f?void 0:f.getResponse())||""}execute(c){var f=this;return(0,g.Z)(function*(){var y;return null===(y=f._widgets.get(c||Er))||void 0===y||y.execute(),""})()}}class Na{constructor(c,f,y){this.params=y,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const b="string"==typeof c?document.getElementById(c):c;B(b,"argument-error",{appName:f}),this.container=b,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ko(m){const c=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let y=0;y<m;y++)c.push(f.charAt(Math.floor(Math.random()*f.length)));return c.join("")}(50);const{callback:c,"expired-callback":f}=this.params;if(c)try{c(this.responseToken)}catch(y){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch(y){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Wt=pi("rcb"),dh=new Pt(3e4,6e4);class op{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!jt().grecaptcha}load(c,f=""){return B(function so(m){return m.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(m)}(f),c,"argument-error"),this.shouldResolveImmediately(f)?Promise.resolve(jt().grecaptcha):new Promise((y,b)=>{const M=jt().setTimeout(()=>{b(me(c,"network-request-failed"))},dh.get());jt()[Wt]=()=>{jt().clearTimeout(M),delete jt()[Wt];const ce=jt().grecaptcha;if(!ce)return void b(me(c,"internal-error"));const Re=ce.render;ce.render=(Ve,tt)=>{const Ye=Re(Ve,tt);return this.counter++,Ye},this.hostLanguage=f,y(ce)},ps(`https://www.google.com/recaptcha/api.js??${(0,x.xO)({onload:Wt,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(M),b(me(c,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(c){return!!jt().grecaptcha&&(c===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class or{load(c){return(0,g.Z)(function*(){return new tn(c)})()}clearedOneInstance(){}}const Au="recaptcha",Bi={theme:"light",type:"image"};class gs{constructor(c,f=Object.assign({},Bi),y){this.parameters=f,this.type=Au,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ke(y),this.isInvisible="invisible"===this.parameters.size,B("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const b="string"==typeof c?document.getElementById(c):c;B(b,this.auth,"argument-error"),this.container=b,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new or:new op,this.validateStartingState()}verify(){var c=this;return(0,g.Z)(function*(){c.assertNotDestroyed();const f=yield c.render(),y=c.getAssertedRecaptcha();return y.getResponse(f)||new Promise(M=>{const z=ce=>{!ce||(c.tokenChangeListeners.delete(z),M(ce))};c.tokenChangeListeners.add(z),c.isInvisible&&y.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(c){return Promise.reject(c)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(c=>{throw this.renderPromise=null,c})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(c=>{this.container.removeChild(c)})}validateStartingState(){B(!this.parameters.sitekey,this.auth,"argument-error"),B(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),B("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(c){return f=>{if(this.tokenChangeListeners.forEach(y=>y(f)),"function"==typeof c)c(f);else if("string"==typeof c){const y=jt()[c];"function"==typeof y&&y(f)}}}assertNotDestroyed(){B(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var c=this;return(0,g.Z)(function*(){if(yield c.init(),!c.widgetId){let f=c.container;if(!c.isInvisible){const y=document.createElement("div");f.appendChild(y),f=y}c.widgetId=c.getAssertedRecaptcha().render(f,c.parameters)}return c.widgetId})()}init(){var c=this;return(0,g.Z)(function*(){B(qe()&&!vr(),c.auth,"internal-error"),yield function ka(){let m=null;return new Promise(c=>{"complete"!==document.readyState?(m=()=>c(),window.addEventListener("load",m)):c()}).catch(c=>{throw m&&window.removeEventListener("load",m),c})}(),c.recaptcha=yield c._recaptchaLoader.load(c.auth,c.auth.languageCode||void 0);const f=yield function Tl(m){return un.apply(this,arguments)}(c.auth);B(f,c.auth,"internal-error"),c.parameters.sitekey=f})()}getAssertedRecaptcha(){return B(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class qt{constructor(c,f){this.verificationId=c,this.onConfirmation=f}confirm(c){const f=js._fromVerification(this.verificationId,c);return this.onConfirmation(f)}}function ms(){return(ms=(0,g.Z)(function*(m,c,f){const y=Ke(m),b=yield oo(y,c,(0,x.m9)(f));return new qt(b,M=>Kt(y,M))})).apply(this,arguments)}function Sl(){return(Sl=(0,g.Z)(function*(m,c,f){const y=(0,x.m9)(m);yield Mt(!1,y,"phone");const b=yield oo(y.auth,c,(0,x.m9)(f));return new qt(b,M=>Mn(y,M))})).apply(this,arguments)}function Ir(){return(Ir=(0,g.Z)(function*(m,c,f){const y=(0,x.m9)(m),b=yield oo(y.auth,c,(0,x.m9)(f));return new qt(b,M=>di(y,M))})).apply(this,arguments)}function oo(m,c,f){return _s.apply(this,arguments)}function _s(){return(_s=(0,g.Z)(function*(m,c,f){var y;const b=yield f.verify();try{let M;if(B("string"==typeof b,m,"argument-error"),B(f.type===Au,m,"argument-error"),M="string"==typeof c?{phoneNumber:c}:c,"session"in M){const z=M.session;if("phoneNumber"in M)return B("enroll"===z.type,m,"internal-error"),(yield kc(m,{idToken:z.credential,phoneEnrollmentInfo:{phoneNumber:M.phoneNumber,recaptchaToken:b}})).phoneSessionInfo.sessionInfo;{B("signin"===z.type,m,"internal-error");const ce=(null===(y=M.multiFactorHint)||void 0===y?void 0:y.uid)||M.multiFactorUid;return B(ce,m,"missing-multi-factor-info"),(yield Dn(m,{mfaPendingCredential:z.credential,mfaEnrollmentId:ce,phoneSignInInfo:{recaptchaToken:b}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:z}=yield Rc(m,{phoneNumber:M.phoneNumber,recaptchaToken:b});return z}}finally{f._reset()}})).apply(this,arguments)}function ao(){return(ao=(0,g.Z)(function*(m,c){yield xo((0,x.m9)(m),c)})).apply(this,arguments)}let vs=(()=>{class m{constructor(f){this.providerId=m.PROVIDER_ID,this.auth=Ke(f)}verifyPhoneNumber(f,y){return oo(this.auth,f,(0,x.m9)(y))}static credential(f,y){return js._fromVerification(f,y)}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:y,temporaryProof:b}=f;return y&&b?js._fromTokenResponse(y,b):null}}return m.PROVIDER_ID="phone",m.PHONE_SIGN_IN_METHOD="phone",m})();function mi(m,c){return c?X(c):(B(m._popupRedirectResolver,m,"argument-error"),m._popupRedirectResolver)}class qo extends Nr{constructor(c){super("custom","custom"),this.params=c}_getIdTokenResponse(c){return Pi(c,this._buildIdpRequest())}_linkToIdToken(c,f){return Pi(c,this._buildIdpRequest(f))}_getReauthenticationResolver(c){return Pi(c,this._buildIdpRequest())}_buildIdpRequest(c){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return c&&(f.idToken=c),f}}function ht(m){return Rn(m.auth,new qo(m),m.bypassAuthState)}function Fa(m){const{auth:c,user:f}=m;return B(f,c,"internal-error"),wa(f,new qo(m),m.bypassAuthState)}function bn(m){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,g.Z)(function*(m){const{auth:c,user:f}=m;return B(f,c,"internal-error"),xo(f,new qo(m),m.bypassAuthState)})).apply(this,arguments)}class Vi{constructor(c,f,y,b,M=!1){this.auth=c,this.resolver=y,this.user=b,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var c=this;return new Promise(function(){var f=(0,g.Z)(function*(y,b){c.pendingPromise={resolve:y,reject:b};try{c.eventManager=yield c.resolver._initialize(c.auth),yield c.onExecution(),c.eventManager.registerConsumer(c)}catch(M){c.reject(M)}});return function(y,b){return f.apply(this,arguments)}}())}onAuthEvent(c){var f=this;return(0,g.Z)(function*(){const{urlResponse:y,sessionId:b,postBody:M,tenantId:z,error:ce,type:Re}=c;if(ce)return void f.reject(ce);const Ve={auth:f.auth,requestUri:y,sessionId:b,tenantId:z||void 0,postBody:M||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(Re)(Ve))}catch(tt){f.reject(tt)}})()}onError(c){this.reject(c)}getIdpTask(c){switch(c){case"signInViaPopup":case"signInViaRedirect":return ht;case"linkViaPopup":case"linkViaRedirect":return bn;case"reauthViaPopup":case"reauthViaRedirect":return Fa;default:Ie(this.auth,"internal-error")}}resolve(c){Z(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(c),this.unregisterAndCleanUp()}reject(c){Z(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(c),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const fh=new Pt(2e3,1e4);function ji(){return(ji=(0,g.Z)(function*(m,c,f){const y=Ke(m);Ne(m,c,Hn);const b=mi(y,f);return new Rl(y,"signInViaPopup",c,b).executeNotNull()})).apply(this,arguments)}function La(){return(La=(0,g.Z)(function*(m,c,f){const y=(0,x.m9)(m);Ne(y.auth,c,Hn);const b=mi(y.auth,f);return new Rl(y.auth,"reauthViaPopup",c,b,y).executeNotNull()})).apply(this,arguments)}function ii(){return(ii=(0,g.Z)(function*(m,c,f){const y=(0,x.m9)(m);Ne(y.auth,c,Hn);const b=mi(y.auth,f);return new Rl(y.auth,"linkViaPopup",c,b,y).executeNotNull()})).apply(this,arguments)}let Rl=(()=>{class m extends Vi{constructor(f,y,b,M,z){super(f,y,M,z),this.provider=b,this.authWindow=null,this.pollId=null,m.currentPopupAction&&m.currentPopupAction.cancel(),m.currentPopupAction=this}executeNotNull(){var f=this;return(0,g.Z)(function*(){const y=yield f.execute();return B(y,f.auth,"internal-error"),y})()}onExecution(){var f=this;return(0,g.Z)(function*(){Z(1===f.filter.length,"Popup operations only handle one event");const y=ni();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],y),f.authWindow.associatedEvent=y,f.resolver._originValidation(f.auth).catch(b=>{f.reject(b)}),f.resolver._isIframeWebStorageSupported(f.auth,b=>{b||f.reject(me(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,m.currentPopupAction=null}pollUserCancellation(){const f=()=>{var y,b;this.pollId=(null===(b=null===(y=this.authWindow)||void 0===y?void 0:y.window)||void 0===b?void 0:b.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(me(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(f,fh.get())};f()}}return m.currentPopupAction=null,m})();const On=new Map;class lp extends Vi{constructor(c,f,y=!1){super(c,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,y),this.eventId=null}execute(){var c=()=>super.execute,f=this;return(0,g.Z)(function*(){let y=On.get(f.auth._key());if(!y){try{const M=(yield function lo(m,c){return uo.apply(this,arguments)}(f.resolver,f.auth))?yield c().call(f):null;y=()=>Promise.resolve(M)}catch(b){y=()=>Promise.reject(b)}On.set(f.auth._key(),y)}return f.bypassAuthState||On.set(f.auth._key(),()=>Promise.resolve(null)),y()})()}onAuthEvent(c){var f=()=>super.onAuthEvent,y=this;return(0,g.Z)(function*(){if("signInViaRedirect"===c.type)return f().call(y,c);if("unknown"!==c.type){if(c.eventId){const b=yield y.auth._redirectUserForId(c.eventId);if(b)return y.user=b,f().call(y,c);y.resolve(null)}}else y.resolve(null)})()}onExecution(){return(0,g.Z)(function*(){})()}cleanUp(){}}function uo(){return(uo=(0,g.Z)(function*(m,c){const f=F(c),y=S(m);if(!(yield y._isAvailable()))return!1;const b="true"===(yield y._get(f));return yield y._remove(f),b})).apply(this,arguments)}function Es(m,c){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,g.Z)(function*(m,c){return S(m)._set(F(c),"true")})).apply(this,arguments)}function w(m,c){On.set(m._key(),c)}function S(m){return X(m._redirectPersistence)}function F(m){return mn("pendingRedirect",m.config.apiKey,m.name)}function he(){return(he=(0,g.Z)(function*(m,c,f){const y=Ke(m);Ne(m,c,Hn);const b=mi(y,f);return yield Es(b,y),b._openRedirect(y,c,"signInViaRedirect")})).apply(this,arguments)}function Qe(){return(Qe=(0,g.Z)(function*(m,c,f){const y=(0,x.m9)(m);Ne(y.auth,c,Hn);const b=mi(y.auth,f);yield Es(b,y.auth);const M=yield Dr(y);return b._openRedirect(y.auth,c,"reauthViaRedirect",M)})).apply(this,arguments)}function $n(){return($n=(0,g.Z)(function*(m,c,f){const y=(0,x.m9)(m);Ne(y.auth,c,Hn);const b=mi(y.auth,f);yield Mt(!1,y,c.providerId),yield Es(b,y.auth);const M=yield Dr(y);return b._openRedirect(y.auth,c,"linkViaRedirect",M)})).apply(this,arguments)}function _i(){return(_i=(0,g.Z)(function*(m,c){return yield Ke(m)._initializationPromise,ar(m,c,!1)})).apply(this,arguments)}function ar(m,c){return wr.apply(this,arguments)}function wr(){return(wr=(0,g.Z)(function*(m,c,f=!1){const y=Ke(m),b=mi(y,c),z=yield new lp(y,b,f).execute();return z&&!f&&(delete z.user._redirectEventId,yield y._persistUserIfCurrent(z.user),yield y._setRedirectUser(null,c)),z})).apply(this,arguments)}function Dr(m){return br.apply(this,arguments)}function br(){return(br=(0,g.Z)(function*(m){const c=ni(`${m.uid}:::`);return m._redirectEventId=c,yield m.auth._setRedirectUser(m),yield m.auth._persistUserIfCurrent(m),c})).apply(this,arguments)}class Ba{constructor(c){this.auth=c,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(c){this.consumers.add(c),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,c)&&(this.sendToConsumer(this.queuedRedirectEvent,c),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(c){this.consumers.delete(c)}onEvent(c){if(this.hasEventBeenHandled(c))return!1;let f=!1;return this.consumers.forEach(y=>{this.isEventForConsumer(c,y)&&(f=!0,this.sendToConsumer(c,y),this.saveEventToCache(c))}),this.hasHandledPotentialRedirect||!function ph(m){switch(m.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Va(m);default:return!1}}(c)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=c,f=!0)),f}sendToConsumer(c,f){var y;if(c.error&&!Va(c)){const b=(null===(y=c.error.code)||void 0===y?void 0:y.split("auth/")[1])||"internal-error";f.onError(me(this.auth,b))}else f.onAuthEvent(c)}isEventForConsumer(c,f){const y=null===f.eventId||!!c.eventId&&c.eventId===f.eventId;return f.filter.includes(c.type)&&y}hasEventBeenHandled(c){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ml(c))}saveEventToCache(c){this.cachedEventUids.add(Ml(c)),this.lastProcessedEventTime=Date.now()}}function Ml(m){return[m.type,m.eventId,m.sessionId,m.tenantId].filter(c=>c).join("-")}function Va({type:m,error:c}){return"unknown"===m&&"auth/no-auth-event"===(null==c?void 0:c.code)}function gh(m){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,g.Z)(function*(m,c={}){return _t(m,"GET","/v1/projects",c)})).apply(this,arguments)}const Cs=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Pl=/^https?/;function mh(){return(mh=(0,g.Z)(function*(m){if(m.config.emulator)return;const{authorizedDomains:c}=yield gh(m);for(const f of c)try{if(_h(f))return}catch(y){}Ie(m,"unauthorized-domain")})).apply(this,arguments)}function _h(m){const c=Se(),{protocol:f,hostname:y}=new URL(c);if(m.startsWith("chrome-extension://")){const z=new URL(m);return""===z.hostname&&""===y?"chrome-extension:"===f&&m.replace("chrome-extension://","")===c.replace("chrome-extension://",""):"chrome-extension:"===f&&z.hostname===y}if(!Pl.test(f))return!1;if(Cs.test(m))return y===m;const b=m.replace(/\./g,"\\.");return new RegExp("^(.+\\."+b+"|"+b+")$","i").test(y)}const cp=new Pt(3e4,6e4);function yh(){const m=jt().___jsl;if(null==m?void 0:m.H)for(const c of Object.keys(m.H))if(m.H[c].r=m.H[c].r||[],m.H[c].L=m.H[c].L||[],m.H[c].r=[...m.H[c].L],m.CP)for(let f=0;f<m.CP.length;f++)m.CP[f]=null}let ja=null;function Is(m){return ja=ja||function Uc(m){return new Promise((c,f)=>{var y,b,M;function z(){yh(),gapi.load("gapi.iframes",{callback:()=>{c(gapi.iframes.getContext())},ontimeout:()=>{yh(),f(me(m,"network-request-failed"))},timeout:cp.get()})}if(null===(b=null===(y=jt().gapi)||void 0===y?void 0:y.iframes)||void 0===b?void 0:b.Iframe)c(gapi.iframes.getContext());else{if(!(null===(M=jt().gapi)||void 0===M?void 0:M.load)){const ce=pi("iframefcb");return jt()[ce]=()=>{gapi.load?z():f(me(m,"network-request-failed"))},ps(`https://apis.google.com/js/api.js?onload=${ce}`).catch(Re=>f(Re))}z()}}).catch(c=>{throw ja=null,c})}(m),ja}const ws=new Pt(5e3,15e3),dp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},co=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hp(m){const c=m.config;B(c.authDomain,m,"auth-domain-config-required");const f=c.emulator?rn(c,"emulator/auth/iframe"):`https://${m.config.authDomain}/__/auth/iframe`,y={apiKey:c.apiKey,appName:m.name,v:oe.SDK_VERSION},b=co.get(m.config.apiHost);b&&(y.eid=b);const M=m._getFrameworks();return M.length&&(y.fw=M.join(",")),`${f}?${(0,x.xO)(y).slice(1)}`}function ho(){return ho=(0,g.Z)(function*(m){const c=yield Is(m),f=jt().gapi;return B(f,m,"internal-error"),c.open({where:document.body,url:hp(m),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dp,dontclear:!0},y=>new Promise(function(){var b=(0,g.Z)(function*(M,z){yield y.restyle({setHideOnLeave:!1});const ce=me(m,"network-request-failed"),Re=jt().setTimeout(()=>{z(ce)},ws.get());function Ve(){jt().clearTimeout(Re),M(y)}y.ping(Ve).then(Ve,()=>{z(ce)})});return function(M,z){return b.apply(this,arguments)}}()))}),ho.apply(this,arguments)}const Bc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class vh{constructor(c){this.window=c,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(c){}}}function Hi(m,c,f,y,b,M){B(m.config.authDomain,m,"auth-domain-config-required"),B(m.config.apiKey,m,"invalid-api-key");const z={apiKey:m.config.apiKey,appName:m.name,authType:f,redirectUrl:y,v:oe.SDK_VERSION,eventId:b};if(c instanceof Hn){c.setDefaultLanguage(m.languageCode),z.providerId=c.providerId||"",(0,x.xb)(c.getCustomParameters())||(z.customParameters=JSON.stringify(c.getCustomParameters()));for(const[Re,Ve]of Object.entries(M||{}))z[Re]=Ve}if(c instanceof is){const Re=c.getScopes().filter(Ve=>""!==Ve);Re.length>0&&(z.scopes=Re.join(","))}m.tenantId&&(z.tid=m.tenantId);const ce=z;for(const Re of Object.keys(ce))void 0===ce[Re]&&delete ce[Re];return`${function Ol({config:m}){return m.emulator?rn(m,"emulator/auth/handler"):`https://${m.authDomain}/__/auth/handler`}(m)}?${(0,x.xO)(ce).slice(1)}`}const ku="webStorageSupport";class Fu extends class n_{constructor(c){this.factorId=c}_process(c,f,y){switch(f.type){case"enroll":return this._finalizeEnroll(c,f.credential,y);case"signin":return this._finalizeSignIn(c,f.credential);default:return ge("unexpected MultiFactorSessionType")}}}{constructor(c){super("phone"),this.credential=c}static _fromCredential(c){return new Fu(c)}_finalizeEnroll(c,f,y){return function us(m,c){return _t(m,"POST","/v2/accounts/mfaEnrollment:finalize",Tt(m,c))}(c,{idToken:f,displayName:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(c,f){return function hs(m,c){return _t(m,"POST","/v2/accounts/mfaSignIn:finalize",Tt(m,c))}(c,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ch=(()=>{class m{constructor(){}static assertion(f){return Fu._fromCredential(f)}}return m.FACTOR_ID="phone",m})();var Ih="@firebase/auth";class Dh{constructor(c){this.auth=c,this.internalListeners=new Map}getUid(){var c;return this.assertAuthConfigured(),(null===(c=this.auth.currentUser)||void 0===c?void 0:c.uid)||null}getToken(c){var f=this;return(0,g.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(c)}:null})()}addAuthTokenListener(c){if(this.assertAuthConfigured(),this.internalListeners.has(c))return;const f=this.auth.onIdTokenChanged(y=>{var b;c((null===(b=y)||void 0===b?void 0:b.stsTokenManager.accessToken)||null)});this.internalListeners.set(c,f),this.updateProactiveRefresh()}removeAuthTokenListener(c){this.assertAuthConfigured();const f=this.internalListeners.get(c);!f||(this.internalListeners.delete(c),f(),this.updateProactiveRefresh())}assertAuthConfigured(){B(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function $i(){return window}function Jo(){return(Jo=(0,g.Z)(function*(m,c,f){var y;const{BuildInfo:b}=$i();Z(c.sessionId,"AuthEvent did not contain a session ID");const M=yield $c(c.sessionId),z={};return nr()?z.ibi=b.packageName:qn()?z.apn=b.packageName:Ie(m,"operation-not-supported-in-this-environment"),b.displayName&&(z.appDisplayName=b.displayName),z.sessionId=M,Hi(m,f,c.type,void 0,null!==(y=c.eventId)&&void 0!==y?y:void 0,z)})).apply(this,arguments)}function Uu(){return(Uu=(0,g.Z)(function*(m){const{BuildInfo:c}=$i(),f={};nr()?f.iosBundleId=c.packageName:qn()?f.androidPackageName=c.packageName:Ie(m,"operation-not-supported-in-this-environment"),yield gh(m,f)})).apply(this,arguments)}function Ah(){return(Ah=(0,g.Z)(function*(m,c,f){const{cordova:y}=$i();let b=()=>{};try{yield new Promise((M,z)=>{let ce=null;function Re(){var Ye;M();const nn=null===(Ye=y.plugins.browsertab)||void 0===Ye?void 0:Ye.close;"function"==typeof nn&&nn(),"function"==typeof(null==f?void 0:f.close)&&f.close()}function Ve(){ce||(ce=window.setTimeout(()=>{z(me(m,"redirect-cancelled-by-user"))},2e3))}function tt(){"visible"===(null==document?void 0:document.visibilityState)&&Ve()}c.addPassiveListener(Re),document.addEventListener("resume",Ve,!1),qn()&&document.addEventListener("visibilitychange",tt,!1),b=()=>{c.removePassiveListener(Re),document.removeEventListener("resume",Ve,!1),document.removeEventListener("visibilitychange",tt,!1),ce&&window.clearTimeout(ce)}})}finally{b()}})).apply(this,arguments)}function $c(m){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,g.Z)(function*(m){const c=Wc(m),f=yield crypto.subtle.digest("SHA-256",c);return Array.from(new Uint8Array(f)).map(b=>b.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Wc(m){if(Z(/[0-9a-zA-Z]+/.test(m),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(m);const c=new ArrayBuffer(m.length),f=new Uint8Array(c);for(let y=0;y<m.length;y++)f[y]=m.charCodeAt(y);return f}!function r_(m){(0,oe._registerComponent)(new ae.wA("auth",(c,{options:f})=>{const y=c.getProvider("app").getImmediate(),b=c.getProvider("heartbeat"),{apiKey:M,authDomain:z}=y.options;return((ce,Re)=>{B(M&&!M.includes(":"),"invalid-api-key",{appName:ce.name}),B(!(null==z?void 0:z.includes(":")),"argument-error",{appName:ce.name});const Ve={apiKey:M,authDomain:z,clientPlatform:m,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vs(m)},tt=new Be(ce,Re,Ve);return function se(m,c){const f=(null==c?void 0:c.persistence)||[],y=(Array.isArray(f)?f:[f]).map(X);(null==c?void 0:c.errorMap)&&m._updateErrorMap(c.errorMap),m._initializeWithPersistence(y,null==c?void 0:c.popupRedirectResolver)}(tt,f),tt})(y,b)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((c,f,y)=>{c.getProvider("auth-internal").initialize()})),(0,oe._registerComponent)(new ae.wA("auth-internal",c=>{const f=Ke(c.getProvider("auth").getImmediate());return new Dh(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,oe.registerVersion)(Ih,"0.20.1",function Lu(m){switch(m){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(m)),(0,oe.registerVersion)(Ih,"0.20.1","esm2017")}("Browser");class Vu extends Ba{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(c=>{this.resolveInialized=c})}addPassiveListener(c){this.passiveListeners.add(c)}removePassiveListener(c){this.passiveListeners.delete(c)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(c){return this.resolveInialized(),this.passiveListeners.forEach(f=>f(c)),super.onEvent(c)}initialized(){var c=this;return(0,g.Z)(function*(){yield c.initPromise})()}}function Wa(m){return kl.apply(this,arguments)}function kl(){return(kl=(0,g.Z)(function*(m){const c=yield ea()._get(zc(m));return c&&(yield ea()._remove(zc(m))),c})).apply(this,arguments)}function Gc(){const m=[],c="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let f=0;f<20;f++){const y=Math.floor(Math.random()*c.length);m.push(c.charAt(y))}return m.join("")}function ea(){return X(_r)}function zc(m){return mn("authEvent",m.config.apiKey,m.name)}function At(m){if(!(null==m?void 0:m.includes("?")))return{};const[c,...f]=m.split("?");return(0,x.zd)(f.join("?"))}function za(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:me("no-auth-event")}}function ta(){var m;return(null===(m=null==self?void 0:self.location)||void 0===m?void 0:m.protocol)||null}function Rh(m=(0,x.z$)()){return!("file:"!==ta()&&"ionic:"!==ta()||!m.toLowerCase().match(/iphone|ipad|ipod|android/))}function Qc(){try{const m=self.localStorage,c=ni();if(m)return m.setItem(c,"1"),m.removeItem(c),!function Yc(m=(0,x.z$)()){return function Jn(){return(0,x.w1)()&&11===(null==document?void 0:document.documentMode)}()||function na(m=(0,x.z$)()){return/Edge\/\d+/.test(m)}(m)}()||(0,x.hl)()}catch(m){return Nn()&&(0,x.hl)()}return!1}function Nn(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function ra(){return(function Ip(){return"http:"===ta()||"https:"===ta()}()||(0,x.ru)()||Rh())&&!function po(){return(0,x.b$)()||(0,x.UG)()}()&&Qc()&&!Nn()}function ju(){return Rh()&&"undefined"!=typeof document}function Fl(){return(Fl=(0,g.Z)(function*(){return!!ju()&&new Promise(m=>{const c=setTimeout(()=>{m(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(c),m(!0)})})})).apply(this,arguments)}const Tr={LOCAL:"local",NONE:"none",SESSION:"session"},Ds=B,Ph="persistence";function Za(m){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,g.Z)(function*(m){yield m._initializationPromise;const c=Oh(),f=mn(Ph,m.config.apiKey,m.name);c&&c.setItem(f,m._getPersistence())})).apply(this,arguments)}function Oh(){var m;try{return(null===(m=function Mh(){return"undefined"!=typeof window?window:null}())||void 0===m?void 0:m.sessionStorage)||null}catch(c){return null}}const Dp=B;class Ar{constructor(){this.browserResolver=X(class gp{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vn,this._completeRedirectFn=ar,this._overrideRedirectResult=w}_openPopup(c,f,y,b){var M=this;return(0,g.Z)(function*(){var z;Z(null===(z=M.eventManagers[c._key()])||void 0===z?void 0:z.manager,"_initialize() not called before _openPopup()");const ce=Hi(c,f,y,Se(),b);return function xl(m,c,f,y=500,b=600){const M=Math.max((window.screen.availHeight-b)/2,0).toString(),z=Math.max((window.screen.availWidth-y)/2,0).toString();let ce="";const Re=Object.assign(Object.assign({},Bc),{width:y.toString(),height:b.toString(),top:M,left:z}),Ve=(0,x.z$)().toLowerCase();f&&(ce=To(Ve)?"_blank":f),bo(Ve)&&(c=c||"http://localhost",Re.scrollbars="yes");const tt=Object.entries(Re).reduce((nn,[Rr,Ul])=>`${nn}${Rr}=${Ul},`,"");if(function ns(m=(0,x.z$)()){var c;return nr(m)&&!!(null===(c=window.navigator)||void 0===c?void 0:c.standalone)}(Ve)&&"_self"!==ce)return function fp(m,c){const f=document.createElement("a");f.href=m,f.target=c;const y=document.createEvent("MouseEvent");y.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(y)}(c||"",ce),new vh(null);const Ye=window.open(c||"",ce,tt);B(Ye,m,"popup-blocked");try{Ye.focus()}catch(nn){}return new vh(Ye)}(c,ce,ni())})()}_openRedirect(c,f,y,b){var M=this;return(0,g.Z)(function*(){return yield M._originValidation(c),function zo(m){jt().location.href=m}(Hi(c,f,y,Se(),b)),new Promise(()=>{})})()}_initialize(c){const f=c._key();if(this.eventManagers[f]){const{manager:b,promise:M}=this.eventManagers[f];return b?Promise.resolve(b):(Z(M,"If manager is not set, promise should be"),M)}const y=this.initAndGetManager(c);return this.eventManagers[f]={promise:y},y.catch(()=>{delete this.eventManagers[f]}),y}initAndGetManager(c){var f=this;return(0,g.Z)(function*(){const y=yield function xu(m){return ho.apply(this,arguments)}(c),b=new Ba(c);return y.register("authEvent",M=>(B(null==M?void 0:M.authEvent,c,"invalid-auth-event"),{status:b.onEvent(M.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[c._key()]={manager:b},f.iframes[c._key()]=y,b})()}_isIframeWebStorageSupported(c,f){this.iframes[c._key()].send(ku,{type:ku},b=>{var M;const z=null===(M=null==b?void 0:b[0])||void 0===M?void 0:M[ku];void 0!==z&&f(!!z),Ie(c,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(c){const f=c._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function up(m){return mh.apply(this,arguments)}(c)),this.originValidationPromises[f]}get _shouldInitProactively(){return Ai()||ya()||nr()}}),this.cordovaResolver=X(class Sh{constructor(){this._redirectPersistence=vn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ar,this._overrideRedirectResult=w}_initialize(c){var f=this;return(0,g.Z)(function*(){const y=c._key();let b=f.eventManagers.get(y);return b||(b=new Vu(c),f.eventManagers.set(y,b),f.attachCallbackListeners(c,b)),b})()}_openPopup(c){Ie(c,"operation-not-supported-in-this-environment")}_openRedirect(c,f,y,b){var M=this;return(0,g.Z)(function*(){!function Ha(m){var c,f,y,b,M,z,ce,Re,Ve,tt;const Ye=$i();B("function"==typeof(null===(c=null==Ye?void 0:Ye.universalLinks)||void 0===c?void 0:c.subscribe),m,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),B(void 0!==(null===(f=null==Ye?void 0:Ye.BuildInfo)||void 0===f?void 0:f.packageName),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),B("function"==typeof(null===(M=null===(b=null===(y=null==Ye?void 0:Ye.cordova)||void 0===y?void 0:y.plugins)||void 0===b?void 0:b.browsertab)||void 0===M?void 0:M.openUrl),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),B("function"==typeof(null===(Re=null===(ce=null===(z=null==Ye?void 0:Ye.cordova)||void 0===z?void 0:z.plugins)||void 0===ce?void 0:ce.browsertab)||void 0===Re?void 0:Re.isAvailable),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),B("function"==typeof(null===(tt=null===(Ve=null==Ye?void 0:Ye.cordova)||void 0===Ve?void 0:Ve.InAppBrowser)||void 0===tt?void 0:tt.open),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(c);const z=yield M._initialize(c);yield z.initialized(),z.resetRedirect(),function I(){On.clear()}(),yield M._originValidation(c);const ce=function $a(m,c,f=null){return{type:c,eventId:f,urlResponse:null,sessionId:Gc(),postBody:null,tenantId:m.tenantId,error:me(m,"no-auth-event")}}(c,y,b);yield function mp(m,c){return ea()._set(zc(m),c)}(c,ce);const Re=yield function yi(m,c,f){return Jo.apply(this,arguments)}(c,ce,f),Ve=yield function Bu(m){const{cordova:c}=$i();return new Promise(f=>{c.plugins.browsertab.isAvailable(y=>{let b=null;y?c.plugins.browsertab.openUrl(m):b=c.InAppBrowser.open(m,function su(m=(0,x.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(m)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(m)}()?"_blank":"_system","location=yes"),f(b)})})}(Re);return function Xo(m,c,f){return Ah.apply(this,arguments)}(c,z,Ve)})()}_isIframeWebStorageSupported(c,f){throw new Error("Method not implemented.")}_originValidation(c){const f=c._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function Th(m){return Uu.apply(this,arguments)}(c)),this.originValidationPromises[f]}attachCallbackListeners(c,f){const{universalLinks:y,handleOpenURL:b,BuildInfo:M}=$i(),z=setTimeout((0,g.Z)(function*(){yield Wa(c),f.onEvent(za())}),500),ce=function(){var tt=(0,g.Z)(function*(Ye){clearTimeout(z);const nn=yield Wa(c);let Rr=null;nn&&(null==Ye?void 0:Ye.url)&&(Rr=function _p(m,c){var f,y;const b=function Kc(m){const c=At(m),f=c.link?decodeURIComponent(c.link):void 0,y=At(f).link,b=c.deep_link_id?decodeURIComponent(c.deep_link_id):void 0;return At(b).link||b||y||f||m}(c);if(b.includes("/__/auth/callback")){const M=At(b),z=M.firebaseError?function Zc(m){try{return JSON.parse(m)}catch(c){return null}}(decodeURIComponent(M.firebaseError)):null,ce=null===(y=null===(f=null==z?void 0:z.code)||void 0===f?void 0:f.split("auth/"))||void 0===y?void 0:y[1],Re=ce?me(ce):null;return Re?{type:m.type,eventId:m.eventId,tenantId:m.tenantId,error:Re,urlResponse:null,sessionId:null,postBody:null}:{type:m.type,eventId:m.eventId,tenantId:m.tenantId,sessionId:m.sessionId,urlResponse:b,postBody:null}}return null}(nn,Ye.url)),f.onEvent(Rr||za())});return function(nn){return tt.apply(this,arguments)}}();void 0!==y&&"function"==typeof y.subscribe&&y.subscribe(null,ce);const Re=b,Ve=`${M.packageName.toLowerCase()}://`;$i().handleOpenURL=function(){var tt=(0,g.Z)(function*(Ye){if(Ye.toLowerCase().startsWith(Ve)&&ce({url:Ye}),"function"==typeof Re)try{Re(Ye)}catch(nn){console.error(nn)}});return function(Ye){return tt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=vn,this._completeRedirectFn=ar,this._overrideRedirectResult=w}_initialize(c){var f=this;return(0,g.Z)(function*(){return yield f.selectUnderlyingResolver(),f.assertedUnderlyingResolver._initialize(c)})()}_openPopup(c,f,y,b){var M=this;return(0,g.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openPopup(c,f,y,b)})()}_openRedirect(c,f,y,b){var M=this;return(0,g.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openRedirect(c,f,y,b)})()}_isIframeWebStorageSupported(c,f){this.assertedUnderlyingResolver._isIframeWebStorageSupported(c,f)}_originValidation(c){return this.assertedUnderlyingResolver._originValidation(c)}get _shouldInitProactively(){return ju()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Dp(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var c=this;return(0,g.Z)(function*(){if(c.underlyingResolver)return;const f=yield function wp(){return Fl.apply(this,arguments)}();c.underlyingResolver=f?c.cordovaResolver:c.browserResolver})()}}function Nh(m){return m.unwrap()}function Hu(m){return kh(m)}function kh(m){const{_tokenResponse:c}=m instanceof x.ZR?m.customData:m;if(!c)return null;if(!(m instanceof x.ZR)&&"temporaryProof"in c&&"phoneNumber"in c)return vs.credentialFromResult(m);const f=c.providerId;if(!f||"password"===f)return null;let y;switch(f){case"google.com":y=pu;break;case"facebook.com":y=Hs;break;case"github.com":y=Pc;break;case"twitter.com":y=mu;break;default:const{oauthIdToken:b,oauthAccessToken:M,oauthTokenSecret:z,pendingToken:ce,nonce:Re}=c;return M||z||b||ce?ce?f.startsWith("saml.")?ss._create(f,ce):ci._fromParams({providerId:f,signInMethod:f,pendingToken:ce,idToken:b,accessToken:M}):new Yr(f).credential({idToken:b,accessToken:M,rawNonce:Re}):null}return m instanceof x.ZR?y.credentialFromError(m):y.credentialFromResult(m)}function Sr(m,c){return c.catch(f=>{throw f instanceof x.ZR&&function Tp(m,c){var f;const y=null===(f=c.customData)||void 0===f?void 0:f._tokenResponse;if("auth/multi-factor-auth-required"===c.code)c.resolver=new Fh(m,function wn(m,c){var f;const y=(0,x.m9)(m),b=c;return B(c.customData.operationType,y,"argument-error"),B(null===(f=b.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,y,"argument-error"),Qs._fromError(y,b)}(m,c));else if(y){const b=kh(c),M=c;b&&(M.credential=b,M.tenantId=y.tenantId||void 0,M.email=y.email||void 0,M.phoneNumber=y.phoneNumber||void 0)}}(m,f),f}).then(f=>{const b=f.user;return{operationType:f.operationType,credential:Hu(f),additionalUserInfo:ti(f),user:Wi.getOrCreate(b)}})}function Xc(m,c){return ed.apply(this,arguments)}function ed(){return(ed=(0,g.Z)(function*(m,c){const f=yield c;return{verificationId:f.verificationId,confirm:y=>Sr(m,f.confirm(y))}})).apply(this,arguments)}class Fh{constructor(c,f){this.resolver=f,this.auth=function bp(m){return m.wrapped()}(c)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(c){return Sr(Nh(this.auth),this.resolver.resolveSignIn(c))}}class Wi{constructor(c){this._delegate=c,this.multiFactor=function Pa(m){const c=(0,x.m9)(m);return Ma.has(c)||Ma.set(c,Iu._fromUser(c)),Ma.get(c)}(c)}static getOrCreate(c){return Wi.USER_MAP.has(c)||Wi.USER_MAP.set(c,new Wi(c)),Wi.USER_MAP.get(c)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(c){return this._delegate.getIdTokenResult(c)}getIdToken(c){return this._delegate.getIdToken(c)}linkAndRetrieveDataWithCredential(c){return this.linkWithCredential(c)}linkWithCredential(c){var f=this;return(0,g.Z)(function*(){return Sr(f.auth,Mn(f._delegate,c))})()}linkWithPhoneNumber(c,f){var y=this;return(0,g.Z)(function*(){return Xc(y.auth,function ap(m,c,f){return Sl.apply(this,arguments)}(y._delegate,c,f))})()}linkWithPopup(c){var f=this;return(0,g.Z)(function*(){return Sr(f.auth,function Ru(m,c,f){return ii.apply(this,arguments)}(f._delegate,c,Ar))})()}linkWithRedirect(c){var f=this;return(0,g.Z)(function*(){return yield Za(Ke(f.auth)),function Et(m,c,f){return function ot(m,c,f){return $n.apply(this,arguments)}(m,c,f)}(f._delegate,c,Ar)})()}reauthenticateAndRetrieveDataWithCredential(c){return this.reauthenticateWithCredential(c)}reauthenticateWithCredential(c){var f=this;return(0,g.Z)(function*(){return Sr(f.auth,di(f._delegate,c))})()}reauthenticateWithPhoneNumber(c,f){return Xc(this.auth,function Cr(m,c,f){return Ir.apply(this,arguments)}(this._delegate,c,f))}reauthenticateWithPopup(c){return Sr(this.auth,function Lr(m,c,f){return La.apply(this,arguments)}(this._delegate,c,Ar))}reauthenticateWithRedirect(c){var f=this;return(0,g.Z)(function*(){return yield Za(Ke(f.auth)),function Me(m,c,f){return function ut(m,c,f){return Qe.apply(this,arguments)}(m,c,f)}(f._delegate,c,Ar)})()}sendEmailVerification(c){return function El(m,c){return Aa.apply(this,arguments)}(this._delegate,c)}unlink(c){var f=this;return(0,g.Z)(function*(){return yield function xc(m,c){return Ft.apply(this,arguments)}(f._delegate,c),f})()}updateEmail(c){return function lh(m,c){return Ks((0,x.m9)(m),c,null)}(this._delegate,c)}updatePassword(c){return function wl(m,c){return Ks((0,x.m9)(m),null,c)}(this._delegate,c)}updatePhoneNumber(c){return function ys(m,c){return ao.apply(this,arguments)}(this._delegate,c)}updateProfile(c){return function Il(m,c){return Ho.apply(this,arguments)}(this._delegate,c)}verifyBeforeUpdateEmail(c,f){return function Cl(m,c,f){return Sa.apply(this,arguments)}(this._delegate,c,f)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Wi.USER_MAP=new WeakMap;const Ll=B;let Lh=(()=>{class m{constructor(f,y){if(this.app=f,y.isInitialized())return this._delegate=y.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:b}=f.options;Ll(b,"invalid-api-key",{appName:f.name}),Ll(b,"invalid-api-key",{appName:f.name});const M="undefined"!=typeof window?Ar:void 0;this._delegate=y.initialize({options:{persistence:Ap(b,f.name),popupRedirectResolver:M}}),this._delegate._updateErrorMap(Ae),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Wi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(f){this._delegate.languageCode=f}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(f){this._delegate.tenantId=f}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(f,y){!function ir(m,c,f){const y=Ke(m);B(y._canInitEmulator,y,"emulator-config-failed"),B(/^https?:\/\//.test(c),y,"invalid-emulator-scheme");const b=!!(null==f?void 0:f.disableWarnings),M=Gr(c),{host:z,port:ce}=function hn(m){const c=Gr(m),f=/(\/\/)?([^?#/]+)/.exec(m.substr(c.length));if(!f)return{host:"",port:null};const y=f[2].split("@").pop()||"",b=/^(\[[^\]]+\])(:|$)/.exec(y);if(b){const M=b[1];return{host:M,port:zr(y.substr(M.length+1))}}{const[M,z]=y.split(":");return{host:M,port:zr(z)}}}(c);y.config.emulator={url:`${M}//${z}${null===ce?"":`:${ce}`}/`},y.settings.appVerificationDisabledForTesting=!0,y.emulatorConfig=Object.freeze({host:z,port:ce,protocol:M.replace(":",""),options:Object.freeze({disableWarnings:b})}),b||function Vt(){function m(){const c=document.createElement("p"),f=c.style;c.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",c.classList.add("firebase-emulator-warning"),document.body.appendChild(c)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}()}(this._delegate,f,y)}applyActionCode(f){return function we(m,c){return pt.apply(this,arguments)}(this._delegate,f)}checkActionCode(f){return yl(this._delegate,f)}confirmPasswordReset(f,y){return function ml(m,c,f){return _l.apply(this,arguments)}(this._delegate,f,y)}createUserWithEmailAndPassword(f,y){var b=this;return(0,g.Z)(function*(){return Sr(b._delegate,function mr(m,c,f){return Lo.apply(this,arguments)}(b._delegate,f,y))})()}fetchProvidersForEmail(f){return this.fetchSignInMethodsForEmail(f)}fetchSignInMethodsForEmail(f){return function Ni(m,c){return Fr.apply(this,arguments)}(this._delegate,f)}isSignInWithEmailLink(f){return function Uo(m,c){const f=Ia.parseLink(c);return"EMAIL_SIGNIN"===(null==f?void 0:f.operation)}(0,f)}getRedirectResult(){var f=this;return(0,g.Z)(function*(){Ll(ra(),f._delegate,"operation-not-supported-in-this-environment");const y=yield function Tn(m,c){return _i.apply(this,arguments)}(f._delegate,Ar);return y?Sr(f._delegate,Promise.resolve(y)):{credential:null,user:null}})()}addFrameworkForLogging(f){!function yp(m,c){Ke(m)._logFramework(c)}(this._delegate,f)}onAuthStateChanged(f,y,b){const{next:M,error:z,complete:ce}=Uh(f,y,b);return this._delegate.onAuthStateChanged(M,z,ce)}onIdTokenChanged(f,y,b){const{next:M,error:z,complete:ce}=Uh(f,y,b);return this._delegate.onIdTokenChanged(M,z,ce)}sendSignInLinkToEmail(f,y){return function ah(m,c,f){return ba.apply(this,arguments)}(this._delegate,f,y)}sendPasswordResetEmail(f,y){return function gl(m,c,f){return Fo.apply(this,arguments)}(this._delegate,f,y||void 0)}setPersistence(f){var y=this;return(0,g.Z)(function*(){let b;switch(function xh(m,c){Ds(Object.values(Tr).includes(c),m,"invalid-persistence-type"),(0,x.b$)()?Ds(c!==Tr.SESSION,m,"unsupported-persistence-type"):(0,x.UG)()?Ds(c===Tr.NONE,m,"unsupported-persistence-type"):Nn()?Ds(c===Tr.NONE||c===Tr.LOCAL&&(0,x.hl)(),m,"unsupported-persistence-type"):Ds(c===Tr.NONE||Qc(),m,"unsupported-persistence-type")}(y._delegate,f),f){case Tr.SESSION:b=vn;break;case Tr.LOCAL:b=(yield X(Ui)._isAvailable())?Ui:_r;break;case Tr.NONE:b=st;break;default:return Ie("argument-error",{appName:y._delegate.name})}return y._delegate.setPersistence(b)})()}signInAndRetrieveDataWithCredential(f){return this.signInWithCredential(f)}signInAnonymously(){return Sr(this._delegate,function _u(m){return hl.apply(this,arguments)}(this._delegate))}signInWithCredential(f){return Sr(this._delegate,Kt(this._delegate,f))}signInWithCustomToken(f){return Sr(this._delegate,function Gs(m,c){return Xe.apply(this,arguments)}(this._delegate,f))}signInWithEmailAndPassword(f,y){return Sr(this._delegate,function vl(m,c,f){return Kt((0,x.m9)(m),fu.credential(c,f))}(this._delegate,f,y))}signInWithEmailLink(f,y){return Sr(this._delegate,function Ta(m,c,f){return ln.apply(this,arguments)}(this._delegate,f,y))}signInWithPhoneNumber(f,y){return Xc(this._delegate,function Al(m,c,f){return ms.apply(this,arguments)}(this._delegate,f,y))}signInWithPopup(f){var y=this;return(0,g.Z)(function*(){return Ll(ra(),y._delegate,"operation-not-supported-in-this-environment"),Sr(y._delegate,function Su(m,c,f){return ji.apply(this,arguments)}(y._delegate,f,Ar))})()}signInWithRedirect(f){var y=this;return(0,g.Z)(function*(){return Ll(ra(),y._delegate,"operation-not-supported-in-this-environment"),yield Za(y._delegate),function K(m,c,f){return function te(m,c,f){return he.apply(this,arguments)}(m,c,f)}(y._delegate,f,Ar)})()}updateCurrentUser(f){return this._delegate.updateCurrentUser(f)}verifyPasswordResetCode(f){return function Zs(m,c){return ls.apply(this,arguments)}(this._delegate,f)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return m.Persistence=Tr,m})();function Uh(m,c,f){let y=m;"function"!=typeof m&&({next:y,error:c,complete:f}=m);const b=y;return{next:z=>b(z&&Wi.getOrCreate(z)),error:c,complete:f}}function Ap(m,c){const f=function ia(m,c){const f=Oh();if(!f)return[];const y=mn(Ph,m,c);switch(f.getItem(y)){case Tr.NONE:return[st];case Tr.LOCAL:return[Ui,vn];case Tr.SESSION:return[vn];default:return[]}}(m,c);if("undefined"!=typeof self&&!f.includes(Ui)&&f.push(Ui),"undefined"!=typeof window)for(const y of[_r,vn])f.includes(y)||f.push(y);return f.includes(st)||f.push(st),f}class td{constructor(){this.providerId="phone",this._delegate=new vs(Nh(Q.Z.auth()))}static credential(c,f){return vs.credential(c,f)}verifyPhoneNumber(c,f){return this._delegate.verifyPhoneNumber(c,f)}unwrap(){return this._delegate}}td.PHONE_SIGN_IN_METHOD=vs.PHONE_SIGN_IN_METHOD,td.PROVIDER_ID=vs.PROVIDER_ID;const Bh=B;class s_{constructor(c,f,y=Q.Z.app()){var b;Bh(null===(b=y.options)||void 0===b?void 0:b.apiKey,"invalid-api-key",{appName:y.name}),this._delegate=new gs(c,f,y.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function vi(m){m.INTERNAL.registerComponent(new ae.wA("auth-compat",c=>{const f=c.getProvider("app-compat").getImmediate(),y=c.getProvider("auth");return new Lh(f,y)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:fu,FacebookAuthProvider:Hs,GithubAuthProvider:Pc,GoogleAuthProvider:pu,OAuthProvider:Yr,SAMLAuthProvider:Yn,PhoneAuthProvider:td,PhoneMultiFactorGenerator:Ch,RecaptchaVerifier:s_,TwitterAuthProvider:mu,Auth:Lh,AuthCredential:Nr,Error:x.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),m.registerVersion("@firebase/auth-compat","0.2.14")}(Q.Z)},8306:($e,pe,P)=>{P.d(pe,{y:()=>H});var g=P(930),Q=P(727),x=P(8822),oe=P(4671);var ae=P(2416),ie=P(576),le=P(2806);let H=(()=>{class De{constructor(xe){xe&&(this._subscribe=xe)}lift(xe){const ue=new De;return ue.source=this,ue.operator=xe,ue}subscribe(xe,ue,Ce){const Le=function Fe(De){return De&&De instanceof g.Lv||function ee(De){return De&&(0,ie.m)(De.next)&&(0,ie.m)(De.error)&&(0,ie.m)(De.complete)}(De)&&(0,Q.Nn)(De)}(xe)?xe:new g.Hp(xe,ue,Ce);return(0,le.x)(()=>{const{operator:je,source:Ie}=this;Le.add(je?je.call(Le,Ie):Ie?this._subscribe(Le):this._trySubscribe(Le))}),Le}_trySubscribe(xe){try{return this._subscribe(xe)}catch(ue){xe.error(ue)}}forEach(xe,ue){return new(ue=V(ue))((Ce,Le)=>{const je=new g.Hp({next:Ie=>{try{xe(Ie)}catch(me){Le(me),je.unsubscribe()}},error:Le,complete:Ce});this.subscribe(je)})}_subscribe(xe){var ue;return null===(ue=this.source)||void 0===ue?void 0:ue.subscribe(xe)}[x.L](){return this}pipe(...xe){return function de(De){return 0===De.length?oe.y:1===De.length?De[0]:function(xe){return De.reduce((ue,Ce)=>Ce(ue),xe)}}(xe)(this)}toPromise(xe){return new(xe=V(xe))((ue,Ce)=>{let Le;this.subscribe(je=>Le=je,je=>Ce(je),()=>ue(Le))})}}return De.create=Ae=>new De(Ae),De})();function V(De){var Ae;return null!==(Ae=null!=De?De:ae.v.Promise)&&void 0!==Ae?Ae:Promise}},7579:($e,pe,P)=>{P.d(pe,{x:()=>ae});var g=P(8306),Q=P(727);const oe=(0,P(3888).d)(le=>function(){le(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ne=P(8737),de=P(2806);let ae=(()=>{class le extends g.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(V){const ee=new ie(this,this);return ee.operator=V,ee}_throwIfClosed(){if(this.closed)throw new oe}next(V){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ee of this.currentObservers)ee.next(V)}})}error(V){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=V;const{observers:ee}=this;for(;ee.length;)ee.shift().error(V)}})}complete(){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:V}=this;for(;V.length;)V.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var V;return(null===(V=this.observers)||void 0===V?void 0:V.length)>0}_trySubscribe(V){return this._throwIfClosed(),super._trySubscribe(V)}_subscribe(V){return this._throwIfClosed(),this._checkFinalizedStatuses(V),this._innerSubscribe(V)}_innerSubscribe(V){const{hasError:ee,isStopped:Fe,observers:De}=this;return ee||Fe?Q.Lc:(this.currentObservers=null,De.push(V),new Q.w0(()=>{this.currentObservers=null,(0,ne.P)(De,V)}))}_checkFinalizedStatuses(V){const{hasError:ee,thrownError:Fe,isStopped:De}=this;ee?V.error(Fe):De&&V.complete()}asObservable(){const V=new g.y;return V.source=this,V}}return le.create=(H,V)=>new ie(H,V),le})();class ie extends ae{constructor(H,V){super(),this.destination=H,this.source=V}next(H){var V,ee;null===(ee=null===(V=this.destination)||void 0===V?void 0:V.next)||void 0===ee||ee.call(V,H)}error(H){var V,ee;null===(ee=null===(V=this.destination)||void 0===V?void 0:V.error)||void 0===ee||ee.call(V,H)}complete(){var H,V;null===(V=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===V||V.call(H)}_subscribe(H){var V,ee;return null!==(ee=null===(V=this.source)||void 0===V?void 0:V.subscribe(H))&&void 0!==ee?ee:Q.Lc}}},930:($e,pe,P)=>{P.d(pe,{Hp:()=>xe,Lv:()=>ee});var g=P(576),Q=P(727),x=P(2416),oe=P(7849),ne=P(5032);const de=le("C",void 0,void 0);function le(Ie,me,ve){return{kind:Ie,value:me,error:ve}}var H=P(3410),V=P(2806);class ee extends Q.w0{constructor(me){super(),this.isStopped=!1,me?(this.destination=me,(0,Q.Nn)(me)&&me.add(this)):this.destination=je}static create(me,ve,Ne){return new xe(me,ve,Ne)}next(me){this.isStopped?Le(function ie(Ie){return le("N",Ie,void 0)}(me),this):this._next(me)}error(me){this.isStopped?Le(function ae(Ie){return le("E",void 0,Ie)}(me),this):(this.isStopped=!0,this._error(me))}complete(){this.isStopped?Le(de,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(me){this.destination.next(me)}_error(me){try{this.destination.error(me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Fe=Function.prototype.bind;function De(Ie,me){return Fe.call(Ie,me)}class Ae{constructor(me){this.partialObserver=me}next(me){const{partialObserver:ve}=this;if(ve.next)try{ve.next(me)}catch(Ne){ue(Ne)}}error(me){const{partialObserver:ve}=this;if(ve.error)try{ve.error(me)}catch(Ne){ue(Ne)}else ue(me)}complete(){const{partialObserver:me}=this;if(me.complete)try{me.complete()}catch(ve){ue(ve)}}}class xe extends ee{constructor(me,ve,Ne){let ke;if(super(),(0,g.m)(me)||!me)ke={next:null!=me?me:void 0,error:null!=ve?ve:void 0,complete:null!=Ne?Ne:void 0};else{let B;this&&x.v.useDeprecatedNextContext?(B=Object.create(me),B.unsubscribe=()=>this.unsubscribe(),ke={next:me.next&&De(me.next,B),error:me.error&&De(me.error,B),complete:me.complete&&De(me.complete,B)}):ke=me}this.destination=new Ae(ke)}}function ue(Ie){x.v.useDeprecatedSynchronousErrorHandling?(0,V.O)(Ie):(0,oe.h)(Ie)}function Le(Ie,me){const{onStoppedNotification:ve}=x.v;ve&&H.z.setTimeout(()=>ve(Ie,me))}const je={closed:!0,next:ne.Z,error:function Ce(Ie){throw Ie},complete:ne.Z}},727:($e,pe,P)=>{P.d(pe,{Lc:()=>de,w0:()=>ne,Nn:()=>ae});var g=P(576);const x=(0,P(3888).d)(le=>function(V){le(this),this.message=V?`${V.length} errors occurred during unsubscription:\n${V.map((ee,Fe)=>`${Fe+1}) ${ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=V});var oe=P(8737);class ne{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:V}=this;if(V)if(this._parentage=null,Array.isArray(V))for(const De of V)De.remove(this);else V.remove(this);const{initialTeardown:ee}=this;if((0,g.m)(ee))try{ee()}catch(De){H=De instanceof x?De.errors:[De]}const{_finalizers:Fe}=this;if(Fe){this._finalizers=null;for(const De of Fe)try{ie(De)}catch(Ae){H=null!=H?H:[],Ae instanceof x?H=[...H,...Ae.errors]:H.push(Ae)}}if(H)throw new x(H)}}add(H){var V;if(H&&H!==this)if(this.closed)ie(H);else{if(H instanceof ne){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._finalizers=null!==(V=this._finalizers)&&void 0!==V?V:[]).push(H)}}_hasParent(H){const{_parentage:V}=this;return V===H||Array.isArray(V)&&V.includes(H)}_addParent(H){const{_parentage:V}=this;this._parentage=Array.isArray(V)?(V.push(H),V):V?[V,H]:H}_removeParent(H){const{_parentage:V}=this;V===H?this._parentage=null:Array.isArray(V)&&(0,oe.P)(V,H)}remove(H){const{_finalizers:V}=this;V&&(0,oe.P)(V,H),H instanceof ne&&H._removeParent(this)}}ne.EMPTY=(()=>{const le=new ne;return le.closed=!0,le})();const de=ne.EMPTY;function ae(le){return le instanceof ne||le&&"closed"in le&&(0,g.m)(le.remove)&&(0,g.m)(le.add)&&(0,g.m)(le.unsubscribe)}function ie(le){(0,g.m)(le)?le():le.unsubscribe()}},2416:($e,pe,P)=>{P.d(pe,{v:()=>g});const g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:($e,pe,P)=>{P.d(pe,{E:()=>Q});const Q=new(P(8306).y)(ne=>ne.complete())},8996:($e,pe,P)=>{P.d(pe,{D:()=>me});var g=P(8421),Q=P(5363),x=P(9468),de=P(8306),ie=P(2202),le=P(576),H=P(9672);function ee(ve,Ne){if(!ve)throw new Error("Iterable cannot be null");return new de.y(ke=>{(0,H.f)(ke,Ne,()=>{const B=ve[Symbol.asyncIterator]();(0,H.f)(ke,Ne,()=>{B.next().then(ge=>{ge.done?ke.complete():ke.next(ge.value)})},0,!0)})})}var Fe=P(3670),De=P(8239),Ae=P(1144),xe=P(6495),ue=P(2206),Ce=P(4532),Le=P(3260);function me(ve,Ne){return Ne?function Ie(ve,Ne){if(null!=ve){if((0,Fe.c)(ve))return function oe(ve,Ne){return(0,g.Xf)(ve).pipe((0,x.R)(Ne),(0,Q.Q)(Ne))}(ve,Ne);if((0,Ae.z)(ve))return function ae(ve,Ne){return new de.y(ke=>{let B=0;return Ne.schedule(function(){B===ve.length?ke.complete():(ke.next(ve[B++]),ke.closed||this.schedule())})})}(ve,Ne);if((0,De.t)(ve))return function ne(ve,Ne){return(0,g.Xf)(ve).pipe((0,x.R)(Ne),(0,Q.Q)(Ne))}(ve,Ne);if((0,ue.D)(ve))return ee(ve,Ne);if((0,xe.T)(ve))return function V(ve,Ne){return new de.y(ke=>{let B;return(0,H.f)(ke,Ne,()=>{B=ve[ie.h](),(0,H.f)(ke,Ne,()=>{let ge,Z;try{({value:ge,done:Z}=B.next())}catch(re){return void ke.error(re)}Z?ke.complete():ke.next(ge)},0,!0)}),()=>(0,le.m)(null==B?void 0:B.return)&&B.return()})}(ve,Ne);if((0,Le.L)(ve))return function je(ve,Ne){return ee((0,Le.Q)(ve),Ne)}(ve,Ne)}throw(0,Ce.z)(ve)}(ve,Ne):(0,g.Xf)(ve)}},8421:($e,pe,P)=>{P.d(pe,{Xf:()=>Fe});var g=P(655),Q=P(1144),x=P(8239),oe=P(8306),ne=P(3670),de=P(2206),ae=P(4532),ie=P(6495),le=P(3260),H=P(576),V=P(7849),ee=P(8822);function Fe(Ie){if(Ie instanceof oe.y)return Ie;if(null!=Ie){if((0,ne.c)(Ie))return function De(Ie){return new oe.y(me=>{const ve=Ie[ee.L]();if((0,H.m)(ve.subscribe))return ve.subscribe(me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ie);if((0,Q.z)(Ie))return function Ae(Ie){return new oe.y(me=>{for(let ve=0;ve<Ie.length&&!me.closed;ve++)me.next(Ie[ve]);me.complete()})}(Ie);if((0,x.t)(Ie))return function xe(Ie){return new oe.y(me=>{Ie.then(ve=>{me.closed||(me.next(ve),me.complete())},ve=>me.error(ve)).then(null,V.h)})}(Ie);if((0,de.D)(Ie))return Ce(Ie);if((0,ie.T)(Ie))return function ue(Ie){return new oe.y(me=>{for(const ve of Ie)if(me.next(ve),me.closed)return;me.complete()})}(Ie);if((0,le.L)(Ie))return function Le(Ie){return Ce((0,le.Q)(Ie))}(Ie)}throw(0,ae.z)(Ie)}function Ce(Ie){return new oe.y(me=>{(function je(Ie,me){var ve,Ne,ke,B;return(0,g.mG)(this,void 0,void 0,function*(){try{for(ve=(0,g.KL)(Ie);!(Ne=yield ve.next()).done;)if(me.next(Ne.value),me.closed)return}catch(ge){ke={error:ge}}finally{try{Ne&&!Ne.done&&(B=ve.return)&&(yield B.call(ve))}finally{if(ke)throw ke.error}}me.complete()})})(Ie,me).catch(ve=>me.error(ve))})}},6451:($e,pe,P)=>{P.d(pe,{T:()=>de});var g=P(8189),Q=P(8421),x=P(515),oe=P(7669),ne=P(8996);function de(...ae){const ie=(0,oe.yG)(ae),le=(0,oe._6)(ae,1/0),H=ae;return H.length?1===H.length?(0,Q.Xf)(H[0]):(0,g.J)(le)((0,ne.D)(H,ie)):x.E}},5403:($e,pe,P)=>{P.d(pe,{x:()=>Q});var g=P(930);function Q(oe,ne,de,ae,ie){return new x(oe,ne,de,ae,ie)}class x extends g.Lv{constructor(ne,de,ae,ie,le,H){super(ne),this.onFinalize=le,this.shouldUnsubscribe=H,this._next=de?function(V){try{de(V)}catch(ee){ne.error(ee)}}:super._next,this._error=ie?function(V){try{ie(V)}catch(ee){ne.error(ee)}finally{this.unsubscribe()}}:super._error,this._complete=ae?function(){try{ae()}catch(V){ne.error(V)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ne;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:de}=this;super.unsubscribe(),!de&&(null===(ne=this.onFinalize)||void 0===ne||ne.call(this))}}}},4004:($e,pe,P)=>{P.d(pe,{U:()=>x});var g=P(4482),Q=P(5403);function x(oe,ne){return(0,g.e)((de,ae)=>{let ie=0;de.subscribe((0,Q.x)(ae,le=>{ae.next(oe.call(ne,le,ie++))}))})}},8189:($e,pe,P)=>{P.d(pe,{J:()=>x});var g=P(5577),Q=P(4671);function x(oe=1/0){return(0,g.z)(Q.y,oe)}},5577:($e,pe,P)=>{P.d(pe,{z:()=>ie});var g=P(4004),Q=P(8421),x=P(4482),oe=P(9672),ne=P(5403),ae=P(576);function ie(le,H,V=1/0){return(0,ae.m)(H)?ie((ee,Fe)=>(0,g.U)((De,Ae)=>H(ee,De,Fe,Ae))((0,Q.Xf)(le(ee,Fe))),V):("number"==typeof H&&(V=H),(0,x.e)((ee,Fe)=>function de(le,H,V,ee,Fe,De,Ae,xe){const ue=[];let Ce=0,Le=0,je=!1;const Ie=()=>{je&&!ue.length&&!Ce&&H.complete()},me=Ne=>Ce<ee?ve(Ne):ue.push(Ne),ve=Ne=>{De&&H.next(Ne),Ce++;let ke=!1;(0,Q.Xf)(V(Ne,Le++)).subscribe((0,ne.x)(H,B=>{null==Fe||Fe(B),De?me(B):H.next(B)},()=>{ke=!0},void 0,()=>{if(ke)try{for(Ce--;ue.length&&Ce<ee;){const B=ue.shift();Ae?(0,oe.f)(H,Ae,()=>ve(B)):ve(B)}Ie()}catch(B){H.error(B)}}))};return le.subscribe((0,ne.x)(H,me,()=>{je=!0,Ie()})),()=>{null==xe||xe()}}(ee,Fe,le,V)))}},5363:($e,pe,P)=>{P.d(pe,{Q:()=>oe});var g=P(9672),Q=P(4482),x=P(5403);function oe(ne,de=0){return(0,Q.e)((ae,ie)=>{ae.subscribe((0,x.x)(ie,le=>(0,g.f)(ie,ne,()=>ie.next(le),de),()=>(0,g.f)(ie,ne,()=>ie.complete(),de),le=>(0,g.f)(ie,ne,()=>ie.error(le),de)))})}},3099:($e,pe,P)=>{P.d(pe,{B:()=>de});var g=P(8996),Q=P(5698),x=P(7579),oe=P(930),ne=P(4482);function de(ie={}){const{connector:le=(()=>new x.x),resetOnError:H=!0,resetOnComplete:V=!0,resetOnRefCountZero:ee=!0}=ie;return Fe=>{let De=null,Ae=null,xe=null,ue=0,Ce=!1,Le=!1;const je=()=>{null==Ae||Ae.unsubscribe(),Ae=null},Ie=()=>{je(),De=xe=null,Ce=Le=!1},me=()=>{const ve=De;Ie(),null==ve||ve.unsubscribe()};return(0,ne.e)((ve,Ne)=>{ue++,!Le&&!Ce&&je();const ke=xe=null!=xe?xe:le();Ne.add(()=>{ue--,0===ue&&!Le&&!Ce&&(Ae=ae(me,ee))}),ke.subscribe(Ne),De||(De=new oe.Hp({next:B=>ke.next(B),error:B=>{Le=!0,je(),Ae=ae(Ie,H,B),ke.error(B)},complete:()=>{Ce=!0,je(),Ae=ae(Ie,V),ke.complete()}}),(0,g.D)(ve).subscribe(De))})(Fe)}}function ae(ie,le,...H){return!0===le?(ie(),null):!1===le?null:le(...H).pipe((0,Q.q)(1)).subscribe(()=>ie())}},9468:($e,pe,P)=>{P.d(pe,{R:()=>Q});var g=P(4482);function Q(x,oe=0){return(0,g.e)((ne,de)=>{de.add(x.schedule(()=>ne.subscribe(de),oe))})}},5698:($e,pe,P)=>{P.d(pe,{q:()=>oe});var g=P(515),Q=P(4482),x=P(5403);function oe(ne){return ne<=0?()=>g.E:(0,Q.e)((de,ae)=>{let ie=0;de.subscribe((0,x.x)(ae,le=>{++ie<=ne&&(ae.next(le),ne<=ie&&ae.complete())}))})}},8505:($e,pe,P)=>{P.d(pe,{b:()=>ne});var g=P(576),Q=P(4482),x=P(5403),oe=P(4671);function ne(de,ae,ie){const le=(0,g.m)(de)||ae||ie?{next:de,error:ae,complete:ie}:de;return le?(0,Q.e)((H,V)=>{var ee;null===(ee=le.subscribe)||void 0===ee||ee.call(le);let Fe=!0;H.subscribe((0,x.x)(V,De=>{var Ae;null===(Ae=le.next)||void 0===Ae||Ae.call(le,De),V.next(De)},()=>{var De;Fe=!1,null===(De=le.complete)||void 0===De||De.call(le),V.complete()},De=>{var Ae;Fe=!1,null===(Ae=le.error)||void 0===Ae||Ae.call(le,De),V.error(De)},()=>{var De,Ae;Fe&&(null===(De=le.unsubscribe)||void 0===De||De.call(le)),null===(Ae=le.finalize)||void 0===Ae||Ae.call(le)}))}):oe.y}},4408:($e,pe,P)=>{P.d(pe,{o:()=>ne});var g=P(727);class Q extends g.w0{constructor(ae,ie){super()}schedule(ae,ie=0){return this}}const x={setInterval(de,ae,...ie){const{delegate:le}=x;return(null==le?void 0:le.setInterval)?le.setInterval(de,ae,...ie):setInterval(de,ae,...ie)},clearInterval(de){const{delegate:ae}=x;return((null==ae?void 0:ae.clearInterval)||clearInterval)(de)},delegate:void 0};var oe=P(8737);class ne extends Q{constructor(ae,ie){super(ae,ie),this.scheduler=ae,this.work=ie,this.pending=!1}schedule(ae,ie=0){if(this.closed)return this;this.state=ae;const le=this.id,H=this.scheduler;return null!=le&&(this.id=this.recycleAsyncId(H,le,ie)),this.pending=!0,this.delay=ie,this.id=this.id||this.requestAsyncId(H,this.id,ie),this}requestAsyncId(ae,ie,le=0){return x.setInterval(ae.flush.bind(ae,this),le)}recycleAsyncId(ae,ie,le=0){if(null!=le&&this.delay===le&&!1===this.pending)return ie;x.clearInterval(ie)}execute(ae,ie){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const le=this._execute(ae,ie);if(le)return le;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ae,ie){let H,le=!1;try{this.work(ae)}catch(V){le=!0,H=V||new Error("Scheduled action threw falsy error")}if(le)return this.unsubscribe(),H}unsubscribe(){if(!this.closed){const{id:ae,scheduler:ie}=this,{actions:le}=ie;this.work=this.state=this.scheduler=null,this.pending=!1,(0,oe.P)(le,this),null!=ae&&(this.id=this.recycleAsyncId(ie,ae,null)),this.delay=null,super.unsubscribe()}}}},7565:($e,pe,P)=>{P.d(pe,{v:()=>x});var g=P(6063);class Q{constructor(ne,de=Q.now){this.schedulerActionCtor=ne,this.now=de}schedule(ne,de=0,ae){return new this.schedulerActionCtor(this,ne).schedule(ae,de)}}Q.now=g.l.now;class x extends Q{constructor(ne,de=Q.now){super(ne,de),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ne){const{actions:de}=this;if(this._active)return void de.push(ne);let ae;this._active=!0;do{if(ae=ne.execute(ne.state,ne.delay))break}while(ne=de.shift());if(this._active=!1,ae){for(;ne=de.shift();)ne.unsubscribe();throw ae}}}},4986:($e,pe,P)=>{P.d(pe,{z:()=>x});var g=P(4408);const x=new(P(7565).v)(g.o)},6063:($e,pe,P)=>{P.d(pe,{l:()=>g});const g={now:()=>(g.delegate||Date).now(),delegate:void 0}},3410:($e,pe,P)=>{P.d(pe,{z:()=>g});const g={setTimeout(Q,x,...oe){const{delegate:ne}=g;return(null==ne?void 0:ne.setTimeout)?ne.setTimeout(Q,x,...oe):setTimeout(Q,x,...oe)},clearTimeout(Q){const{delegate:x}=g;return((null==x?void 0:x.clearTimeout)||clearTimeout)(Q)},delegate:void 0}},2202:($e,pe,P)=>{P.d(pe,{h:()=>Q});const Q=function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:($e,pe,P)=>{P.d(pe,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:($e,pe,P)=>{P.d(pe,{_6:()=>de,jO:()=>oe,yG:()=>ne});var g=P(576);function x(ae){return ae[ae.length-1]}function oe(ae){return(0,g.m)(x(ae))?ae.pop():void 0}function ne(ae){return function Q(ae){return ae&&(0,g.m)(ae.schedule)}(x(ae))?ae.pop():void 0}function de(ae,ie){return"number"==typeof x(ae)?ae.pop():ie}},8737:($e,pe,P)=>{function g(Q,x){if(Q){const oe=Q.indexOf(x);0<=oe&&Q.splice(oe,1)}}P.d(pe,{P:()=>g})},3888:($e,pe,P)=>{function g(Q){const oe=Q(ne=>{Error.call(ne),ne.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}P.d(pe,{d:()=>g})},2806:($e,pe,P)=>{P.d(pe,{x:()=>x,O:()=>oe});var g=P(2416);let Q=null;function x(ne){if(g.v.useDeprecatedSynchronousErrorHandling){const de=!Q;if(de&&(Q={errorThrown:!1,error:null}),ne(),de){const{errorThrown:ae,error:ie}=Q;if(Q=null,ae)throw ie}}else ne()}function oe(ne){g.v.useDeprecatedSynchronousErrorHandling&&Q&&(Q.errorThrown=!0,Q.error=ne)}},9672:($e,pe,P)=>{function g(Q,x,oe,ne=0,de=!1){const ae=x.schedule(function(){oe(),de?Q.add(this.schedule(null,ne)):this.unsubscribe()},ne);if(Q.add(ae),!de)return ae}P.d(pe,{f:()=>g})},4671:($e,pe,P)=>{function g(Q){return Q}P.d(pe,{y:()=>g})},1144:($e,pe,P)=>{P.d(pe,{z:()=>g});const g=Q=>Q&&"number"==typeof Q.length&&"function"!=typeof Q},2206:($e,pe,P)=>{P.d(pe,{D:()=>Q});var g=P(576);function Q(x){return Symbol.asyncIterator&&(0,g.m)(null==x?void 0:x[Symbol.asyncIterator])}},576:($e,pe,P)=>{function g(Q){return"function"==typeof Q}P.d(pe,{m:()=>g})},3670:($e,pe,P)=>{P.d(pe,{c:()=>x});var g=P(8822),Q=P(576);function x(oe){return(0,Q.m)(oe[g.L])}},6495:($e,pe,P)=>{P.d(pe,{T:()=>x});var g=P(2202),Q=P(576);function x(oe){return(0,Q.m)(null==oe?void 0:oe[g.h])}},8239:($e,pe,P)=>{P.d(pe,{t:()=>Q});var g=P(576);function Q(x){return(0,g.m)(null==x?void 0:x.then)}},3260:($e,pe,P)=>{P.d(pe,{Q:()=>x,L:()=>oe});var g=P(655),Q=P(576);function x(ne){return(0,g.FC)(this,arguments,function*(){const ae=ne.getReader();try{for(;;){const{value:ie,done:le}=yield(0,g.qq)(ae.read());if(le)return yield(0,g.qq)(void 0);yield yield(0,g.qq)(ie)}}finally{ae.releaseLock()}})}function oe(ne){return(0,Q.m)(null==ne?void 0:ne.getReader)}},4482:($e,pe,P)=>{P.d(pe,{A:()=>Q,e:()=>x});var g=P(576);function Q(oe){return(0,g.m)(null==oe?void 0:oe.lift)}function x(oe){return ne=>{if(Q(ne))return ne.lift(function(de){try{return oe(de,this)}catch(ae){this.error(ae)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:($e,pe,P)=>{function g(){}P.d(pe,{Z:()=>g})},7849:($e,pe,P)=>{P.d(pe,{h:()=>x});var g=P(2416),Q=P(3410);function x(oe){Q.z.setTimeout(()=>{const{onUnhandledError:ne}=g.v;if(!ne)throw oe;ne(oe)})}},4532:($e,pe,P)=>{function g(Q){return new TypeError(`You provided ${null!==Q&&"object"==typeof Q?"an invalid object":`'${Q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(pe,{z:()=>g})},655:($e,pe,P)=>{function oe(Z,re){var X={};for(var fe in Z)Object.prototype.hasOwnProperty.call(Z,fe)&&re.indexOf(fe)<0&&(X[fe]=Z[fe]);if(null!=Z&&"function"==typeof Object.getOwnPropertySymbols){var se=0;for(fe=Object.getOwnPropertySymbols(Z);se<fe.length;se++)re.indexOf(fe[se])<0&&Object.prototype.propertyIsEnumerable.call(Z,fe[se])&&(X[fe[se]]=Z[fe[se]])}return X}function ie(Z,re,X,fe){return new(X||(X=Promise))(function(Se,qe){function It(Pt){try{He(fe.next(Pt))}catch(rn){qe(rn)}}function mt(Pt){try{He(fe.throw(Pt))}catch(rn){qe(rn)}}function He(Pt){Pt.done?Se(Pt.value):function se(Se){return Se instanceof X?Se:new X(function(qe){qe(Se)})}(Pt.value).then(It,mt)}He((fe=fe.apply(Z,re||[])).next())})}function ue(Z){return this instanceof ue?(this.v=Z,this):new ue(Z)}function Ce(Z,re,X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var se,fe=X.apply(Z,re||[]),Se=[];return se={},qe("next"),qe("throw"),qe("return"),se[Symbol.asyncIterator]=function(){return this},se;function qe(Ot){fe[Ot]&&(se[Ot]=function(Rt){return new Promise(function(zn,Tt){Se.push([Ot,Rt,zn,Tt])>1||It(Ot,Rt)})})}function It(Ot,Rt){try{!function mt(Ot){Ot.value instanceof ue?Promise.resolve(Ot.value.v).then(He,Pt):rn(Se[0][2],Ot)}(fe[Ot](Rt))}catch(zn){rn(Se[0][3],zn)}}function He(Ot){It("next",Ot)}function Pt(Ot){It("throw",Ot)}function rn(Ot,Rt){Ot(Rt),Se.shift(),Se.length&&It(Se[0][0],Se[0][1])}}function je(Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var X,re=Z[Symbol.asyncIterator];return re?re.call(Z):(Z=function ee(Z){var re="function"==typeof Symbol&&Symbol.iterator,X=re&&Z[re],fe=0;if(X)return X.call(Z);if(Z&&"number"==typeof Z.length)return{next:function(){return Z&&fe>=Z.length&&(Z=void 0),{value:Z&&Z[fe++],done:!Z}}};throw new TypeError(re?"Object is not iterable.":"Symbol.iterator is not defined.")}(Z),X={},fe("next"),fe("throw"),fe("return"),X[Symbol.asyncIterator]=function(){return this},X);function fe(Se){X[Se]=Z[Se]&&function(qe){return new Promise(function(It,mt){!function se(Se,qe,It,mt){Promise.resolve(mt).then(function(He){Se({value:He,done:It})},qe)}(It,mt,(qe=Z[Se](qe)).done,qe.value)})}}}P.d(pe,{_T:()=>oe,mG:()=>ie,qq:()=>ue,FC:()=>Ce,KL:()=>je})},5e3:($e,pe,P)=>{P.d(pe,{deG:()=>dh,tb:()=>iE,AFp:()=>Zm,ip1:()=>Sc,CZH:()=>zm,hGG:()=>Fw,z2F:()=>k,sBO:()=>iu,Sil:()=>HC,_Vd:()=>kn,EJc:()=>BC,SBq:()=>Ud,qLn:()=>Hu,vpe:()=>Do,tBr:()=>ar,XFs:()=>et,OlP:()=>Wt,zs3:()=>Ms,ZZ4:()=>rI,aQg:()=>iI,soG:()=>Ym,YKP:()=>sC,h0i:()=>Vd,PXZ:()=>t,R0b:()=>Ls,FiY:()=>wr,Lbi:()=>qm,g9A:()=>Km,Qsj:()=>Wf,FYo:()=>Ev,JOm:()=>b,tp0:()=>br,Rgc:()=>Wd,dDg:()=>cE,q4F:()=>Gf,GfV:()=>Sm,s_b:()=>Gd,ifc:()=>wt,eFA:()=>o,G48:()=>Qt,X6Q:()=>Fn,_c5:()=>kw,VLi:()=>qC,c2e:()=>sE,zSh:()=>lf,wAp:()=>nt,vHH:()=>Ae,cg1:()=>Lf,kL8:()=>Hy,dqk:()=>yt,sIi:()=>vo,CqO:()=>jg,QGY:()=>Bg,F4k:()=>Vg,RDi:()=>fl,AaK:()=>ie,TTD:()=>Yr,xp6:()=>Wp,uIk:()=>yd,Suo:()=>Fv,Xpm:()=>Je,lG2:()=>ya,Yz7:()=>Rt,cJS:()=>Tt,oAB:()=>Kn,Yjl:()=>To,Y36:()=>rl,_UZ:()=>Fg,qZA:()=>bf,TgZ:()=>hc,LFG:()=>Me,$8M:()=>fs,$Z:()=>wf,NdJ:()=>Hg,CRH:()=>Lv,oxw:()=>yy,ALo:()=>Qf,lcZ:()=>Av,Q6J:()=>Df,MGl:()=>Id,DdM:()=>Kf,iGM:()=>kv,oJD:()=>qc,LSH:()=>Ga,YNc:()=>zt,_uU:()=>Ad,Oqu:()=>Pf,hij:()=>xf});var g=P(7579),Q=P(727),x=P(8306),oe=P(6451),ne=P(3099);function de(n){for(let i in n)if(n[i]===de)return i;throw Error("Could not find renamed property on target object.")}function ie(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ie).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const s=i.indexOf("\n");return-1===s?i:i.substring(0,s)}function le(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const H=de({__forward_ref__:de});function V(n){return n.__forward_ref__=V,n.toString=function(){return ie(this())},n}function ee(n){return function Fe(n){return"function"==typeof n&&n.hasOwnProperty(H)&&n.__forward_ref__===V}(n)?n():n}class Ae extends Error{constructor(i,s){super(function xe(n,i){return`NG0${Math.abs(n)}${i?": "+i:""}`}(i,s)),this.code=i}}function ue(n){return"string"==typeof n?n:null==n?"":String(n)}function Ce(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ue(n)}function me(n,i){const s=i?` in ${i}`:"";throw new Ae(-201,`No provider for ${Ce(n)} found${s}`)}function mt(n,i){null==n&&function He(n,i,s,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${s} ${a} ${i} <=Actual]`))}(i,n,null,"!=")}function Rt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Tt(n){return{providers:n.providers||[],imports:n.imports||[]}}function _t(n){return Hr(n,$r)||Hr(n,er)}function Hr(n,i){return n.hasOwnProperty(i)?n[i]:null}function Zn(n){return n&&(n.hasOwnProperty(bi)||n.hasOwnProperty(Wr))?n[bi]:null}const $r=de({\u0275prov:de}),bi=de({\u0275inj:de}),er=de({ngInjectableDef:de}),Wr=de({ngInjectorDef:de});var et=(()=>((et=et||{})[et.Default=0]="Default",et[et.Host=1]="Host",et[et.Self=2]="Self",et[et.SkipSelf=4]="SkipSelf",et[et.Optional=8]="Optional",et))();let hr;function sn(n){const i=hr;return hr=n,i}function Ti(n,i,s){const a=_t(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&et.Optional?null:void 0!==i?i:void me(ie(n),"Injector")}function En(n){return{toString:n}.toString()}var on=(()=>((on=on||{})[on.OnPush=0]="OnPush",on[on.Default=1]="Default",on))(),wt=(()=>{return(n=wt||(wt={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",wt;var n})();const Ze="undefined"!=typeof globalThis&&globalThis,it="undefined"!=typeof window&&window,Un="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,yt=Ze||"undefined"!=typeof global&&global||it||Un,Vn={},L=[],W=de({\u0275cmp:de}),G=de({\u0275dir:de}),Ee=de({\u0275pipe:de}),$=de({\u0275mod:de}),Y=de({\u0275fac:de}),Te=de({__NG_ELEMENT_ID__:de});let We=0;function Je(n){return En(()=>{const s={},a={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===on.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||L,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||wt.Emulated,id:"c",styles:n.styles||L,_:null,setInput:null,schemas:n.schemas||null,tView:null},u=n.directives,h=n.features,_=n.pipes;return a.id+=We++,a.inputs=bo(n.inputs,s),a.outputs=bo(n.outputs),h&&h.forEach(v=>v(a)),a.directiveDefs=u?()=>("function"==typeof u?u():u).map(Bt):null,a.pipeDefs=_?()=>("function"==typeof _?_():_).map(st):null,a})}function Bt(n){return _n(n)||function qn(n){return n[G]||null}(n)}function st(n){return function ui(n){return n[Ee]||null}(n)}const mn={};function Kn(n){return En(()=>{const i={type:n.type,bootstrap:n.bootstrap||L,declarations:n.declarations||L,imports:n.imports||L,exports:n.exports||L,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(mn[n.id]=n.type),i})}function bo(n,i){if(null==n)return Vn;const s={};for(const a in n)if(n.hasOwnProperty(a)){let u=n[a],h=u;Array.isArray(u)&&(h=u[1],u=u[0]),s[u]=a,i&&(i[u]=h)}return s}const ya=Je;function To(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function _n(n){return n[W]||null}function yn(n,i){const s=n[$]||null;if(!s&&!0===i)throw new Error(`Type ${ie(n)} does not have '\u0275mod' property.`);return s}function sr(n){return Array.isArray(n)&&"object"==typeof n[1]}function Zr(n){return Array.isArray(n)&&!0===n[1]}function Ca(n){return 0!=(8&n.flags)}function ou(n){return 2==(2&n.flags)}function Kr(n){return 1==(1&n.flags)}function qr(n){return null!==n.template}function ul(n){return 0!=(512&n[2])}function Hn(n,i){return n.hasOwnProperty(Y)?n[Y]:null}class is{constructor(i,s,a){this.previousValue=i,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function Yr(){return Hs}function Hs(n){return n.type.prototype.ngOnChanges&&(n.setInput=Pc),pu}function pu(){const n=ss(this),i=null==n?void 0:n.current;if(i){const s=n.previous;if(s===Vn)n.previous=i;else for(let a in i)s[a]=i[a];n.current=null,this.ngOnChanges(i)}}function Pc(n,i,s,a){const u=ss(n)||function $s(n,i){return n[gu]=i}(n,{previous:Vn,current:null}),h=u.current||(u.current={}),_=u.previous,v=this.declaredInputs[s],C=_[v];h[v]=new is(C&&C.currentValue,i,_===Vn),n[a]=i}Yr.ngInherit=!0;const gu="__ngSimpleChanges__";function ss(n){return n[gu]||null}let Ws;function fl(n){Ws=n}function Qr(){return void 0!==Ws?Ws:"undefined"!=typeof document?document:void 0}function Ft(n){return!!n.listen}const xo={createRenderer:(n,i)=>Qr()};function Mt(n){for(;Array.isArray(n);)n=n[0];return n}function Rn(n,i){return Mt(i[n.index])}function Kt(n,i){return n.data[i]}function Mn(n,i){const s=i[n];return sr(s)?s:s[0]}function as(n){return 4==(4&n[2])}function di(n){return 128==(128&n[2])}function kr(n,i){return null==i?null:n[i]}function Xr(n){n[18]=0}function Gs(n,i){n[5]+=i;let s=n,a=n[3];for(;null!==a&&(1===i&&1===s[5]||-1===i&&0===s[5]);)a[5]+=i,s=a,a=a[3]}const Xe={lFrame:yu(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Fo(){return Xe.bindingsEnabled}function we(){return Xe.lFrame.lView}function pt(){return Xe.lFrame.tView}function $t(){let n=Zs();for(;null!==n&&64===n.type;)n=n.parent;return n}function Zs(){return Xe.lFrame.currentTNode}function mr(n,i){const s=Xe.lFrame;s.currentTNode=n,s.isParent=i}function Lo(){return Xe.lFrame.isParent}function Uo(){return Xe.isInCheckNoChangesMode}function Ta(n){Xe.isInCheckNoChangesMode=n}function ln(){const n=Xe.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function Ni(){return Xe.lFrame.bindingIndex++}function Cl(n,i){const s=Xe.lFrame;s.bindingIndex=s.bindingRootIndex=n,Vo(i)}function Vo(n){Xe.lFrame.currentDirectiveIndex=n}function Il(){return Xe.lFrame.currentQueryIndex}function Ho(n){Xe.lFrame.currentQueryIndex=n}function lh(n){const i=n[1];return 2===i.type?i.declTNode:1===i.type?n[6]:null}function wl(n,i,s){if(s&et.SkipSelf){let u=i,h=n;for(;!(u=u.parent,null!==u||s&et.Host||(u=lh(h),null===u||(h=h[15],10&u.type))););if(null===u)return!1;i=u,n=h}const a=Xe.lFrame=$o();return a.currentTNode=i,a.lView=n,!0}function Ks(n){const i=$o(),s=n[1];Xe.lFrame=i,i.currentTNode=s.firstChild,i.lView=n,i.tView=s,i.contextLView=n,i.bindingIndex=s.bindingStartIndex,i.inI18n=!1}function $o(){const n=Xe.lFrame,i=null===n?null:n.child;return null===i?yu(n):i}function yu(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function qs(){const n=Xe.lFrame;return Xe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const vu=qs;function Ys(){const n=qs();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function In(){return Xe.lFrame.selectedIndex}function ti(n){Xe.lFrame.selectedIndex=n}function Xt(){const n=Xe.lFrame;return Kt(n.tView,n.selectedIndex)}function Cu(n,i){for(let s=i.directiveStart,a=i.directiveEnd;s<a;s++){const h=n.data[s].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:v,ngAfterViewInit:C,ngAfterViewChecked:T,ngOnDestroy:A}=h;_&&(n.contentHooks||(n.contentHooks=[])).push(-s,_),v&&((n.contentHooks||(n.contentHooks=[])).push(s,v),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,v)),C&&(n.viewHooks||(n.viewHooks=[])).push(-s,C),T&&((n.viewHooks||(n.viewHooks=[])).push(s,T),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,T)),null!=A&&(n.destroyHooks||(n.destroyHooks=[])).push(s,A)}}function Wo(n,i,s){wn(n,i,3,s)}function fi(n,i,s,a){(3&n[2])===s&&wn(n,i,s,a)}function Qs(n,i){let s=n[2];(3&s)===i&&(s&=2047,s+=1,n[2]=s)}function wn(n,i,s,a){const h=null!=a?a:-1,_=i.length-1;let v=0;for(let C=void 0!==a?65535&n[18]:0;C<_;C++)if("number"==typeof i[C+1]){if(v=i[C],null!=a&&v>=a)break}else i[C]<0&&(n[18]+=65536),(v<h||-1==h)&&(kc(n,s,i,C),n[18]=(4294901760&n[18])+C+2),C++}function kc(n,i,s,a){const u=s[a]<0,h=s[a+1],v=n[u?-s[a]:s[a]];if(u){if(n[2]>>11<n[18]>>16&&(3&n[2])===i){n[2]+=2048;try{h.call(v)}finally{}}}else try{h.call(v)}finally{}}class Ra{constructor(i,s,a){this.factory=i,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Ge(n,i,s){const a=Ft(n);let u=0;for(;u<s.length;){const h=s[u];if("number"==typeof h){if(0!==h)break;u++;const _=s[u++],v=s[u++],C=s[u++];a?n.setAttribute(i,v,C,_):i.setAttributeNS(_,v,C)}else{const _=h,v=s[++u];yr(_)?a&&n.setProperty(i,_,v):a?n.setAttribute(i,_,v):i.setAttribute(_,v),u++}}return u}function _r(n){return 3===n||4===n||6===n}function yr(n){return 64===n.charCodeAt(0)}function vn(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let s=-1;for(let a=0;a<i.length;a++){const u=i[a];"number"==typeof u?s=u:0===s||Dl(n,s,u,null,-1===s||2===s?i[++a]:null)}}return n}function Dl(n,i,s,a,u){let h=0,_=n.length;if(-1===i)_=-1;else for(;h<n.length;){const v=n[h++];if("number"==typeof v){if(v===i){_=-1;break}if(v>i){_=h-1;break}}}for(;h<n.length;){const v=n[h];if("number"==typeof v)break;if(v===s){if(null===a)return void(null!==u&&(n[h+1]=u));if(a===n[h+1])return void(n[h+2]=u)}h++,null!==a&&h++,null!==u&&h++}-1!==_&&(n.splice(_,0,i),h=_+1),n.splice(h++,0,s),null!==a&&n.splice(h++,0,a),null!==u&&n.splice(h++,0,u)}function Du(n){return-1!==n}function ni(n){return 32767&n}function jt(n,i){let s=function bl(n){return n>>16}(n),a=i;for(;s>0;)a=a[15],s--;return a}let zo=!0;function vr(n){const i=zo;return zo=n,i}let Fc=0;function en(n,i){const s=Xs(n,i);if(-1!==s)return s;const a=i[1];a.firstCreatePass&&(n.injectorIndex=i.length,Js(a.data,n),Js(i,null),Js(a.blueprint,null));const u=ki(n,i),h=n.injectorIndex;if(Du(u)){const _=ni(u),v=jt(u,i),C=v[1].data;for(let T=0;T<8;T++)i[h+T]=v[_+T]|C[_+T]}return i[h+8]=u,h}function Js(n,i){n.push(0,0,0,0,0,0,0,0,i)}function Xs(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function ki(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,a=null,u=i;for(;null!==u;){const h=u[1],_=h.type;if(a=2===_?h.declTNode:1===_?u[6]:null,null===a)return-1;if(s++,u=u[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function xn(n,i,s){!function Tu(n,i,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Te)&&(a=s[Te]),null==a&&(a=s[Te]=Fc++);const u=255&a;i.data[n+(u>>5)]|=1<<u}(n,i,s)}function Fi(n,i,s){if(s&et.Optional)return n;me(i,"NodeInjector")}function eo(n,i,s,a){if(s&et.Optional&&void 0===a&&(a=null),0==(s&(et.Self|et.Host))){const u=n[9],h=sn(void 0);try{return u?u.get(i,a,s&et.Optional):Ti(i,a,s&et.Optional)}finally{sn(h)}}return Fi(a,i,s)}function Li(n,i,s,a=et.Default,u){if(null!==n){const h=function Zo(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(Te)?n[Te]:void 0;return"number"==typeof i?i>=0?255&i:ds:i}(s);if("function"==typeof h){if(!wl(i,n,a))return a&et.Host?Fi(u,s,a):eo(i,s,a,u);try{const _=h(a);if(null!=_||a&et.Optional)return _;me(s)}finally{vu()}}else if("number"==typeof h){let _=null,v=Xs(n,i),C=-1,T=a&et.Host?i[16][6]:null;for((-1===v||a&et.SkipSelf)&&(C=-1===v?ki(n,i):i[v+8],-1!==C&&Dn(a,!1)?(_=i[1],v=ni(C),i=jt(C,i)):v=-1);-1!==v;){const A=i[1];if(Ui(h,v,A.data)){const O=no(v,i,s,_,a,T);if(O!==to)return O}C=i[v+8],-1!==C&&Dn(a,i[1].data[v+8]===T)&&Ui(h,v,i)?(_=A,v=ni(C),i=jt(C,i)):v=-1}}}return eo(i,s,a,u)}const to={};function ds(){return new hs($t(),we())}function no(n,i,s,a,u,h){const _=i[1],v=_.data[n+8],A=ro(v,_,s,null==a?ou(v)&&zo:a!=_&&0!=(3&v.type),u&et.Host&&h===v);return null!==A?io(i,_,A,v):to}function ro(n,i,s,a,u){const h=n.providerIndexes,_=i.data,v=1048575&h,C=n.directiveStart,A=h>>20,j=u?v+A:n.directiveEnd;for(let q=a?v:v+A;q<j;q++){const _e=_[q];if(q<C&&s===_e||q>=C&&_e.type===s)return q}if(u){const q=_[C];if(q&&qr(q)&&q.type===s)return C}return null}function io(n,i,s,a){let u=n[s];const h=i.data;if(function Iu(n){return n instanceof Ra}(u)){const _=u;_.resolving&&function Le(n,i){const s=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new Ae(-200,`Circular dependency in DI detected for ${n}${s}`)}(Ce(h[s]));const v=vr(_.canSeeViewProviders);_.resolving=!0;const C=_.injectImpl?sn(_.injectImpl):null;wl(n,a,et.Default);try{u=n[s]=_.factory(void 0,h,n,a),i.firstCreatePass&&s>=a.directiveStart&&function uh(n,i,s){const{ngOnChanges:a,ngOnInit:u,ngDoCheck:h}=i.type.prototype;if(a){const _=Hs(i);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,_),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,_)}u&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,u),h&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,h),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,h))}(s,h[s],i)}finally{null!==C&&sn(C),vr(v),_.resolving=!1,vu()}}return u}function Ui(n,i,s){return!!(s[i+(n>>5)]&1<<n)}function Dn(n,i){return!(n&et.Self||n&et.Host&&i)}class hs{constructor(i,s){this._tNode=i,this._lView=s}get(i,s,a){return Li(this._tNode,this._lView,i,a,s)}}function fs(n){return function Oa(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const s=n.attrs;if(s){const a=s.length;let u=0;for(;u<a;){const h=s[u];if(_r(h))break;if(0===h)u+=2;else if("number"==typeof h)for(u++;u<a&&"string"==typeof s[u];)u++;else{if(h===i)return s[u+1];u+=2}}}return null}($t(),n)}const pi="__parameters__";function tn(n,i,s){return En(()=>{const a=function Er(n){return function(...s){if(n){const a=n(...s);for(const u in a)this[u]=a[u]}}}(i);function u(...h){if(this instanceof u)return a.apply(this,h),this;const _=new u(...h);return v.annotation=_,v;function v(C,T,A){const O=C.hasOwnProperty(pi)?C[pi]:Object.defineProperty(C,pi,{value:[]})[pi];for(;O.length<=A;)O.push(null);return(O[A]=O[A]||[]).push(_),C}}return s&&(u.prototype=Object.create(s.prototype)),u.prototype.ngMetadataName=n,u.annotationCls=u,u})}class Wt{constructor(i,s){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Rt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const dh=new Wt("AnalyzeForEntryComponents");function Cr(n,i){void 0===i&&(i=n);for(let s=0;s<n.length;s++){let a=n[s];Array.isArray(a)?(i===n&&(i=n.slice(0,s)),Cr(a,i)):i!==n&&i.push(a)}return i}function Ir(n,i){n.forEach(s=>Array.isArray(s)?Ir(s,i):i(s))}function oo(n,i,s){i>=n.length?n.push(s):n.splice(i,0,s)}function _s(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}const lo={},uo="__NG_DI_FLAG__",Es="ngTempTokenPath",I=/\n/gm,S="__source",F=de({provide:String,useValue:de});let K;function te(n){const i=K;return K=n,i}function he(n,i=et.Default){if(void 0===K)throw new Ae(203,"");return null===K?Ti(n,void 0,i):K.get(n,i&et.Optional?null:void 0,i)}function Me(n,i=et.Default){return(function Jt(){return hr}()||he)(ee(n),i)}const Qe=Me;function Et(n){const i=[];for(let s=0;s<n.length;s++){const a=ee(n[s]);if(Array.isArray(a)){if(0===a.length)throw new Ae(900,"");let u,h=et.Default;for(let _=0;_<a.length;_++){const v=a[_],C=$n(v);"number"==typeof C?-1===C?u=v.token:h|=C:u=v}i.push(Me(u,h))}else i.push(Me(a))}return i}function ot(n,i){return n[uo]=i,n.prototype[uo]=i,n}function $n(n){return n[uo]}const ar=ot(tn("Inject",n=>({token:n})),-1),wr=ot(tn("Optional"),8),br=ot(tn("SkipSelf"),4);let ws,xu;function Qo(n){var i;return(null===(i=function Pu(){if(void 0===ws&&(ws=null,yt.trustedTypes))try{ws=yt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return ws}())||void 0===i?void 0:i.createHTML(n))||n}function Bc(n){var i;return(null===(i=function ho(){if(void 0===xu&&(xu=null,yt.trustedTypes))try{xu=yt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return xu}())||void 0===i?void 0:i.createHTML(n))||n}class Nu{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function fo(n){return n instanceof Nu?n.changingThisBreaksApplicationSecurity:n}function Hi(n,i){const s=function Ol(n){return n instanceof Nu&&n.getTypeName()||null}(n);if(null!=s&&s!==i){if("ResourceURL"===s&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===i}class Ih{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const s=(new window.DOMParser).parseFromString(Qo(i),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(i):(s.removeChild(s.firstChild),s)}catch(s){return null}}}class wh{constructor(i){if(this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const a=this.inertDocument.createElement("body");s.appendChild(a)}}getInertBodyElement(i){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=Qo(i),s;const a=this.inertDocument.createElement("body");return a.innerHTML=Qo(i),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(i){const s=i.attributes;for(let u=s.length-1;0<u;u--){const _=s.item(u).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&i.removeAttribute(_)}let a=i.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const Lu=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,bh=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function $i(n){return(n=String(n)).match(Lu)||n.match(bh)?n:"unsafe:"+n}function yi(n){const i={};for(const s of n.split(","))i[s]=!0;return i}function Jo(...n){const i={};for(const s of n)for(const a in s)s.hasOwnProperty(a)&&(i[a]=!0);return i}const Th=yi("area,br,col,hr,img,wbr"),Uu=yi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Bu=yi("rp,rt"),$c=Jo(Th,Jo(Uu,yi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Jo(Bu,yi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Jo(Bu,Uu)),Nl=yi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Wc=yi("srcset"),$a=Jo(Nl,Wc,yi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),yi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),mp=yi("script,style,template");class Wa{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let s=i.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let u=this.checkClobberedElement(s,s.nextSibling);if(u){s=u;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(i){const s=i.nodeName.toLowerCase();if(!$c.hasOwnProperty(s))return this.sanitizedSomething=!0,!mp.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=i.attributes;for(let u=0;u<a.length;u++){const h=a.item(u),_=h.name,v=_.toLowerCase();if(!$a.hasOwnProperty(v)){this.sanitizedSomething=!0;continue}let C=h.value;Nl[v]&&(C=$i(C)),Wc[v]&&(n=C,C=(n=String(n)).split(",").map(i=>$i(i.trim())).join(", ")),this.buf.push(" ",_,'="',Gc(C),'"')}var n;return this.buf.push(">"),!0}endElement(i){const s=i.nodeName.toLowerCase();$c.hasOwnProperty(s)&&!Th.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(i){this.buf.push(Gc(i))}checkClobberedElement(i,s){if(s&&(i.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return s}}const kl=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_p=/([^\#-~ |!])/g;function Gc(n){return n.replace(/&/g,"&amp;").replace(kl,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(_p,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ea;function Zc(n){return"content"in n&&function Kc(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var At=(()=>((At=At||{})[At.NONE=0]="NONE",At[At.HTML=1]="HTML",At[At.STYLE=2]="STYLE",At[At.SCRIPT=3]="SCRIPT",At[At.URL=4]="URL",At[At.RESOURCE_URL=5]="RESOURCE_URL",At))();function qc(n){const i=po();return i?Bc(i.sanitize(At.HTML,n)||""):Hi(n,"HTML")?Bc(fo(n)):function zc(n,i){let s=null;try{ea=ea||function Ch(n){const i=new wh(n);return function Dh(){try{return!!(new window.DOMParser).parseFromString(Qo(""),"text/html")}catch(n){return!1}}()?new Ih(i):i}(n);let a=i?String(i):"";s=ea.getInertBodyElement(a);let u=5,h=a;do{if(0===u)throw new Error("Failed to sanitize html because the input is unstable");u--,a=h,h=s.innerHTML,s=ea.getInertBodyElement(a)}while(a!==h);return Qo((new Wa).sanitizeChildren(Zc(s)||s))}finally{if(s){const a=Zc(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}(Qr(),ue(n))}function Ga(n){const i=po();return i?i.sanitize(At.URL,n)||"":Hi(n,"URL")?fo(n):$i(ue(n))}function po(){const n=we();return n&&n[12]}const Qc="__ngContext__";function Nn(n,i){n[Qc]=i}function ju(n){const i=function ra(n){return n[Qc]||null}(n);return i?Array.isArray(i)?i:i.lView:null}function Ar(n){return n.ngOriginalError}function bp(n,...i){n.error(...i)}class Hu{constructor(){this._console=console}handleError(i){const s=this._findOriginalError(i),a=function Nh(n){return n&&n.ngErrorLogger||bp}(i);a(this._console,"ERROR",i),s&&a(this._console,"ORIGINAL ERROR",s)}_findOriginalError(i){let s=i&&Ar(i);for(;s&&Ar(s);)s=Ar(s);return s||null}}const Ap=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(yt))();function vi(n){return n instanceof Function?n():n}var b=(()=>((b=b||{})[b.Important=1]="Important",b[b.DashCase=2]="DashCase",b))();function z(n,i){return undefined(n,i)}function Ve(n){const i=n[3];return Zr(i)?i[3]:i}function nn(n){return Ul(n[13])}function Rr(n){return Ul(n[4])}function Ul(n){for(;null!==n&&!Zr(n);)n=n[4];return n}function go(n,i,s,a,u){if(null!=a){let h,_=!1;Zr(a)?h=a:sr(a)&&(_=!0,a=a[0]);const v=Mt(a);0===n&&null!==s?null==u?Op(i,s,v):Ei(i,s,v,u||null,!0):1===n&&null!==s?Ei(i,s,v,u||null,!0):2===n?function Lp(n,i,s){const a=od(n,i);a&&function gE(n,i,s,a){Ft(n)?n.removeChild(i,s,a):i.removeChild(s)}(n,a,i,s)}(i,v,_):3===n&&i.destroyNode(v),null!=h&&function yE(n,i,s,a,u){const h=s[7];h!==Mt(s)&&go(i,n,a,h,u);for(let v=10;v<s.length;v++){const C=s[v];Hh(C[1],C,n,i,a,h)}}(i,n,h,s,u)}}function Gu(n,i,s){if(Ft(n))return n.createElement(i,s);{const a=null!==s?function hl(n){const i=n.toLowerCase();return"svg"===i?"http://www.w3.org/2000/svg":"math"===i?"http://www.w3.org/1998/MathML/":null}(s):null;return null===a?n.createElement(i):n.createElementNS(a,i)}}function Rp(n,i){const s=n[9],a=s.indexOf(i),u=i[3];1024&i[2]&&(i[2]&=-1025,Gs(u,-1)),s.splice(a,1)}function Mp(n,i){if(n.length<=10)return;const s=10+i,a=n[s];if(a){const u=a[17];null!==u&&u!==n&&Rp(u,a),i>0&&(n[s-1][4]=a[4]);const h=_s(n,10+i);!function Mr(n,i){Hh(n,i,i[11],2,null,null),i[0]=null,i[6]=null}(a[1],a);const _=h[19];null!==_&&_.detachView(h[1]),a[3]=null,a[4]=null,a[2]&=-129}return a}function Pp(n,i){if(!(256&i[2])){const s=i[11];Ft(s)&&s.destroyNode&&Hh(n,i,s,3,null,null),function sd(n){let i=n[13];if(!i)return xp(n[1],n);for(;i;){let s=null;if(sr(i))s=i[13];else{const a=i[10];a&&(s=a)}if(!s){for(;i&&!i[4]&&i!==n;)sr(i)&&xp(i[1],i),i=i[3];null===i&&(i=n),sr(i)&&xp(i[1],i),s=i&&i[4]}i=s}}(i)}}function xp(n,i){if(!(256&i[2])){i[2]&=-129,i[2]|=256,function a_(n,i){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let a=0;a<s.length;a+=2){const u=i[s[a]];if(!(u instanceof Ra)){const h=s[a+1];if(Array.isArray(h))for(let _=0;_<h.length;_+=2){const v=u[h[_]],C=h[_+1];try{C.call(v)}finally{}}else try{h.call(u)}finally{}}}}(n,i),function o_(n,i){const s=n.cleanup,a=i[7];let u=-1;if(null!==s)for(let h=0;h<s.length-1;h+=2)if("string"==typeof s[h]){const _=s[h+1],v="function"==typeof _?_(i):Mt(i[_]),C=a[u=s[h+2]],T=s[h+3];"boolean"==typeof T?v.removeEventListener(s[h],C,T):T>=0?a[u=T]():a[u=-T].unsubscribe(),h+=2}else{const _=a[u=s[h+1]];s[h].call(_)}if(null!==a){for(let h=u+1;h<a.length;h++)a[h]();i[7]=null}}(n,i),1===i[1].type&&Ft(i[11])&&i[11].destroy();const s=i[17];if(null!==s&&Zr(i[3])){s!==i[3]&&Rp(s,i);const a=i[19];null!==a&&a.detachView(n)}}}function Vh(n,i,s){return function pE(n,i,s){let a=i;for(;null!==a&&40&a.type;)a=(i=a).parent;if(null===a)return s[0];if(2&a.flags){const u=n.data[a.directiveStart].encapsulation;if(u===wt.None||u===wt.Emulated)return null}return Rn(a,s)}(n,i.parent,s)}function Ei(n,i,s,a,u){Ft(n)?n.insertBefore(i,s,a,u):i.insertBefore(s,a,u)}function Op(n,i,s){Ft(n)?n.appendChild(i,s):i.appendChild(s)}function l_(n,i,s,a,u){null!==a?Ei(n,i,s,a,u):Op(n,i,s)}function od(n,i){return Ft(n)?n.parentNode(i):i.parentNode}let Np=function c_(n,i,s){return 40&n.type?Rn(n,s):null};function jh(n,i,s,a){const u=Vh(n,a,i),h=i[11],v=function u_(n,i,s){return Np(n,i,s)}(a.parent||i[6],a,i);if(null!=u)if(Array.isArray(s))for(let C=0;C<s.length;C++)l_(h,u,s[C],v,!1);else l_(h,u,s,v,!1)}function zu(n,i){if(null!==i){const s=i.type;if(3&s)return Rn(i,n);if(4&s)return Fp(-1,n[i.index]);if(8&s){const a=i.child;if(null!==a)return zu(n,a);{const u=n[i.index];return Zr(u)?Fp(-1,u):Mt(u)}}if(32&s)return z(i,n)()||Mt(n[i.index]);{const a=h_(n,i);return null!==a?Array.isArray(a)?a[0]:zu(Ve(n[16]),a):zu(n,i.next)}}return null}function h_(n,i){return null!==i?n[16][6].projection[i.projection]:null}function Fp(n,i){const s=10+n+1;if(s<i.length){const a=i[s],u=a[1].firstChild;if(null!==u)return zu(a,u)}return i[7]}function Up(n,i,s,a,u,h,_){for(;null!=s;){const v=a[s.index],C=s.type;if(_&&0===i&&(v&&Nn(Mt(v),a),s.flags|=4),64!=(64&s.flags))if(8&C)Up(n,i,s.child,a,u,h,!1),go(i,n,u,v,h);else if(32&C){const T=z(s,a);let A;for(;A=T();)go(i,n,u,A,h);go(i,n,u,v,h)}else 16&C?f_(n,i,a,s,u,h):go(i,n,u,v,h);s=_?s.projectionNext:s.next}}function Hh(n,i,s,a,u,h){Up(s,a,n.firstChild,i,u,h,!1)}function f_(n,i,s,a,u,h){const _=s[16],C=_[6].projection[a.projection];if(Array.isArray(C))for(let T=0;T<C.length;T++)go(i,n,u,C[T],h);else Up(n,i,C,_[3],u,h,!0)}function Vp(n,i,s){Ft(n)?n.setAttribute(i,"style",s):i.style.cssText=s}function jp(n,i,s){Ft(n)?""===s?n.removeAttribute(i,"class"):n.setAttribute(i,"class",s):i.className=s}function p_(n,i,s){let a=n.length;for(;;){const u=n.indexOf(i,s);if(-1===u)return u;if(0===u||n.charCodeAt(u-1)<=32){const h=i.length;if(u+h===a||n.charCodeAt(u+h)<=32)return u}s=u+1}}const g_="ng-template";function vE(n,i,s){let a=0;for(;a<n.length;){let u=n[a++];if(s&&"class"===u){if(u=n[a],-1!==p_(u.toLowerCase(),i,0))return!0}else if(1===u){for(;a<n.length&&"string"==typeof(u=n[a++]);)if(u.toLowerCase()===i)return!0;return!1}}return!1}function Gi(n){return 4===n.type&&n.value!==g_}function bs(n,i,s){return i===(4!==n.type||s?n.value:g_)}function gI(n,i,s){let a=4;const u=n.attrs||[],h=function N(n){for(let i=0;i<n.length;i++)if(_r(n[i]))return i;return n.length}(u);let _=!1;for(let v=0;v<i.length;v++){const C=i[v];if("number"!=typeof C){if(!_)if(4&a){if(a=2|1&a,""!==C&&!bs(n,C,s)||""===C&&1===i.length){if(Ts(a))return!1;_=!0}}else{const T=8&a?C:i[++v];if(8&a&&null!==n.attrs){if(!vE(n.attrs,T,s)){if(Ts(a))return!1;_=!0}continue}const O=Bl(8&a?"class":C,u,Gi(n),s);if(-1===O){if(Ts(a))return!1;_=!0;continue}if(""!==T){let j;j=O>h?"":u[O+1].toLowerCase();const q=8&a?j:null;if(q&&-1!==p_(q,T,0)||2&a&&T!==j){if(Ts(a))return!1;_=!0}}}}else{if(!_&&!Ts(a)&&!Ts(C))return!1;if(_&&Ts(C))continue;_=!1,a=C|1&a}}return Ts(a)||_}function Ts(n){return 0==(1&n)}function Bl(n,i,s,a){if(null===i)return-1;let u=0;if(a||!s){let h=!1;for(;u<i.length;){const _=i[u];if(_===n)return u;if(3===_||6===_)h=!0;else{if(1===_||2===_){let v=i[++u];for(;"string"==typeof v;)v=i[++u];continue}if(4===_)break;if(0===_){u+=4;continue}}u+=h?1:2}return-1}return function $h(n,i){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const a=n[s];if("number"==typeof a)return-1;if(a===i)return s;s++}return-1}(i,n)}function Ya(n,i,s=!1){for(let a=0;a<i.length;a++)if(gI(n,i[a],s))return!0;return!1}function Hp(n,i){return n?":not("+i.trim()+")":i}function $p(n){let i=n[0],s=1,a=2,u="",h=!1;for(;s<n.length;){let _=n[s];if("string"==typeof _)if(2&a){const v=n[++s];u+="["+_+(v.length>0?'="'+v+'"':"")+"]"}else 8&a?u+="."+_:4&a&&(u+=" "+_);else""!==u&&!Ts(_)&&(i+=Hp(h,u),u=""),a=_,h=h||!Ts(a);s++}return""!==u&&(i+=Hp(h,u)),i}const dt={};function Wp(n){Qa(pt(),we(),In()+n,Uo())}function Qa(n,i,s,a){if(!a)if(3==(3&i[2])){const h=n.preOrderCheckHooks;null!==h&&Wo(i,h,s)}else{const h=n.preOrderHooks;null!==h&&fi(i,h,0,s)}ti(s)}function Xh(n,i){const s=n.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const u=s[a],h=s[a+1];if(-1!==h){const _=n.data[h];Ho(u),_.contentQueries(2,i[h],h)}}}function dd(n,i,s,a,u,h,_,v,C,T){const A=i.blueprint.slice();return A[0]=u,A[2]=140|a,Xr(A),A[3]=A[15]=n,A[8]=s,A[10]=_||n&&n[10],A[11]=v||n&&n[11],A[12]=C||n&&n[12]||null,A[9]=T||n&&n[9]||null,A[6]=h,A[16]=2==i.type?n[16]:A,A}function $l(n,i,s,a,u){let h=n.data[i];if(null===h)h=function eg(n,i,s,a,u){const h=Zs(),_=Lo(),C=n.data[i]=function Ja(n,i,s,a,u,h){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?h:h&&h.parent,s,i,a,u);return null===n.firstChild&&(n.firstChild=C),null!==h&&(_?null==h.child&&null!==C.parent&&(h.child=C):null===h.next&&(h.next=C)),C}(n,i,s,a,u),function El(){return Xe.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=s,h.value=a,h.attrs=u;const _=function ls(){const n=Xe.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();h.injectorIndex=null===_?-1:_.injectorIndex}return mr(h,!0),h}function Ku(n,i,s,a){if(0===s)return-1;const u=i.length;for(let h=0;h<s;h++)i.push(a),n.blueprint.push(a),n.data.push(null);return u}function hd(n,i,s){Ks(i);try{const a=n.viewQuery;null!==a&&of(1,a,s);const u=n.template;null!==u&&tg(n,i,u,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Xh(n,i),n.staticViewQueries&&of(2,n.viewQuery,s);const h=n.components;null!==h&&function TE(n,i){for(let s=0;s<i.length;s++)V_(n,i[s])}(i,h)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{i[2]&=-5,Ys()}}function Wl(n,i,s,a){const u=i[2];if(256==(256&u))return;Ks(i);const h=Uo();try{Xr(i),function Bo(n){return Xe.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&tg(n,i,s,2,a);const _=3==(3&u);if(!h)if(_){const T=n.preOrderCheckHooks;null!==T&&Wo(i,T,null)}else{const T=n.preOrderHooks;null!==T&&fi(i,T,0,null),Qs(i,0)}if(function cg(n){for(let i=nn(n);null!==i;i=Rr(i)){if(!i[2])continue;const s=i[9];for(let a=0;a<s.length;a++){const u=s[a],h=u[3];0==(1024&u[2])&&Gs(h,1),u[2]|=1024}}}(i),function Gt(n){for(let i=nn(n);null!==i;i=Rr(i))for(let s=10;s<i.length;s++){const a=i[s],u=a[1];di(a)&&Wl(u,a,u.template,a[8])}}(i),null!==n.contentQueries&&Xh(n,i),!h)if(_){const T=n.contentCheckHooks;null!==T&&Wo(i,T)}else{const T=n.contentHooks;null!==T&&fi(i,T,1),Qs(i,1)}!function Jp(n,i){const s=n.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const u=s[a];if(u<0)ti(~u);else{const h=u,_=s[++a],v=s[++a];Cl(_,h),v(2,i[h])}}}finally{ti(-1)}}(n,i);const v=n.components;null!==v&&function Xp(n,i){for(let s=0;s<i.length;s++)PE(n,i[s])}(i,v);const C=n.viewQuery;if(null!==C&&of(2,C,a),!h)if(_){const T=n.viewCheckHooks;null!==T&&Wo(i,T)}else{const T=n.viewHooks;null!==T&&fi(i,T,2),Qs(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),h||(i[2]&=-73),1024&i[2]&&(i[2]&=-1025,Gs(i[3],-1))}finally{Ys()}}function A_(n,i,s,a){const u=i[10],h=!Uo(),_=as(i);try{h&&!_&&u.begin&&u.begin(),_&&hd(n,i,a),Wl(n,i,s,a)}finally{h&&!_&&u.end&&u.end()}}function tg(n,i,s,a,u){const h=In(),_=2&a;try{ti(-1),_&&i.length>20&&Qa(n,i,20,Uo()),s(a,u)}finally{ti(h)}}function ng(n,i,s){!Fo()||(function RE(n,i,s,a){const u=s.directiveStart,h=s.directiveEnd;n.firstCreatePass||en(s,i),Nn(a,i);const _=s.initialInputs;for(let v=u;v<h;v++){const C=n.data[v],T=qr(C);T&&rf(i,s,C);const A=io(i,n,v,s);Nn(A,i),null!==_&&Lt(0,v-u,A,C,0,_),T&&(Mn(s.index,i)[8]=A)}}(n,i,s,Rn(s,i)),128==(128&s.flags)&&function L_(n,i,s){const a=s.directiveStart,u=s.directiveEnd,_=s.index,v=function Sa(){return Xe.lFrame.currentDirectiveIndex}();try{ti(_);for(let C=a;C<u;C++){const T=n.data[C],A=i[C];Vo(C),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&og(T,A)}}finally{ti(-1),Vo(v)}}(n,i,s))}function rg(n,i,s=Rn){const a=i.localNames;if(null!==a){let u=i.index+1;for(let h=0;h<a.length;h+=2){const _=a[h+1],v=-1===_?s(i,n):n[_];n[u++]=v}}}function R_(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=ef(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function ef(n,i,s,a,u,h,_,v,C,T){const A=20+a,O=A+u,j=function M_(n,i){const s=[];for(let a=0;a<i;a++)s.push(a<n?null:dt);return s}(A,O),q="function"==typeof T?T():T;return j[1]={type:n,blueprint:j,template:s,queries:null,viewQuery:v,declTNode:i,data:j.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:O,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:C,consts:q,incompleteFirstPass:!1}}function x_(n,i,s,a){const u=Qu(i);null===s?u.push(a):(u.push(s),n.firstCreatePass&&H_(n).push(a,u.length-1))}function tf(n,i,s){for(let a in n)if(n.hasOwnProperty(a)){const u=n[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(i,u):s[a]=[i,u]}return s}function Pr(n,i,s,a,u,h,_,v){const C=Rn(i,s);let A,T=i.inputs;!v&&null!=T&&(A=T[a])?(W_(n,s,A,a,u),ou(i)&&function qu(n,i){const s=Mn(i,n);16&s[2]||(s[2]|=64)}(s,i.index)):3&i.type&&(a=function SE(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),u=null!=_?_(u,i.value||"",a):u,Ft(h)?h.setProperty(C,a,u):yr(a)||(C.setProperty?C.setProperty(a,u):C[a]=u))}function nf(n,i,s,a){let u=!1;if(Fo()){const h=function U_(n,i,s){const a=n.directiveRegistry;let u=null;if(a)for(let h=0;h<a.length;h++){const _=a[h];Ya(s,_.selectors,!1)&&(u||(u=[]),xn(en(s,i),n,_.type),qr(_)?(ag(n,s),u.unshift(_)):u.push(_))}return u}(n,i,s),_=null===a?null:{"":-1};if(null!==h){u=!0,lg(s,n.data.length,h.length);for(let A=0;A<h.length;A++){const O=h[A];O.providersResolver&&O.providersResolver(O)}let v=!1,C=!1,T=Ku(n,i,h.length,null);for(let A=0;A<h.length;A++){const O=h[A];s.mergedAttrs=vn(s.mergedAttrs,O.hostAttrs),ug(n,s,i,T,O),B_(T,O,_),null!==O.contentQueries&&(s.flags|=8),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(s.flags|=128);const j=O.type.prototype;!v&&(j.ngOnChanges||j.ngOnInit||j.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),v=!0),!C&&(j.ngOnChanges||j.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),C=!0),T++}!function AE(n,i){const a=i.directiveEnd,u=n.data,h=i.attrs,_=[];let v=null,C=null;for(let T=i.directiveStart;T<a;T++){const A=u[T],O=A.inputs,j=null===h||Gi(i)?null:xt(O,h);_.push(j),v=tf(O,T,v),C=tf(A.outputs,T,C)}null!==v&&(v.hasOwnProperty("class")&&(i.flags|=16),v.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=_,i.inputs=v,i.outputs=C}(n,s)}_&&function ME(n,i,s){if(i){const a=n.localNames=[];for(let u=0;u<i.length;u+=2){const h=s[i[u+1]];if(null==h)throw new Ae(-301,!1);a.push(i[u],h)}}}(s,a,_)}return s.mergedAttrs=vn(s.mergedAttrs,s.attrs),u}function k_(n,i,s,a,u,h){const _=h.hostBindings;if(_){let v=n.hostBindingOpCodes;null===v&&(v=n.hostBindingOpCodes=[]);const C=~i.index;(function F_(n){let i=n.length;for(;i>0;){const s=n[--i];if("number"==typeof s&&s<0)return s}return 0})(v)!=C&&v.push(C),v.push(a,u,_)}}function og(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function ag(n,i){i.flags|=2,(n.components||(n.components=[])).push(i.index)}function B_(n,i,s){if(s){if(i.exportAs)for(let a=0;a<i.exportAs.length;a++)s[i.exportAs[a]]=n;qr(i)&&(s[""]=n)}}function lg(n,i,s){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+s,n.providerIndexes=i}function ug(n,i,s,a,u){n.data[a]=u;const h=u.factory||(u.factory=Hn(u.type)),_=new Ra(h,qr(u),null);n.blueprint[a]=_,s[a]=_,k_(n,i,0,a,Ku(n,s,u.hostVars,dt),u)}function rf(n,i,s){const a=Rn(i,n),u=R_(s),h=n[10],_=gt(n,dd(n,u,null,s.onPush?64:16,a,i,h,h.createRenderer(a,s),null,null));n[i.index]=_}function Rs(n,i,s,a,u,h){const _=Rn(n,i);!function sf(n,i,s,a,u,h,_){if(null==h)Ft(n)?n.removeAttribute(i,u,s):i.removeAttribute(u);else{const v=null==_?ue(h):_(h,a||"",u);Ft(n)?n.setAttribute(i,u,v,s):s?i.setAttributeNS(s,u,v):i.setAttribute(u,v)}}(i[11],_,h,n.value,s,a,u)}function Lt(n,i,s,a,u,h){const _=h[i];if(null!==_){const v=a.setInput;for(let C=0;C<_.length;){const T=_[C++],A=_[C++],O=_[C++];null!==v?a.setInput(s,O,T,A):s[A]=O}}}function xt(n,i){let s=null,a=0;for(;a<i.length;){const u=i[a];if(0!==u)if(5!==u){if("number"==typeof u)break;n.hasOwnProperty(u)&&(null===s&&(s=[]),s.push(u,n[u],i[a+1])),a+=2}else a+=2;else a+=4}return s}function ua(n,i,s,a){return new Array(n,!0,!1,i,null,0,a,s,null,null)}function PE(n,i){const s=Mn(i,n);if(di(s)){const a=s[1];80&s[2]?Wl(a,s,a.template,s[8]):s[5]>0&&Gl(s)}}function Gl(n){for(let a=nn(n);null!==a;a=Rr(a))for(let u=10;u<a.length;u++){const h=a[u];if(1024&h[2]){const _=h[1];Wl(_,h,_.template,h[8])}else h[5]>0&&Gl(h)}const s=n[1].components;if(null!==s)for(let a=0;a<s.length;a++){const u=Mn(s[a],n);di(u)&&u[5]>0&&Gl(u)}}function V_(n,i){const s=Mn(i,n),a=s[1];(function cn(n,i){for(let s=i.length;s<n.blueprint.length;s++)i.push(n.blueprint[s])})(a,s),hd(a,s,s[8])}function gt(n,i){return n[13]?n[14][4]=i:n[13]=i,n[14]=i,i}function lr(n){for(;n;){n[2]|=64;const i=Ve(n);if(ul(n)&&!i)return n;n=i}return null}function si(n,i,s){const a=i[10];a.begin&&a.begin();try{Wl(n,i,n.template,s)}catch(u){throw hg(i,u),u}finally{a.end&&a.end()}}function j_(n){!function fd(n){for(let i=0;i<n.components.length;i++){const s=n.components[i],a=ju(s),u=a[1];A_(u,a,u.template,s)}}(n[8])}function of(n,i,s){Ho(0),i(n,s)}const dg=(()=>Promise.resolve(null))();function Qu(n){return n[7]||(n[7]=[])}function H_(n){return n.cleanup||(n.cleanup=[])}function hg(n,i){const s=n[9],a=s?s.get(Hu,null):null;a&&a.handleError(i)}function W_(n,i,s,a,u){for(let h=0;h<s.length;){const _=s[h++],v=s[h++],C=i[_],T=n.data[_];null!==T.setInput?T.setInput(C,u,a,v):C[v]=u}}function ca(n,i,s){const a=function Oi(n,i){return Mt(i[n])}(i,n);!function Wu(n,i,s){Ft(n)?n.setValue(i,s):i.textContent=s}(n[11],a,s)}function af(n,i,s){let a=s?n.styles:null,u=s?n.classes:null,h=0;if(null!==i)for(let _=0;_<i.length;_++){const v=i[_];"number"==typeof v?h=v:1==h?u=le(u,v):2==h&&(a=le(a,v+": "+i[++_]+";"))}s?n.styles=a:n.stylesWithoutHost=a,s?n.classes=u:n.classesWithoutHost=u}const Ju=new Wt("INJECTOR",-1);class pd{get(i,s=lo){if(s===lo){const a=new Error(`NullInjectorError: No provider for ${ie(i)}!`);throw a.name="NullInjectorError",a}return s}}const lf=new Wt("Set Injector scope."),oi={},uf={};let Ci;function z_(){return void 0===Ci&&(Ci=new pd),Ci}function Br(n,i=null,s=null,a){const u=Z_(n,i,s,a);return u._resolveInjectorDefTypes(),u}function Z_(n,i=null,s=null,a){return new fg(n,s,i||z_(),a)}class fg{constructor(i,s,a,u=null){this.parent=a,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const h=[];s&&Ir(s,v=>this.processProvider(v,i,s)),Ir([i],v=>this.processInjectorType(v,[],h)),this.records.set(Ju,Zl(void 0,this));const _=this.records.get(lf);this.scope=null!=_?_.value:null,this.source=u||("object"==typeof i?null:ie(i))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(i=>i.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(i,s=lo,a=et.Default){this.assertNotDestroyed();const u=te(this),h=sn(void 0);try{if(!(a&et.SkipSelf)){let v=this.records.get(i);if(void 0===v){const C=function UE(n){return"function"==typeof n||"object"==typeof n&&n instanceof Wt}(i)&&_t(i);v=C&&this.injectableDefInScope(C)?Zl(gd(i),oi):null,this.records.set(i,v)}if(null!=v)return this.hydrate(i,v)}return(a&et.Self?z_():this.parent).get(i,s=a&et.Optional&&s===lo?null:s)}catch(_){if("NullInjectorError"===_.name){if((_[Es]=_[Es]||[]).unshift(ie(i)),u)throw _;return function Tn(n,i,s,a){const u=n[Es];throw i[S]&&u.unshift(i[S]),n.message=function _i(n,i,s,a=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let u=ie(i);if(Array.isArray(i))u=i.map(ie).join(" -> ");else if("object"==typeof i){let h=[];for(let _ in i)if(i.hasOwnProperty(_)){let v=i[_];h.push(_+":"+("string"==typeof v?JSON.stringify(v):ie(v)))}u=`{${h.join(", ")}}`}return`${s}${a?"("+a+")":""}[${u}]: ${n.replace(I,"\n  ")}`}("\n"+n.message,u,s,a),n.ngTokenPath=u,n[Es]=null,n}(_,i,"R3InjectorError",this.source)}throw _}finally{sn(h),te(u)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(i=>this.get(i))}toString(){const i=[];return this.records.forEach((a,u)=>i.push(ie(u))),`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ae(205,!1)}processInjectorType(i,s,a){if(!(i=ee(i)))return!1;let u=Zn(i);const h=null==u&&i.ngModule||void 0,_=void 0===h?i:h,v=-1!==a.indexOf(_);if(void 0!==h&&(u=Zn(h)),null==u)return!1;if(null!=u.imports&&!v){let A;a.push(_);try{Ir(u.imports,O=>{this.processInjectorType(O,s,a)&&(void 0===A&&(A=[]),A.push(O))})}finally{}if(void 0!==A)for(let O=0;O<A.length;O++){const{ngModule:j,providers:q}=A[O];Ir(q,_e=>this.processProvider(_e,j,q||L))}}this.injectorDefTypes.add(_);const C=Hn(_)||(()=>new _);this.records.set(_,Zl(C,oi));const T=u.providers;if(null!=T&&!v){const A=i;Ir(T,O=>this.processProvider(O,A,T))}return void 0!==h&&void 0!==i.providers}processProvider(i,s,a){let u=Xu(i=ee(i))?i:ee(i&&i.provide);const h=function K_(n,i,s){return Kl(n)?Zl(void 0,n.useValue):Zl(function pg(n,i,s){let a;if(Xu(n)){const u=ee(n);return Hn(u)||gd(u)}if(Kl(n))a=()=>ee(n.useValue);else if(function Y_(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...Et(n.deps||[]));else if(function q_(n){return!(!n||!n.useExisting)}(n))a=()=>Me(ee(n.useExisting));else{const u=ee(n&&(n.useClass||n.provide));if(!function LE(n){return!!n.deps}(n))return Hn(u)||gd(u);a=()=>new u(...Et(n.deps))}return a}(n),oi)}(i);if(Xu(i)||!0!==i.multi)this.records.get(u);else{let _=this.records.get(u);_||(_=Zl(void 0,oi,!0),_.factory=()=>Et(_.multi),this.records.set(u,_)),u=i,_.multi.push(i)}this.records.set(u,h)}hydrate(i,s){return s.value===oi&&(s.value=uf,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Yt(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this.onDestroy.add(s.value),s.value}injectableDefInScope(i){if(!i.providedIn)return!1;const s=ee(i.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function gd(n){const i=_t(n),s=null!==i?i.factory:Hn(n);if(null!==s)return s;if(n instanceof Wt)throw new Ae(204,!1);if(n instanceof Function)return function kE(n){const i=n.length;if(i>0)throw function ys(n,i){const s=[];for(let a=0;a<n;a++)s.push(i);return s}(i,"?"),new Ae(204,!1);const s=function dr(n){const i=n&&(n[$r]||n[er]);if(i){const s=function Ln(n){if(n.hasOwnProperty("name"))return n.name;const i=(""+n).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),i}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new Ae(204,!1)}function Zl(n,i,s=!1){return{factory:n,value:i,multi:s?[]:void 0}}function Kl(n){return null!==n&&"object"==typeof n&&F in n}function Xu(n){return"function"==typeof n}let Ms=(()=>{class n{static create(s,a){var u;if(Array.isArray(s))return Br({name:""},a,s,"");{const h=null!==(u=s.name)&&void 0!==u?u:"";return Br({name:h},s.parent,s.providers,h)}}}return n.THROW_IF_NOT_FOUND=lo,n.NULL=new pd,n.\u0275prov=Rt({token:n,providedIn:"any",factory:()=>Me(Ju)}),n.__NG_ELEMENT_ID__=-1,n})();function WE(n,i){Cu(ju(n)[1],$t())}let Yl=null;function ic(){if(!Yl){const n=yt.Symbol;if(n&&n.iterator)Yl=n.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<i.length;++s){const a=i[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Yl=a)}}}return Yl}function vo(n){return!!Ig(n)&&(Array.isArray(n)||!(n instanceof Map)&&ic()in n)}function Ig(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Eo(n,i,s){return n[i]=s}function Or(n,i,s){return!Object.is(n[i],s)&&(n[i]=s,!0)}function yd(n,i,s,a){const u=we();return Or(u,Ni(),i)&&(pt(),Rs(Xt(),u,n,i,s,a)),yd}function el(n,i,s,a){return Or(n,Ni(),s)?i+ue(s)+a:dt}function zt(n,i,s,a,u,h,_,v){const C=we(),T=pt(),A=n+20,O=T.firstCreatePass?function KE(n,i,s,a,u,h,_,v,C){const T=i.consts,A=$l(i,n,4,_||null,kr(T,v));nf(i,s,A,kr(T,C)),Cu(i,A);const O=A.tViews=ef(2,A,a,u,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,T);return null!==i.queries&&(i.queries.template(i,A),O.queries=i.queries.embeddedTView(A)),A}(A,T,C,i,s,a,u,h,_):T.data[A];mr(O,!1);const j=C[11].createComment("");jh(T,C,j,O),Nn(j,C),gt(C,C[A]=ua(j,C,j,O)),Kr(O)&&ng(T,C,O),null!=_&&rg(C,O,v)}function rl(n,i=et.Default){const s=we();return null===s?Me(n,i):Li($t(),s,ee(n),i)}function wf(){throw new Error("invalid")}function Df(n,i,s){const a=we();return Or(a,Ni(),i)&&Pr(pt(),Xt(),a,n,i,a[11],s,!1),Df}function kg(n,i,s,a,u){const _=u?"class":"style";W_(n,s,i.inputs[_],_,a)}function hc(n,i,s,a){const u=we(),h=pt(),_=20+n,v=u[11],C=u[_]=Gu(v,i,function Eu(){return Xe.lFrame.currentNamespace}()),T=h.firstCreatePass?function py(n,i,s,a,u,h,_){const v=i.consts,T=$l(i,n,2,u,kr(v,h));return nf(i,s,T,kr(v,_)),null!==T.attrs&&af(T,T.attrs,!1),null!==T.mergedAttrs&&af(T,T.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,T),T}(_,h,u,0,i,s,a):h.data[_];mr(T,!0);const A=T.mergedAttrs;null!==A&&Ge(v,C,A);const O=T.classes;null!==O&&jp(v,C,O);const j=T.styles;return null!==j&&Vp(v,C,j),64!=(64&T.flags)&&jh(h,u,C,T),0===function Da(){return Xe.lFrame.elementDepthCount}()&&Nn(C,u),function ko(){Xe.lFrame.elementDepthCount++}(),Kr(T)&&(ng(h,u,T),function S_(n,i,s){if(Ca(i)){const u=i.directiveEnd;for(let h=i.directiveStart;h<u;h++){const _=n.data[h];_.contentQueries&&_.contentQueries(1,s[h],h)}}}(h,T,u)),null!==a&&rg(u,T),hc}function bf(){let n=$t();Lo()?function vl(){Xe.lFrame.isParent=!1}():(n=n.parent,mr(n,!1));const i=n;!function gl(){Xe.lFrame.elementDepthCount--}();const s=pt();return s.firstCreatePass&&(Cu(s,n),Ca(n)&&s.queries.elementEnd(n)),null!=i.classesWithoutHost&&function wu(n){return 0!=(16&n.flags)}(i)&&kg(s,i,we(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function ch(n){return 0!=(32&n.flags)}(i)&&kg(s,i,we(),i.stylesWithoutHost,!1),bf}function Fg(n,i,s,a){return hc(n,i,s,a),bf(),Fg}function Bg(n){return!!n&&"function"==typeof n.then}function Vg(n){return!!n&&"function"==typeof n.subscribe}const jg=Vg;function Hg(n,i,s,a){const u=we(),h=pt(),_=$t();return function Wg(n,i,s,a,u,h,_,v){const C=Kr(a),A=n.firstCreatePass&&H_(n),O=i[8],j=Qu(i);let q=!0;if(3&a.type||v){const Ue=Rn(a,i),ze=v?v(Ue):Ue,be=j.length,rt=v?St=>v(Mt(St[a.index])):a.index;if(Ft(s)){let St=null;if(!v&&C&&(St=function Tf(n,i,s,a){const u=n.cleanup;if(null!=u)for(let h=0;h<u.length-1;h+=2){const _=u[h];if(_===s&&u[h+1]===a){const v=i[7],C=u[h+2];return v.length>C?v[C]:null}"string"==typeof _&&(h+=2)}return null}(n,i,u,a.index)),null!==St)(St.__ngLastListenerFn__||St).__ngNextListenerFn__=h,St.__ngLastListenerFn__=h,q=!1;else{h=Gg(a,i,O,h,!1);const Ht=s.listen(ze,u,h);j.push(h,Ht),A&&A.push(u,rt,be,be+1)}}else h=Gg(a,i,O,h,!0),ze.addEventListener(u,h,_),j.push(h),A&&A.push(u,rt,be,_)}else h=Gg(a,i,O,h,!1);const _e=a.outputs;let Pe;if(q&&null!==_e&&(Pe=_e[u])){const Ue=Pe.length;if(Ue)for(let ze=0;ze<Ue;ze+=2){const Bs=i[Pe[ze]][Pe[ze+1]].subscribe(h),th=j.length;j.push(h,Bs),A&&A.push(u,a.index,th,-(th+1))}}}(h,u,u[11],_,n,i,!!s,a),Hg}function _y(n,i,s,a){try{return!1!==s(a)}catch(u){return hg(n,u),!1}}function Gg(n,i,s,a,u){return function h(_){if(_===Function)return a;const v=2&n.flags?Mn(n.index,i):i;0==(32&i[2])&&lr(v);let C=_y(i,0,a,_),T=h.__ngNextListenerFn__;for(;T;)C=_y(i,0,T,_)&&C,T=T.__ngNextListenerFn__;return u&&!1===C&&(_.preventDefault(),_.returnValue=!1),C}}function yy(n=1){return function ei(n){return(Xe.lFrame.contextLView=function Oc(n,i){for(;n>0;)i=i[15],n--;return i}(n,Xe.lFrame.contextLView))[8]}(n)}function Id(n,i,s,a,u){const h=we(),_=el(h,i,s,a);return _!==dt&&Pr(pt(),Xt(),h,n,_,h[11],u,!1),Id}function Ad(n,i=""){const s=we(),a=pt(),u=n+20,h=a.firstCreatePass?$l(a,u,1,i,null):a.data[u],_=s[u]=function $u(n,i){return Ft(n)?n.createText(i):n.createTextNode(i)}(s[11],i);jh(a,s,_,h),mr(h,!1)}function Pf(n){return xf("",n,""),Pf}function xf(n,i,s){const a=we(),u=el(a,n,i,s);return u!==dt&&ca(a,In(),u),xf}const Xl=void 0;var C0=["en",[["a","p"],["AM","PM"],Xl],[["AM","PM"],Xl,Xl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xl,"{1} 'at' {0}",Xl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function hm(n){const s=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let yc={};function Lf(n){const i=function I0(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=$y(i);if(s)return s;const a=i.split("-")[0];if(s=$y(a),s)return s;if("en"===a)return C0;throw new Error(`Missing locale data for the locale "${n}".`)}function Hy(n){return Lf(n)[nt.PluralCase]}function $y(n){return n in yc||(yc[n]=yt.ng&&yt.ng.common&&yt.ng.common.locales&&yt.ng.common.locales[n]),yc[n]}var nt=(()=>((nt=nt||{})[nt.LocaleId=0]="LocaleId",nt[nt.DayPeriodsFormat=1]="DayPeriodsFormat",nt[nt.DayPeriodsStandalone=2]="DayPeriodsStandalone",nt[nt.DaysFormat=3]="DaysFormat",nt[nt.DaysStandalone=4]="DaysStandalone",nt[nt.MonthsFormat=5]="MonthsFormat",nt[nt.MonthsStandalone=6]="MonthsStandalone",nt[nt.Eras=7]="Eras",nt[nt.FirstDayOfWeek=8]="FirstDayOfWeek",nt[nt.WeekendRange=9]="WeekendRange",nt[nt.DateFormat=10]="DateFormat",nt[nt.TimeFormat=11]="TimeFormat",nt[nt.DateTimeFormat=12]="DateTimeFormat",nt[nt.NumberSymbols=13]="NumberSymbols",nt[nt.NumberFormats=14]="NumberFormats",nt[nt.CurrencyCode=15]="CurrencyCode",nt[nt.CurrencySymbol=16]="CurrencySymbol",nt[nt.CurrencyName=17]="CurrencyName",nt[nt.Currencies=18]="Currencies",nt[nt.Directionality=19]="Directionality",nt[nt.PluralCase=20]="PluralCase",nt[nt.ExtraData=21]="ExtraData",nt))();const Uf="en-US";let pm=Uf;class yv{}class al{resolveComponentFactory(i){throw function eC(n){const i=Error(`No component factory found for ${ie(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let kn=(()=>{class n{}return n.NULL=new al,n})();function wi(){return wo($t(),we())}function wo(n,i){return new Ud(Rn(n,i))}let Ud=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=wi,n})();function tC(n){return n instanceof Ud?n.nativeElement:n}class Ev{}let Wf=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function rC(){const n=we(),s=Mn($t().index,n);return function nC(n){return n[11]}(sr(s)?s:n)}(),n})(),Cv=(()=>{class n{}return n.\u0275prov=Rt({token:n,providedIn:"root",factory:()=>null}),n})();class Sm{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Gf=new Sm("13.2.7"),zf={};function nu(n,i,s,a,u=!1){for(;null!==s;){const h=i[s.index];if(null!==h&&a.push(Mt(h)),Zr(h))for(let v=10;v<h.length;v++){const C=h[v],T=C[1].firstChild;null!==T&&nu(C[1],C,T,a)}const _=s.type;if(8&_)nu(n,i,s.child,a);else if(32&_){const v=z(s,i);let C;for(;C=v();)a.push(C)}else if(16&_){const v=h_(i,s);if(Array.isArray(v))a.push(...v);else{const C=Ve(i[16]);nu(C[1],C,v,a,!0)}}s=u?s.projectionNext:s.next}return a}class Bd{constructor(i,s){this._lView=i,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,s=i[1];return nu(s,i,s.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(Zr(i)){const s=i[8],a=s?s.indexOf(this):-1;a>-1&&(Mp(i,a),_s(s,a))}this._attachedToViewContainer=!1}Pp(this._lView[1],this._lView)}onDestroy(i){x_(this._lView[1],this._lView,null,i)}markForCheck(){lr(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){si(this._lView[1],this._lView,this.context)}checkNoChanges(){!function OE(n,i,s){Ta(!0);try{si(n,i,s)}finally{Ta(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Ae(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function id(n,i){Hh(n,i,i[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Ae(902,"");this._appRef=i}}class UI extends Bd{constructor(i){super(i),this._view=i}detectChanges(){j_(this._view)}checkNoChanges(){!function NE(n){Ta(!0);try{j_(n)}finally{Ta(!1)}}(this._view)}get context(){return null}}class Iv extends kn{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const s=_n(i);return new Rm(s,this.ngModule)}}function Zf(n){const i=[];for(let s in n)n.hasOwnProperty(s)&&i.push({propName:n[s],templateName:s});return i}class Rm extends yv{constructor(i,s){super(),this.componentDef=i,this.ngModule=s,this.componentType=i.type,this.selector=function __(n){return n.map($p).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return Zf(this.componentDef.inputs)}get outputs(){return Zf(this.componentDef.outputs)}create(i,s,a,u){const h=(u=u||this.ngModule)?function VI(n,i){return{get:(s,a,u)=>{const h=n.get(s,zf,u);return h!==zf||a===zf?h:i.get(s,a,u)}}}(i,u.injector):i,_=h.get(Ev,xo),v=h.get(Cv,null),C=_.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",A=a?function P_(n,i,s){if(Ft(n))return n.selectRootElement(i,s===wt.ShadowDom);let a="string"==typeof i?n.querySelector(i):i;return a.textContent="",a}(C,a,this.componentDef.encapsulation):Gu(_.createRenderer(null,this.componentDef),T,function BI(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(T)),O=this.componentDef.onPush?576:528,j=function rc(n,i){return{components:[],scheduler:n||Ap,clean:dg,playerHandler:i||null,flags:0}}(),q=ef(0,null,null,1,0,null,null,null,null,null),_e=dd(null,q,j,O,null,null,_,C,v,h);let Pe,Ue;Ks(_e);try{const ze=function ey(n,i,s,a,u,h){const _=s[1];s[20]=n;const C=$l(_,20,2,"#host",null),T=C.mergedAttrs=i.hostAttrs;null!==T&&(af(C,T,!0),null!==n&&(Ge(u,n,T),null!==C.classes&&jp(u,n,C.classes),null!==C.styles&&Vp(u,n,C.styles)));const A=a.createRenderer(n,i),O=dd(s,R_(i),null,i.onPush?64:16,s[20],C,a,A,h||null,null);return _.firstCreatePass&&(xn(en(C,s),_,i.type),ag(_,C),lg(C,s.length,1)),gt(s,O),s[20]=O}(A,this.componentDef,_e,_,C);if(A)if(a)Ge(C,A,["ng-version",Gf.full]);else{const{attrs:be,classes:rt}=function EE(n){const i=[],s=[];let a=1,u=2;for(;a<n.length;){let h=n[a];if("string"==typeof h)2===u?""!==h&&i.push(h,n[++a]):8===u&&s.push(h);else{if(!Ts(u))break;u=h}a++}return{attrs:i,classes:s}}(this.componentDef.selectors[0]);be&&Ge(C,A,be),rt&&rt.length>0&&jp(C,A,rt.join(" "))}if(Ue=Kt(q,20),void 0!==s){const be=Ue.projection=[];for(let rt=0;rt<this.ngContentSelectors.length;rt++){const St=s[rt];be.push(null!=St?Array.from(St):null)}}Pe=function pf(n,i,s,a,u){const h=s[1],_=function sg(n,i,s){const a=$t();n.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),ug(n,a,i,Ku(n,i,1,null),s));const u=io(i,n,a.directiveStart,a);Nn(u,i);const h=Rn(a,i);return h&&Nn(h,i),u}(h,s,i);if(a.components.push(_),n[8]=_,u&&u.forEach(C=>C(_,i)),i.contentQueries){const C=$t();i.contentQueries(1,_,C.directiveStart)}const v=$t();return!h.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(ti(v.index),k_(s[1],v,0,v.directiveStart,v.directiveEnd,i),og(i,_)),_}(ze,this.componentDef,_e,j,[WE]),hd(q,_e,null)}finally{Ys()}return new jI(this.componentType,Pe,wo(Ue,_e),_e,Ue)}}class jI extends class _v{}{constructor(i,s,a,u,h){super(),this.location=a,this._rootLView=u,this._tNode=h,this.instance=s,this.hostView=this.changeDetectorRef=new UI(u),this.componentType=i}get injector(){return new hs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}class Vd{}class sC{}const jd=new Map;class Xi extends Vd{constructor(i,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Iv(this);const a=yn(i);this._bootstrapComponents=vi(a.bootstrap),this._r3Injector=Z_(i,s,[{provide:Vd,useValue:this},{provide:kn,useValue:this.componentFactoryResolver}],ie(i)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(i)}get(i,s=Ms.THROW_IF_NOT_FOUND,a=et.Default){return i===Ms||i===Vd||i===Ju?this:this._r3Injector.get(i,s,a)}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class wc extends sC{constructor(i){super(),this.moduleType=i,null!==yn(i)&&function wv(n){const i=new Set;!function s(a){const u=yn(a,!0),h=u.id;null!==h&&(function oC(n,i,s){if(i&&i!==s)throw new Error(`Duplicate module registered for ${n} - ${ie(i)} vs ${ie(i.name)}`)}(h,jd.get(h),a),jd.set(h,a));const _=vi(u.imports);for(const v of _)i.has(v)||(i.add(v),s(v))}(n)}(i)}create(i){return new Xi(this.moduleType,i)}}function Kf(n,i,s){const a=ln()+n,u=we();return u[a]===dt?Eo(u,a,s?i.call(s):i()):function sc(n,i){return n[i]}(u,a)}function Mm(n,i,s,a,u,h){const _=i+s;return Or(n,_,u)?Eo(n,_+1,h?a.call(h,u):a(u)):function ll(n,i){const s=n[i];return s===dt?void 0:s}(n,_+1)}function Qf(n,i){const s=pt();let a;const u=n+20;s.firstCreatePass?(a=function pC(n,i){if(i)for(let s=i.length-1;s>=0;s--){const a=i[s];if(n===a.name)return a}}(i,s.pipeRegistry),s.data[u]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(u,a.onDestroy)):a=s.data[u];const h=a.factory||(a.factory=Hn(a.type)),_=sn(rl);try{const v=vr(!1),C=h();return vr(v),function xs(n,i,s,a){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),i[s]=a}(s,we(),u,C),C}finally{sn(_)}}function Av(n,i,s){const a=n+20,u=we(),h=function Jr(n,i){return n[i]}(u,a);return function Dc(n,i){return n[1].data[i].pure}(u,a)?Mm(u,ln(),i,h.transform,s,h):h.transform(s)}function Xf(n){return i=>{setTimeout(n,void 0,i)}}const Do=class Jf extends g.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,s,a){var u,h,_;let v=i,C=s||(()=>null),T=a;if(i&&"object"==typeof i){const O=i;v=null===(u=O.next)||void 0===u?void 0:u.bind(O),C=null===(h=O.error)||void 0===h?void 0:h.bind(O),T=null===(_=O.complete)||void 0===_?void 0:_.bind(O)}this.__isAsync&&(C=Xf(C),v&&(v=Xf(v)),T&&(T=Xf(T)));const A=super.subscribe({next:v,error:C,complete:T});return i instanceof Q.w0&&i.add(A),A}};function yC(){return this._results[ic()]()}class Pm{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=ic(),a=Pm.prototype;a[s]||(a[s]=yC)}get changes(){return this._changes||(this._changes=new Do)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,s){return this._results.reduce(i,s)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,s){const a=this;a.dirty=!1;const u=Cr(i);(this._changesDetected=!function Sl(n,i,s){if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++){let u=n[a],h=i[a];if(s&&(u=s(u),h=s(h)),h!==u)return!1}return!0}(a._results,u,s))&&(a._results=u,a.length=u.length,a.last=u[this.length-1],a.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Wd=(()=>{class n{}return n.__NG_ELEMENT_ID__=Rv,n})();const Sv=Wd,xm=class extends Sv{constructor(i,s,a){super(),this._declarationLView=i,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(i){const s=this._declarationTContainer.tViews,a=dd(this._declarationLView,s,i,16,null,s.declTNode,null,null,null,null);a[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[19];return null!==h&&(a[19]=h.createEmbeddedView(s)),hd(s,a,i),new Bd(a)}};function Rv(){return bc($t(),we())}function bc(n,i){return 4&n.type?new xm(i,n,wo(n,i)):null}let Gd=(()=>{class n{}return n.__NG_ELEMENT_ID__=zd,n})();function zd(){return tp($t(),we())}const vC=Gd,ep=class extends vC{constructor(i,s,a){super(),this._lContainer=i,this._hostTNode=s,this._hostLView=a}get element(){return wo(this._hostTNode,this._hostLView)}get injector(){return new hs(this._hostTNode,this._hostLView)}get parentInjector(){const i=ki(this._hostTNode,this._hostLView);if(Du(i)){const s=jt(i,this._hostLView),a=ni(i);return new hs(s[1].data[a+8],s)}return new hs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const s=Om(this._lContainer);return null!==s&&s[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,s,a){const u=i.createEmbeddedView(s||{});return this.insert(u,a),u}createComponent(i,s,a,u,h){const _=i&&!function ms(n){return"function"==typeof n}(i);let v;if(_)v=s;else{const O=s||{};v=O.index,a=O.injector,u=O.projectableNodes,h=O.ngModuleRef}const C=_?i:new Rm(_n(i)),T=a||this.parentInjector;if(!h&&null==C.ngModule){const j=(_?T:this.parentInjector).get(Vd,null);j&&(h=j)}const A=C.create(T,u,void 0,h);return this.insert(A.hostView,v),A}insert(i,s){const a=i._lView,u=a[1];if(function No(n){return Zr(n[3])}(a)){const A=this.indexOf(i);if(-1!==A)this.detach(A);else{const O=a[3],j=new ep(O,O[6],O[3]);j.detach(j.indexOf(i))}}const h=this._adjustIndex(s),_=this._lContainer;!function Ka(n,i,s,a){const u=10+a,h=s.length;a>0&&(s[u-1][4]=i),a<h-10?(i[4]=s[u],oo(s,10+a,i)):(s.push(i),i[4]=null),i[3]=s;const _=i[17];null!==_&&s!==_&&function qa(n,i){const s=n[9];i[16]!==i[3][3][16]&&(n[2]=!0),null===s?n[9]=[i]:s.push(i)}(_,i);const v=i[19];null!==v&&v.insertView(n),i[2]|=128}(u,a,_,h);const v=Fp(h,_),C=a[11],T=od(C,_[7]);return null!==T&&function rd(n,i,s,a,u,h){a[0]=u,a[6]=i,Hh(n,a,s,1,u,h)}(u,_[6],C,a,T,v),i.attachToViewContainerRef(),oo(Nm(_),h,i),i}move(i,s){return this.insert(i,s)}indexOf(i){const s=Om(this._lContainer);return null!==s?s.indexOf(i):-1}remove(i){const s=this._adjustIndex(i,-1),a=Mp(this._lContainer,s);a&&(_s(Nm(this._lContainer),s),Pp(a[1],a))}detach(i){const s=this._adjustIndex(i,-1),a=Mp(this._lContainer,s);return a&&null!=_s(Nm(this._lContainer),s)?new Bd(a):null}_adjustIndex(i,s=0){return null==i?this.length+s:i}};function Om(n){return n[8]}function Nm(n){return n[8]||(n[8]=[])}function tp(n,i){let s;const a=i[n.index];if(Zr(a))s=a;else{let u;if(8&n.type)u=Mt(a);else{const h=i[11];u=h.createComment("");const _=Rn(n,i);Ei(h,od(h,_),u,function mE(n,i){return Ft(n)?n.nextSibling(i):i.nextSibling}(h,_),!1)}i[n.index]=s=ua(a,i,u,n),gt(i,s)}return new ep(s,n,i)}class km{constructor(i){this.queryList=i,this.matches=null}clone(){return new km(this.queryList)}setDirty(){this.queryList.setDirty()}}class Fm{constructor(i=[]){this.queries=i}createEmbeddedView(i){const s=i.queries;if(null!==s){const a=null!==i.contentQueries?i.contentQueries[0]:s.length,u=[];for(let h=0;h<a;h++){const _=s.getByIndex(h);u.push(this.queries[_.indexInDeclarationView].clone())}return new Fm(u)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let s=0;s<this.queries.length;s++)null!==Vv(i,s).matches&&this.queries[s].setDirty()}}class Ov{constructor(i,s,a=null){this.predicate=i,this.flags=s,this.read=a}}class Tc{constructor(i=[]){this.queries=i}elementStart(i,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(i,s)}elementEnd(i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(i)}embeddedTView(i){let s=null;for(let a=0;a<this.length;a++){const u=null!==s?s.length:0,h=this.getByIndex(a).embeddedTView(i,u);h&&(h.indexInDeclarationView=a,null!==s?s.push(h):s=[h])}return null!==s?new Tc(s):null}template(i,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(i,s)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class Zd{constructor(i,s=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(i,s){this.isApplyingToNode(s)&&this.matchTNode(i,s)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,s){this.elementStart(i,s)}embeddedTView(i,s){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,s),new Zd(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=i.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(i,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let u=0;u<a.length;u++){const h=a[u];this.matchTNodeWithReadOption(i,s,Lm(s,h)),this.matchTNodeWithReadOption(i,s,ro(s,i,h,!1,!1))}else a===Wd?4&s.type&&this.matchTNodeWithReadOption(i,s,-1):this.matchTNodeWithReadOption(i,s,ro(s,i,a,!1,!1))}matchTNodeWithReadOption(i,s,a){if(null!==a){const u=this.metadata.read;if(null!==u)if(u===Ud||u===Gd||u===Wd&&4&s.type)this.addMatch(s.index,-2);else{const h=ro(s,i,u,!1,!1);null!==h&&this.addMatch(s.index,h)}else this.addMatch(s.index,a)}}addMatch(i,s){null===this.matches?this.matches=[i,s]:this.matches.push(i,s)}}function Lm(n,i){const s=n.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===i)return s[a+1];return null}function Nv(n,i,s,a){return-1===s?function Um(n,i){return 11&n.type?wo(n,i):4&n.type?bc(n,i):null}(i,n):-2===s?function EC(n,i,s){return s===Ud?wo(i,n):s===Wd?bc(i,n):s===Gd?tp(i,n):void 0}(n,i,a):io(n,n[1],s,i)}function Bm(n,i,s,a){const u=i[19].queries[a];if(null===u.matches){const h=n.data,_=s.matches,v=[];for(let C=0;C<_.length;C+=2){const T=_[C];v.push(T<0?null:Nv(i,h[T],_[C+1],s.metadata.read))}u.matches=v}return u.matches}function Ac(n,i,s,a){const u=n.queries.getByIndex(s),h=u.matches;if(null!==h){const _=Bm(n,i,u,s);for(let v=0;v<h.length;v+=2){const C=h[v];if(C>0)a.push(_[v/2]);else{const T=h[v+1],A=i[-C];for(let O=10;O<A.length;O++){const j=A[O];j[17]===j[3]&&Ac(j[1],j,T,a)}if(null!==A[9]){const O=A[9];for(let j=0;j<O.length;j++){const q=O[j];Ac(q[1],q,T,a)}}}}}return a}function kv(n){const i=we(),s=pt(),a=Il();Ho(a+1);const u=Vv(s,a);if(n.dirty&&as(i)===(2==(2&u.metadata.flags))){if(null===u.matches)n.reset([]);else{const h=u.crossesNgTemplate?Ac(s,i,a,[]):Bm(s,i,u,a);n.reset(h,tC),n.notifyOnChanges()}return!0}return!1}function Fv(n,i,s,a){const u=pt();if(u.firstCreatePass){const h=$t();(function Bv(n,i,s){null===n.queries&&(n.queries=new Tc),n.queries.track(new Zd(i,s))})(u,new Ov(i,s,a),h.index),function wC(n,i){const s=n.contentQueries||(n.contentQueries=[]);i!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,i)}(u,n),2==(2&s)&&(u.staticContentQueries=!0)}!function Uv(n,i,s){const a=new Pm(4==(4&s));x_(n,i,a,a.destroy),null===i[19]&&(i[19]=new Fm),i[19].queries.push(new km(a))}(u,we(),s)}function Lv(){return function IC(n,i){return n[19].queries[i].queryList}(we(),Il())}function Vv(n,i){return n.queries.getByIndex(i)}function Jd(...n){}const Sc=new Wt("Application Initializer");let zm=(()=>{class n{constructor(s){this.appInits=s,this.resolve=Jd,this.reject=Jd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,u)=>{this.resolve=a,this.reject=u})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const h=this.appInits[u]();if(Bg(h))s.push(h);else if(jg(h)){const _=new Promise((v,C)=>{h.subscribe({complete:v,error:C})});s.push(_)}}Promise.all(s).then(()=>{a()}).catch(u=>{this.reject(u)}),0===s.length&&a(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(Me(Sc,8))},n.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Zm=new Wt("AppId",{providedIn:"root",factory:function rE(){return`${ip()}${ip()}${ip()}`}});function ip(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Km=new Wt("Platform Initializer"),qm=new Wt("Platform ID"),iE=new Wt("appBootstrapListener");let sE=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Rt({token:n,factory:n.\u0275fac}),n})();const Ym=new Wt("LocaleId",{providedIn:"root",factory:()=>Qe(Ym,et.Optional|et.SkipSelf)||function oE(){return"undefined"!=typeof $localize&&$localize.locale||Uf}()}),BC=new Wt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class jC{constructor(i,s){this.ngModuleFactory=i,this.componentFactories=s}}let HC=(()=>{class n{compileModuleSync(s){return new wc(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),h=vi(yn(s).declarations).reduce((_,v)=>{const C=_n(v);return C&&_.push(new Rm(C)),_},[]);return new jC(a,h)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $C=(()=>Promise.resolve(0))();function Qm(n){"undefined"==typeof Zone?$C.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ls{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Do(!1),this.onMicrotaskEmpty=new Do(!1),this.onStable=new Do(!1),this.onError=new Do(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!a&&s,u.shouldCoalesceRunChangeDetection=a,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function WC(){let n=yt.requestAnimationFrame,i=yt.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&i){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function zC(n){const i=()=>{!function GC(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(yt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Jm(n),n.isCheckStableRunning=!0,aE(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Jm(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,u,h,_,v)=>{try{return lE(n),s.invokeTask(u,h,_,v)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||n.shouldCoalesceRunChangeDetection)&&i(),uE(n)}},onInvoke:(s,a,u,h,_,v,C)=>{try{return lE(n),s.invoke(u,h,_,v,C)}finally{n.shouldCoalesceRunChangeDetection&&i(),uE(n)}},onHasTask:(s,a,u,h)=>{s.hasTask(u,h),a===u&&("microTask"==h.change?(n._hasPendingMicrotasks=h.microTask,Jm(n),aE(n)):"macroTask"==h.change&&(n.hasPendingMacrotasks=h.macroTask))},onHandleError:(s,a,u,h)=>(s.handleError(u,h),n.runOutsideAngular(()=>n.onError.emit(h)),!1)})}(u)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ls.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ls.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(i,s,a){return this._inner.run(i,s,a)}runTask(i,s,a,u){const h=this._inner,_=h.scheduleEventTask("NgZoneEvent: "+u,i,rw,Jd,Jd);try{return h.runTask(_,s,a)}finally{h.cancelTask(_)}}runGuarded(i,s,a){return this._inner.runGuarded(i,s,a)}runOutsideAngular(i){return this._outer.run(i)}}const rw={};function aE(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Jm(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function lE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function uE(n){n._nesting--,aE(n)}class ZC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Do,this.onMicrotaskEmpty=new Do,this.onStable=new Do,this.onError=new Do}run(i,s,a){return i.apply(s,a)}runGuarded(i,s,a){return i.apply(s,a)}runOutsideAngular(i){return i()}runTask(i,s,a,u){return i.apply(s,a)}}let cE=(()=>{class n{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ls.assertNotInAngularZone(),Qm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Qm(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,u){let h=-1;a&&a>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==h),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:h,updateCb:u})}whenStable(s,a,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,a,u){return[]}}return n.\u0275fac=function(s){return new(s||n)(Me(Ls))},n.\u0275prov=Rt({token:n,factory:n.\u0275fac}),n})(),dE=(()=>{class n{constructor(){this._applications=new Map,Xm.addToWindow(this)}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return Xm.findTestabilityInTree(this,s,a)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Rt({token:n,factory:n.\u0275fac}),n})();class KC{addToWindow(i){}findTestabilityInTree(i,s,a){return null}}function qC(n){Xm=n}let Us,Xm=new KC;const r=new Wt("AllowMultipleToken");class t{constructor(i,s){this.name=i,this.token=s}}function o(n,i,s=[]){const a=`Platform: ${i}`,u=new Wt(a);return(h=[])=>{let _=p();if(!_||_.injector.get(r,!1))if(n)n(s.concat(h).concat({provide:u,useValue:!0}));else{const v=s.concat(h).concat({provide:u,useValue:!0},{provide:lf,useValue:"platform"});!function e(n){if(Us&&!Us.destroyed&&!Us.injector.get(r,!1))throw new Ae(400,"");Us=n.get(E);const i=n.get(Km,null);i&&i.forEach(s=>s())}(Ms.create({providers:v,name:a}))}return function l(n){const i=p();if(!i)throw new Ae(401,"");return i}()}}function p(){return Us&&!Us.destroyed?Us:null}let E=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const v=function D(n,i){let s;return s="noop"===n?new ZC:("zone.js"===n?void 0:n)||new Ls({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==i?void 0:i.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==i?void 0:i.ngZoneRunCoalescing)}),s}(a?a.ngZone:void 0,{ngZoneEventCoalescing:a&&a.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:a&&a.ngZoneRunCoalescing||!1}),C=[{provide:Ls,useValue:v}];return v.run(()=>{const T=Ms.create({providers:C,parent:this.injector,name:s.moduleType.name}),A=s.create(T),O=A.injector.get(Hu,null);if(!O)throw new Ae(402,"");return v.runOutsideAngular(()=>{const j=v.onError.subscribe({next:q=>{O.handleError(q)}});A.onDestroy(()=>{J(this._modules,A),j.unsubscribe()})}),function R(n,i,s){try{const a=s();return Bg(a)?a.catch(u=>{throw i.runOutsideAngular(()=>n.handleError(u)),u}):a}catch(a){throw i.runOutsideAngular(()=>n.handleError(a)),a}}(O,v,()=>{const j=A.injector.get(zm);return j.runInitializers(),j.donePromise.then(()=>(function Gy(n){mt(n,"Expected localeId to be defined"),"string"==typeof n&&(pm=n.toLowerCase().replace(/_/g,"-"))}(A.injector.get(Ym,Uf)||Uf),this._moduleDoBootstrap(A),A))})})}bootstrapModule(s,a=[]){const u=U({},a);return function YC(n,i,s){const a=new wc(s);return Promise.resolve(a)}(0,0,s).then(h=>this.bootstrapModuleFactory(h,u))}_moduleDoBootstrap(s){const a=s.injector.get(k);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(u=>a.bootstrap(u));else{if(!s.instance.ngDoBootstrap)throw new Ae(403,"");s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ae(404,"");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(Me(Ms))},n.\u0275prov=Rt({token:n,factory:n.\u0275fac}),n})();function U(n,i){return Array.isArray(i)?i.reduce(U,n):Object.assign(Object.assign({},n),i)}let k=(()=>{class n{constructor(s,a,u,h,_){this._zone=s,this._injector=a,this._exceptionHandler=u,this._componentFactoryResolver=h,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new x.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),C=new x.y(T=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{Ls.assertNotInAngularZone(),Qm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const O=this._zone.onUnstable.subscribe(()=>{Ls.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{A.unsubscribe(),O.unsubscribe()}});this.isStable=(0,oe.T)(v,C.pipe((0,ne.B)()))}bootstrap(s,a){if(!this._initStatus.done)throw new Ae(405,"");let u;u=s instanceof yv?s:this._componentFactoryResolver.resolveComponentFactory(s),this.componentTypes.push(u.componentType);const h=function JC(n){return n.isBoundToModule}(u)?void 0:this._injector.get(Vd),v=u.create(Ms.NULL,[],a||u.selector,h),C=v.location.nativeElement,T=v.injector.get(cE,null),A=T&&v.injector.get(dE);return T&&A&&A.registerApplication(C,T),v.onDestroy(()=>{this.detachView(v.hostView),J(this.components,v),A&&A.unregisterApplication(C)}),this._loadComponent(v),v}tick(){if(this._runningTick)throw new Ae(101,"");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;J(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(iE,[]).concat(this._bootstrapListeners).forEach(u=>u(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(s){return new(s||n)(Me(Ls),Me(Ms),Me(Hu),Me(kn),Me(zm))},n.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function J(n,i){const s=n.indexOf(i);s>-1&&n.splice(s,1)}let at=!0,bt=!1;function Fn(){return bt=!0,at}function Qt(){if(bt)throw new Error("Cannot enable prod mode after platform setup.");at=!1}let iu=(()=>{class n{}return n.__NG_ELEMENT_ID__=Cw,n})();function Cw(n){return function Iw(n,i,s){if(ou(n)&&!s){const a=Mn(n.index,i);return new Bd(a,a)}return 47&n.type?new Bd(i[16],i):null}($t(),we(),16==(16&n))}class ow{constructor(){}supports(i){return vo(i)}create(i){return new Sw(i)}}const Aw=(n,i)=>i;class Sw{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||Aw}forEachItem(i){let s;for(s=this._itHead;null!==s;s=s._next)i(s)}forEachOperation(i){let s=this._itHead,a=this._removalsHead,u=0,h=null;for(;s||a;){const _=!a||s&&s.currentIndex<lw(a,u,h)?s:a,v=lw(_,u,h),C=_.currentIndex;if(_===a)u--,a=a._nextRemoved;else if(s=s._next,null==_.previousIndex)u++;else{h||(h=[]);const T=v-u,A=C-u;if(T!=A){for(let j=0;j<T;j++){const q=j<h.length?h[j]:h[j]=0,_e=q+j;A<=_e&&_e<T&&(h[j]=q+1)}h[_.previousIndex]=A-T}}v!==C&&i(_,v,C)}}forEachPreviousItem(i){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachMovedItem(i){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}forEachIdentityChange(i){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)i(s)}diff(i){if(null==i&&(i=[]),!vo(i))throw new Ae(900,"");return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let u,h,_,s=this._itHead,a=!1;if(Array.isArray(i)){this.length=i.length;for(let v=0;v<this.length;v++)h=i[v],_=this._trackByFn(v,h),null!==s&&Object.is(s.trackById,_)?(a&&(s=this._verifyReinsertion(s,h,_,v)),Object.is(s.item,h)||this._addIdentityChange(s,h)):(s=this._mismatch(s,h,_,v),a=!0),s=s._next}else u=0,function Cg(n,i){if(Array.isArray(n))for(let s=0;s<n.length;s++)i(n[s]);else{const s=n[ic()]();let a;for(;!(a=s.next()).done;)i(a.value)}}(i,v=>{_=this._trackByFn(u,v),null!==s&&Object.is(s.trackById,_)?(a&&(s=this._verifyReinsertion(s,v,_,u)),Object.is(s.item,v)||this._addIdentityChange(s,v)):(s=this._mismatch(s,v,_,u),a=!0),s=s._next,u++}),this.length=u;return this._truncate(s),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,s,a,u){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._reinsertAfter(i,h,u)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(a,u))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._moveAfter(i,h,u)):i=this._addAfter(new Rw(s,a),h,u),i}_verifyReinsertion(i,s,a,u){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?i=this._reinsertAfter(h,i._prev,u):i.currentIndex!=u&&(i.currentIndex=u,this._addToMoves(i,u)),i}_truncate(i){for(;null!==i;){const s=i._next;this._addToRemovals(this._unlink(i)),i=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const u=i._prevRemoved,h=i._nextRemoved;return null===u?this._removalsHead=h:u._nextRemoved=h,null===h?this._removalsTail=u:h._prevRemoved=u,this._insertAfter(i,s,a),this._addToMoves(i,a),i}_moveAfter(i,s,a){return this._unlink(i),this._insertAfter(i,s,a),this._addToMoves(i,a),i}_addAfter(i,s,a){return this._insertAfter(i,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,s,a){const u=null===s?this._itHead:s._next;return i._next=u,i._prev=s,null===u?this._itTail=i:u._prev=i,null===s?this._itHead=i:s._next=i,null===this._linkedRecords&&(this._linkedRecords=new aw),this._linkedRecords.put(i),i.currentIndex=a,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const s=i._prev,a=i._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,i}_addToMoves(i,s){return i.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new aw),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,s){return i.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class Rw{constructor(i,s){this.item=i,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Mw{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,i))return a;return null}remove(i){const s=i._prevDup,a=i._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class aw{constructor(){this.map=new Map}put(i){const s=i.trackById;let a=this.map.get(s);a||(a=new Mw,this.map.set(s,a)),a.add(i)}get(i,s){const u=this.map.get(i);return u?u.get(i,s):null}remove(i){const s=i.trackById;return this.map.get(s).remove(i)&&this.map.delete(s),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function lw(n,i,s){const a=n.previousIndex;if(null===a)return a;let u=0;return s&&a<s.length&&(u=s[a]),a+i+u}class uw{constructor(){}supports(i){return i instanceof Map||Ig(i)}create(){return new Pw}}class Pw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let s;for(s=this._mapHead;null!==s;s=s._next)i(s)}forEachPreviousItem(i){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)i(s)}forEachChangedItem(i){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}diff(i){if(i){if(!(i instanceof Map||Ig(i)))throw new Ae(900,"")}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(i,(a,u)=>{if(s&&s.key===u)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const h=this._getOrCreateRecordForKey(u,a);s=this._insertBeforeOrAppend(s,h)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,s){if(i){const a=i._prev;return s._next=i,s._prev=a,i._prev=s,a&&(a._next=s),i===this._mapHead&&(this._mapHead=s),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(i,s){if(this._records.has(i)){const u=this._records.get(i);this._maybeAddToChanges(u,s);const h=u._prev,_=u._next;return h&&(h._next=_),_&&(_._prev=h),u._next=null,u._prev=null,u}const a=new xw(i);return this._records.set(i,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,s){Object.is(s,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=s,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,s){i instanceof Map?i.forEach(s):Object.keys(i).forEach(a=>s(i[a],a))}}class xw{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function cw(){return new rI([new ow])}let rI=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(null!=a){const u=a.factories.slice();s=s.concat(u)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||cw()),deps:[[n,new br,new wr]]}}find(s){const a=this.factories.find(u=>u.supports(s));if(null!=a)return a;throw new Ae(901,"")}}return n.\u0275prov=Rt({token:n,providedIn:"root",factory:cw}),n})();function dw(){return new iI([new uw])}let iI=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(a){const u=a.factories.slice();s=s.concat(u)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||dw()),deps:[[n,new br,new wr]]}}find(s){const a=this.factories.find(h=>h.supports(s));if(a)return a;throw new Ae(901,"")}}return n.\u0275prov=Rt({token:n,providedIn:"root",factory:dw}),n})();const kw=o(null,"core",[{provide:qm,useValue:"unknown"},{provide:E,deps:[Ms]},{provide:dE,deps:[]},{provide:sE,deps:[]}]);let Fw=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(Me(k))},n.\u0275mod=Kn({type:n}),n.\u0275inj=Tt({}),n})()},3942:($e,pe,P)=>{P.d(pe,{Z:()=>Ae});var g=P(2090),Q=P(4859),x=P(9681),oe=P(1877);class ne{constructor(ue,Ce){this._delegate=ue,this.firebase=Ce,(0,x._addComponent)(ue,new Q.wA("app-compat",()=>this,"PUBLIC")),this.container=ue.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ue){this._delegate.automaticDataCollectionEnabled=ue}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ue=>{this._delegate.checkDestroyed(),ue()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,x.deleteApp)(this._delegate)))}_getService(ue,Ce=x._DEFAULT_ENTRY_NAME){var Le;this._delegate.checkDestroyed();const je=this._delegate.container.getProvider(ue);return!je.isInitialized()&&"EXPLICIT"===(null===(Le=je.getComponent())||void 0===Le?void 0:Le.instantiationMode)&&je.initialize(),je.getImmediate({identifier:Ce})}_removeServiceInstance(ue,Ce=x._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ue).clearInstance(Ce)}_addComponent(ue){(0,x._addComponent)(this._delegate,ue)}_addOrOverwriteComponent(ue){(0,x._addOrOverwriteComponent)(this._delegate,ue)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ae=new g.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function le(){const xe=function ie(xe){const ue={},Ce={__esModule:!0,initializeApp:function Ie(ke,B={}){const ge=x.initializeApp(ke,B);if((0,g.r3)(ue,ge.name))return ue[ge.name];const Z=new xe(ge,Ce);return ue[ge.name]=Z,Z},app:je,registerVersion:x.registerVersion,setLogLevel:x.setLogLevel,onLog:x.onLog,apps:null,SDK_VERSION:x.SDK_VERSION,INTERNAL:{registerComponent:function ve(ke){const B=ke.name,ge=B.replace("-compat","");if(x._registerComponent(ke)&&"PUBLIC"===ke.type){const Z=(re=je())=>{if("function"!=typeof re[ge])throw ae.create("invalid-app-argument",{appName:B});return re[ge]()};void 0!==ke.serviceProps&&(0,g.ZB)(Z,ke.serviceProps),Ce[ge]=Z,xe.prototype[ge]=function(...re){return this._getService.bind(this,B).apply(this,ke.multipleInstances?re:[])}}return"PUBLIC"===ke.type?Ce[ge]:null},removeApp:function Le(ke){delete ue[ke]},useAsService:function Ne(ke,B){return"serverAuth"===B?null:B},modularAPIs:x}};function je(ke){if(!(0,g.r3)(ue,ke=ke||x._DEFAULT_ENTRY_NAME))throw ae.create("no-app",{appName:ke});return ue[ke]}return Ce.default=Ce,Object.defineProperty(Ce,"apps",{get:function me(){return Object.keys(ue).map(ke=>ue[ke])}}),je.App=xe,Ce}(ne);return xe.INTERNAL=Object.assign(Object.assign({},xe.INTERNAL),{createFirebaseNamespace:le,extendNamespace:function ue(Ce){(0,g.ZB)(xe,Ce)},createSubscribe:g.ne,ErrorFactory:g.LL,deepExtend:g.ZB}),xe}(),V=new oe.Yd("@firebase/app-compat");if((0,g.jU)()&&void 0!==self.firebase){V.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const xe=self.firebase.SDK_VERSION;xe&&xe.indexOf("LITE")>=0&&V.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ae=H;!function De(xe){(0,x.registerVersion)("@firebase/app-compat","0.1.25",xe)}()},9681:($e,pe,P)=>{P.r(pe),P.d(pe,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>$r,_DEFAULT_ENTRY_NAME:()=>mt,_addComponent:()=>Ot,_addOrOverwriteComponent:()=>Rt,_apps:()=>Pt,_clearComponents:()=>Hr,_components:()=>rn,_getProvider:()=>Tt,_registerComponent:()=>zn,_removeServiceInstance:()=>_t,deleteApp:()=>et,getApp:()=>er,getApps:()=>Wr,initializeApp:()=>bi,onLog:()=>sn,registerVersion:()=>Jt,setLogLevel:()=>Ti});var g=P(5861),Q=P(4859),x=P(1877),oe=P(2090),ne=P(8766);class de{constructor(Y){this.container=Y}getPlatformInfoString(){return this.container.getProviders().map(Te=>{if(function ae($){const Y=$.getComponent();return"VERSION"===(null==Y?void 0:Y.type)}(Te)){const We=Te.getImmediate();return`${We.library}/${We.version}`}return null}).filter(Te=>Te).join(" ")}}const ie="@firebase/app",H=new x.Yd("@firebase/app"),mt="[DEFAULT]",He={[ie]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Pt=new Map,rn=new Map;function Ot($,Y){try{$.container.addComponent(Y)}catch(Te){H.debug(`Component ${Y.name} failed to register with FirebaseApp ${$.name}`,Te)}}function Rt($,Y){$.container.addOrOverwriteComponent(Y)}function zn($){const Y=$.name;if(rn.has(Y))return H.debug(`There were multiple attempts to register component ${Y}.`),!1;rn.set(Y,$);for(const Te of Pt.values())Ot(Te,$);return!0}function Tt($,Y){const Te=$.container.getProvider("heartbeat").getImmediate({optional:!0});return Te&&Te.triggerHeartbeat(),$.container.getProvider(Y)}function _t($,Y,Te=mt){Tt($,Y).clearInstance(Te)}function Hr(){rn.clear()}const Ln=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Zn{constructor(Y,Te,We){this._isDeleted=!1,this._options=Object.assign({},Y),this._config=Object.assign({},Te),this._name=Te.name,this._automaticDataCollectionEnabled=Te.automaticDataCollectionEnabled,this._container=We,this.container.addComponent(new Q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Y){this.checkDestroyed(),this._automaticDataCollectionEnabled=Y}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Y){this._isDeleted=Y}checkDestroyed(){if(this.isDeleted)throw Ln.create("app-deleted",{appName:this._name})}}const $r="9.8.1";function bi($,Y={}){"object"!=typeof Y&&(Y={name:Y});const Te=Object.assign({name:mt,automaticDataCollectionEnabled:!1},Y),We=Te.name;if("string"!=typeof We||!We)throw Ln.create("bad-app-name",{appName:String(We)});const Je=Pt.get(We);if(Je){if((0,oe.vZ)($,Je.options)&&(0,oe.vZ)(Te,Je.config))return Je;throw Ln.create("duplicate-app",{appName:We})}const lt=new Q.H0(We);for(const st of rn.values())lt.addComponent(st);const Bt=new Zn($,Te,lt);return Pt.set(We,Bt),Bt}function er($=mt){const Y=Pt.get($);if(!Y)throw Ln.create("no-app",{appName:$});return Y}function Wr(){return Array.from(Pt.values())}function et($){return hr.apply(this,arguments)}function hr(){return(hr=(0,g.Z)(function*($){const Y=$.name;Pt.has(Y)&&(Pt.delete(Y),yield Promise.all($.container.getProviders().map(Te=>Te.delete())),$.isDeleted=!0)})).apply(this,arguments)}function Jt($,Y,Te){var We;let Je=null!==(We=He[$])&&void 0!==We?We:$;Te&&(Je+=`-${Te}`);const lt=Je.match(/\s|\//),Bt=Y.match(/\s|\//);if(lt||Bt){const st=[`Unable to register library "${Je}" with version "${Y}":`];return lt&&st.push(`library name "${Je}" contains illegal characters (whitespace or "/")`),lt&&Bt&&st.push("and"),Bt&&st.push(`version name "${Y}" contains illegal characters (whitespace or "/")`),void H.warn(st.join(" "))}zn(new Q.wA(`${Je}-version`,()=>({library:Je,version:Y}),"VERSION"))}function sn($,Y){if(null!==$&&"function"!=typeof $)throw Ln.create("invalid-log-argument");(0,x.Am)($,Y)}function Ti($){(0,x.Ub)($)}const on="firebase-heartbeat-store";let fr=null;function es(){return fr||(fr=(0,ne.X3)("firebase-heartbeat-database",1,{upgrade:($,Y)=>{0===Y&&$.createObjectStore(on)}}).catch($=>{throw Ln.create("storage-open",{originalErrorMessage:$.message})})),fr}function Ze(){return(Ze=(0,g.Z)(function*($){try{return(yield es()).transaction(on).objectStore(on).get(pr($))}catch(Y){throw Ln.create("storage-get",{originalErrorMessage:Y.message})}})).apply(this,arguments)}function it($,Y){return Un.apply(this,arguments)}function Un(){return(Un=(0,g.Z)(function*($,Y){try{const We=(yield es()).transaction(on,"readwrite");return yield We.objectStore(on).put(Y,pr($)),We.done}catch(Te){throw Ln.create("storage-set",{originalErrorMessage:Te.message})}})).apply(this,arguments)}function pr($){return`${$.name}!${$.options.appId}`}class Bn{constructor(Y){this.container=Y,this._heartbeatsCache=null;const Te=this.container.getProvider("app").getImmediate();this._storage=new W(Te),this._heartbeatsCachePromise=this._storage.read().then(We=>(this._heartbeatsCache=We,We))}triggerHeartbeat(){var Y=this;return(0,g.Z)(function*(){const We=Y.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Je=Vn();if(null===Y._heartbeatsCache&&(Y._heartbeatsCache=yield Y._heartbeatsCachePromise),Y._heartbeatsCache.lastSentHeartbeatDate!==Je&&!Y._heartbeatsCache.heartbeats.some(lt=>lt.date===Je))return Y._heartbeatsCache.heartbeats.push({date:Je,agent:We}),Y._heartbeatsCache.heartbeats=Y._heartbeatsCache.heartbeats.filter(lt=>{const Bt=new Date(lt.date).valueOf();return Date.now()-Bt<=2592e6}),Y._storage.overwrite(Y._heartbeatsCache)})()}getHeartbeatsHeader(){var Y=this;return(0,g.Z)(function*(){if(null===Y._heartbeatsCache&&(yield Y._heartbeatsCachePromise),null===Y._heartbeatsCache||0===Y._heartbeatsCache.heartbeats.length)return"";const Te=Vn(),{heartbeatsToSend:We,unsentEntries:Je}=function L($,Y=1024){const Te=[];let We=$.slice();for(const Je of $){const lt=Te.find(Bt=>Bt.agent===Je.agent);if(lt){if(lt.dates.push(Je.date),G(Te)>Y){lt.dates.pop();break}}else if(Te.push({agent:Je.agent,dates:[Je.date]}),G(Te)>Y){Te.pop();break}We=We.slice(1)}return{heartbeatsToSend:Te,unsentEntries:We}}(Y._heartbeatsCache.heartbeats),lt=(0,oe.L)(JSON.stringify({version:2,heartbeats:We}));return Y._heartbeatsCache.lastSentHeartbeatDate=Te,Je.length>0?(Y._heartbeatsCache.heartbeats=Je,yield Y._storage.overwrite(Y._heartbeatsCache)):(Y._heartbeatsCache.heartbeats=[],Y._storage.overwrite(Y._heartbeatsCache)),lt})()}}function Vn(){return(new Date).toISOString().substring(0,10)}class W{constructor(Y){this.app=Y,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,g.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Y=this;return(0,g.Z)(function*(){return(yield Y._canUseIndexedDBPromise)&&(yield function wt($){return Ze.apply(this,arguments)}(Y.app))||{heartbeats:[]}})()}overwrite(Y){var Te=this;return(0,g.Z)(function*(){var We;if(yield Te._canUseIndexedDBPromise){const lt=yield Te.read();return it(Te.app,{lastSentHeartbeatDate:null!==(We=Y.lastSentHeartbeatDate)&&void 0!==We?We:lt.lastSentHeartbeatDate,heartbeats:Y.heartbeats})}})()}add(Y){var Te=this;return(0,g.Z)(function*(){var We;if(yield Te._canUseIndexedDBPromise){const lt=yield Te.read();return it(Te.app,{lastSentHeartbeatDate:null!==(We=Y.lastSentHeartbeatDate)&&void 0!==We?We:lt.lastSentHeartbeatDate,heartbeats:[...lt.heartbeats,...Y.heartbeats]})}})()}}function G($){return(0,oe.L)(JSON.stringify({version:2,heartbeats:$})).length}!function Ee($){zn(new Q.wA("platform-logger",Y=>new de(Y),"PRIVATE")),zn(new Q.wA("heartbeat",Y=>new Bn(Y),"PRIVATE")),Jt(ie,"0.7.24",$),Jt(ie,"0.7.24","esm2017"),Jt("fire-js","")}("")},4859:($e,pe,P)=>{P.d(pe,{wA:()=>x,H0:()=>ie,zt:()=>ne});var g=P(5861),Q=P(2090);class x{constructor(H,V,ee){this.name=H,this.instanceFactory=V,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const oe="[DEFAULT]";class ne{constructor(H,V){this.name=H,this.container=V,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const V=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(V)){const ee=new Q.BH;if(this.instancesDeferred.set(V,ee),this.isInitialized(V)||this.shouldAutoInitialize())try{const Fe=this.getOrInitializeService({instanceIdentifier:V});Fe&&ee.resolve(Fe)}catch(Fe){}}return this.instancesDeferred.get(V).promise}getImmediate(H){var V;const ee=this.normalizeInstanceIdentifier(null==H?void 0:H.identifier),Fe=null!==(V=null==H?void 0:H.optional)&&void 0!==V&&V;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if(Fe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(De){if(Fe)return null;throw De}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if(function ae(le){return"EAGER"===le.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:oe})}catch(V){}for(const[V,ee]of this.instancesDeferred.entries()){const Fe=this.normalizeInstanceIdentifier(V);try{const De=this.getOrInitializeService({instanceIdentifier:Fe});ee.resolve(De)}catch(De){}}}}clearInstance(H=oe){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,g.Z)(function*(){const V=Array.from(H.instances.values());yield Promise.all([...V.filter(ee=>"INTERNAL"in ee).map(ee=>ee.INTERNAL.delete()),...V.filter(ee=>"_delete"in ee).map(ee=>ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=oe){return this.instances.has(H)}getOptions(H=oe){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:V={}}=H,ee=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(ee))throw Error(`${this.name}(${ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Fe=this.getOrInitializeService({instanceIdentifier:ee,options:V});for(const[De,Ae]of this.instancesDeferred.entries())ee===this.normalizeInstanceIdentifier(De)&&Ae.resolve(Fe);return Fe}onInit(H,V){var ee;const Fe=this.normalizeInstanceIdentifier(V),De=null!==(ee=this.onInitCallbacks.get(Fe))&&void 0!==ee?ee:new Set;De.add(H),this.onInitCallbacks.set(Fe,De);const Ae=this.instances.get(Fe);return Ae&&H(Ae,Fe),()=>{De.delete(H)}}invokeOnInitCallbacks(H,V){const ee=this.onInitCallbacks.get(V);if(ee)for(const Fe of ee)try{Fe(H,V)}catch(De){}}getOrInitializeService({instanceIdentifier:H,options:V={}}){let ee=this.instances.get(H);if(!ee&&this.component&&(ee=this.component.instanceFactory(this.container,{instanceIdentifier:(le=H,le===oe?void 0:le),options:V}),this.instances.set(H,ee),this.instancesOptions.set(H,V),this.invokeOnInitCallbacks(ee,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,ee)}catch(Fe){}var le;return ee||null}normalizeInstanceIdentifier(H=oe){return this.component?this.component.multipleInstances?H:oe:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ie{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const V=this.getProvider(H.name);if(V.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);V.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const V=new ne(H,this);return this.providers.set(H,V),V}getProviders(){return Array.from(this.providers.values())}}},1877:($e,pe,P)=>{P.d(pe,{in:()=>Q,Yd:()=>ae,Ub:()=>ie,Am:()=>le});const g=[];var Q=(()=>{return(H=Q||(Q={}))[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",Q;var H})();const x={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},oe=Q.INFO,ne={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},de=(H,V,...ee)=>{if(V<H.logLevel)return;const Fe=(new Date).toISOString(),De=ne[V];if(!De)throw new Error(`Attempted to log a message with an invalid logType (value: ${V})`);console[De](`[${Fe}]  ${H.name}:`,...ee)};class ae{constructor(V){this.name=V,this._logLevel=oe,this._logHandler=de,this._userLogHandler=null,g.push(this)}get logLevel(){return this._logLevel}set logLevel(V){if(!(V in Q))throw new TypeError(`Invalid value "${V}" assigned to \`logLevel\``);this._logLevel=V}setLogLevel(V){this._logLevel="string"==typeof V?x[V]:V}get logHandler(){return this._logHandler}set logHandler(V){if("function"!=typeof V)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=V}get userLogHandler(){return this._userLogHandler}set userLogHandler(V){this._userLogHandler=V}debug(...V){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...V),this._logHandler(this,Q.DEBUG,...V)}log(...V){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...V),this._logHandler(this,Q.VERBOSE,...V)}info(...V){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...V),this._logHandler(this,Q.INFO,...V)}warn(...V){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...V),this._logHandler(this,Q.WARN,...V)}error(...V){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...V),this._logHandler(this,Q.ERROR,...V)}}function ie(H){g.forEach(V=>{V.setLogLevel(H)})}function le(H,V){for(const ee of g){let Fe=null;V&&V.level&&(Fe=x[V.level]),ee.userLogHandler=null===H?null:(De,Ae,...xe)=>{const ue=xe.map(Ce=>{if(null==Ce)return null;if("string"==typeof Ce)return Ce;if("number"==typeof Ce||"boolean"==typeof Ce)return Ce.toString();if(Ce instanceof Error)return Ce.message;try{return JSON.stringify(Ce)}catch(Le){return null}}).filter(Ce=>Ce).join(" ");Ae>=(null!=Fe?Fe:De.logLevel)&&H({level:Q[Ae].toLowerCase(),message:ue,args:xe,type:De.name})}}}},8766:($e,pe,P)=>{P.d(pe,{Lj:()=>Ie,X3:()=>je});var g=P(5861);let x,oe;const ae=new WeakMap,ie=new WeakMap,le=new WeakMap,H=new WeakMap,V=new WeakMap;let De={get(B,ge,Z){if(B instanceof IDBTransaction){if("done"===ge)return ie.get(B);if("objectStoreNames"===ge)return B.objectStoreNames||le.get(B);if("store"===ge)return Z.objectStoreNames[1]?void 0:Z.objectStore(Z.objectStoreNames[0])}return Ce(B[ge])},set:(B,ge,Z)=>(B[ge]=Z,!0),has:(B,ge)=>B instanceof IDBTransaction&&("done"===ge||"store"===ge)||ge in B};function ue(B){return"function"==typeof B?function xe(B){return B!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function de(){return oe||(oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(B)?function(...ge){return B.apply(Le(this),ge),Ce(ae.get(this))}:function(...ge){return Ce(B.apply(Le(this),ge))}:function(ge,...Z){const re=B.call(Le(this),ge,...Z);return le.set(re,ge.sort?ge.sort():[ge]),Ce(re)}}(B):(B instanceof IDBTransaction&&function Fe(B){if(ie.has(B))return;const ge=new Promise((Z,re)=>{const X=()=>{B.removeEventListener("complete",fe),B.removeEventListener("error",se),B.removeEventListener("abort",se)},fe=()=>{Z(),X()},se=()=>{re(B.error||new DOMException("AbortError","AbortError")),X()};B.addEventListener("complete",fe),B.addEventListener("error",se),B.addEventListener("abort",se)});ie.set(B,ge)}(B),((B,ge)=>ge.some(Z=>B instanceof Z))(B,function ne(){return x||(x=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(B,De):B)}function Ce(B){if(B instanceof IDBRequest)return function ee(B){const ge=new Promise((Z,re)=>{const X=()=>{B.removeEventListener("success",fe),B.removeEventListener("error",se)},fe=()=>{Z(Ce(B.result)),X()},se=()=>{re(B.error),X()};B.addEventListener("success",fe),B.addEventListener("error",se)});return ge.then(Z=>{Z instanceof IDBCursor&&ae.set(Z,B)}).catch(()=>{}),V.set(ge,B),ge}(B);if(H.has(B))return H.get(B);const ge=ue(B);return ge!==B&&(H.set(B,ge),V.set(ge,B)),ge}const Le=B=>V.get(B);function je(B,ge,{blocked:Z,upgrade:re,blocking:X,terminated:fe}={}){const se=indexedDB.open(B,ge),Se=Ce(se);return re&&se.addEventListener("upgradeneeded",qe=>{re(Ce(se.result),qe.oldVersion,qe.newVersion,Ce(se.transaction))}),Z&&se.addEventListener("blocked",()=>Z()),Se.then(qe=>{fe&&qe.addEventListener("close",()=>fe()),X&&qe.addEventListener("versionchange",()=>X())}).catch(()=>{}),Se}function Ie(B,{blocked:ge}={}){const Z=indexedDB.deleteDatabase(B);return ge&&Z.addEventListener("blocked",()=>ge()),Ce(Z).then(()=>{})}const me=["get","getKey","getAll","getAllKeys","count"],ve=["put","add","delete","clear"],Ne=new Map;function ke(B,ge){if(!(B instanceof IDBDatabase)||ge in B||"string"!=typeof ge)return;if(Ne.get(ge))return Ne.get(ge);const Z=ge.replace(/FromIndex$/,""),re=ge!==Z,X=ve.includes(Z);if(!(Z in(re?IDBIndex:IDBObjectStore).prototype)||!X&&!me.includes(Z))return;const fe=function(){var se=(0,g.Z)(function*(Se,...qe){const It=this.transaction(Se,X?"readwrite":"readonly");let mt=It.store;return re&&(mt=mt.index(qe.shift())),(yield Promise.all([mt[Z](...qe),X&&It.done]))[0]});return function(qe){return se.apply(this,arguments)}}();return Ne.set(ge,fe),fe}!function Ae(B){De=B(De)}(B=>gw(pw({},B),{get:(ge,Z,re)=>ke(ge,Z)||B.get(ge,Z,re),has:(ge,Z)=>!!ke(ge,Z)||B.has(ge,Z)}))},5861:($e,pe,P)=>{function g(x,oe,ne,de,ae,ie,le){try{var H=x[ie](le),V=H.value}catch(ee){return void ne(ee)}H.done?oe(V):Promise.resolve(V).then(de,ae)}function Q(x){return function(){var oe=this,ne=arguments;return new Promise(function(de,ae){var ie=x.apply(oe,ne);function le(V){g(ie,de,ae,le,H,"next",V)}function H(V){g(ie,de,ae,le,H,"throw",V)}le(void 0)})}}P.d(pe,{Z:()=>Q})}},$e=>{$e($e.s=5722)}]);